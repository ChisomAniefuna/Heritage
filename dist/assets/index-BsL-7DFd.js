var vC=Object.defineProperty;var G1=r=>{throw TypeError(r)};var wC=(r,e,t)=>e in r?vC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var I=(r,e,t)=>wC(r,typeof e!="symbol"?e+"":e,t),Fx=(r,e,t)=>e.has(r)||G1("Cannot "+t);var v=(r,e,t)=>(Fx(r,e,"read from private field"),t?t.call(r):e.get(r)),L=(r,e,t)=>e.has(r)?G1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),j=(r,e,t,n)=>(Fx(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),K=(r,e,t)=>(Fx(r,e,"access private method"),t);var mu=(r,e,t,n)=>({set _(s){j(r,e,s,t)},get _(){return v(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _C(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function eE(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var tE={exports:{}},Sp={},rE={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.element"),SC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),EC=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),K1=Symbol.iterator;function IC(r){return r===null||typeof r!="object"?null:(r=K1&&r[K1]||r["@@iterator"],typeof r=="function"?r:null)}var nE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sE=Object.assign,iE={};function qc(r,e,t){this.props=r,this.context=e,this.refs=iE,this.updater=t||nE}qc.prototype.isReactComponent={};qc.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};qc.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function aE(){}aE.prototype=qc.prototype;function Iv(r,e,t){this.props=r,this.context=e,this.refs=iE,this.updater=t||nE}var Ov=Iv.prototype=new aE;Ov.constructor=Iv;sE(Ov,qc.prototype);Ov.isPureReactComponent=!0;var W1=Array.isArray,oE=Object.prototype.hasOwnProperty,Mv={current:null},lE={key:!0,ref:!0,__self:!0,__source:!0};function cE(r,e,t){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)oE.call(e,n)&&!lE.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(r&&r.defaultProps)for(n in l=r.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:vf,type:r,key:i,ref:a,props:s,_owner:Mv.current}}function OC(r,e){return{$$typeof:vf,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Lv(r){return typeof r=="object"&&r!==null&&r.$$typeof===vf}function MC(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var X1=/\/+/g;function Ux(r,e){return typeof r=="object"&&r!==null&&r.key!=null?MC(""+r.key):e.toString(36)}function Mh(r,e,t,n,s){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case vf:case SC:a=!0}}if(a)return a=r,s=s(a),r=n===""?"."+Ux(a,0):n,W1(s)?(t="",r!=null&&(t=r.replace(X1,"$&/")+"/"),Mh(s,e,t,"",function(u){return u})):s!=null&&(Lv(s)&&(s=OC(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(X1,"$&/")+"/")+r)),e.push(s)),1;if(a=0,n=n===""?".":n+":",W1(r))for(var l=0;l<r.length;l++){i=r[l];var c=n+Ux(i,l);a+=Mh(i,e,t,c,s)}else if(c=IC(r),typeof c=="function")for(r=c.call(r),l=0;!(i=r.next()).done;)i=i.value,c=n+Ux(i,l++),a+=Mh(i,e,t,c,s);else if(i==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bf(r,e,t){if(r==null)return r;var n=[],s=0;return Mh(r,n,"","",function(i){return e.call(t,i,s++)}),n}function LC(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var ur={current:null},Lh={transition:null},DC={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:Mv};function uE(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Bf,forEach:function(r,e,t){Bf(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Bf(r,function(){e++}),e},toArray:function(r){return Bf(r,function(e){return e})||[]},only:function(r){if(!Lv(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Ee.Component=qc;Ee.Fragment=NC;Ee.Profiler=jC;Ee.PureComponent=Iv;Ee.StrictMode=EC;Ee.Suspense=PC;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DC;Ee.act=uE;Ee.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=sE({},r.props),s=r.key,i=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Mv.current),e.key!==void 0&&(s=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(c in e)oE.call(e,c)&&!lE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=t;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vf,type:r.type,key:s,ref:i,props:n,_owner:a}};Ee.createContext=function(r){return r={$$typeof:CC,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:AC,_context:r},r.Consumer=r};Ee.createElement=cE;Ee.createFactory=function(r){var e=cE.bind(null,r);return e.type=r,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(r){return{$$typeof:kC,render:r}};Ee.isValidElement=Lv;Ee.lazy=function(r){return{$$typeof:RC,_payload:{_status:-1,_result:r},_init:LC}};Ee.memo=function(r,e){return{$$typeof:TC,type:r,compare:e===void 0?null:e}};Ee.startTransition=function(r){var e=Lh.transition;Lh.transition={};try{r()}finally{Lh.transition=e}};Ee.unstable_act=uE;Ee.useCallback=function(r,e){return ur.current.useCallback(r,e)};Ee.useContext=function(r){return ur.current.useContext(r)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(r){return ur.current.useDeferredValue(r)};Ee.useEffect=function(r,e){return ur.current.useEffect(r,e)};Ee.useId=function(){return ur.current.useId()};Ee.useImperativeHandle=function(r,e,t){return ur.current.useImperativeHandle(r,e,t)};Ee.useInsertionEffect=function(r,e){return ur.current.useInsertionEffect(r,e)};Ee.useLayoutEffect=function(r,e){return ur.current.useLayoutEffect(r,e)};Ee.useMemo=function(r,e){return ur.current.useMemo(r,e)};Ee.useReducer=function(r,e,t){return ur.current.useReducer(r,e,t)};Ee.useRef=function(r){return ur.current.useRef(r)};Ee.useState=function(r){return ur.current.useState(r)};Ee.useSyncExternalStore=function(r,e,t){return ur.current.useSyncExternalStore(r,e,t)};Ee.useTransition=function(){return ur.current.useTransition()};Ee.version="18.3.1";rE.exports=Ee;var M=rE.exports;const Dv=_C(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=M,UC=Symbol.for("react.element"),BC=Symbol.for("react.fragment"),$C=Object.prototype.hasOwnProperty,zC=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function dE(r,e,t){var n,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)$C.call(e,n)&&!VC.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:UC,type:r,key:i,ref:a,props:s,_owner:zC.current}}Sp.Fragment=BC;Sp.jsx=dE;Sp.jsxs=dE;tE.exports=Sp;var o=tE.exports,fE={exports:{}},Br={},hE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(P,F){var T=P.length;P.push(F);e:for(;0<T;){var W=T-1>>>1,G=P[W];if(0<s(G,F))P[W]=F,P[T]=G,T=W;else break e}}function t(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var F=P[0],T=P.pop();if(T!==F){P[0]=T;e:for(var W=0,G=P.length,pe=G>>>1;W<pe;){var X=2*(W+1)-1,he=P[X],le=X+1,$e=P[le];if(0>s(he,T))le<G&&0>s($e,he)?(P[W]=$e,P[le]=T,W=le):(P[W]=he,P[X]=T,W=X);else if(le<G&&0>s($e,T))P[W]=$e,P[le]=T,W=le;else break e}}return F}function s(P,F){var T=P.sortIndex-F.sortIndex;return T!==0?T:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var F=t(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=P)n(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=t(u)}}function E(P){if(x=!1,m(P),!g)if(t(c)!==null)g=!0,O(S);else{var F=t(u);F!==null&&Z(E,F.startTime-P)}}function S(P,F){g=!1,x&&(x=!1,b(R),R=-1),p=!0;var T=h;try{for(m(F),f=t(c);f!==null&&(!(f.expirationTime>F)||P&&!J());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=F);F=r.unstable_now(),typeof G=="function"?f.callback=G:f===t(c)&&n(c),m(F)}else n(c);f=t(c)}if(f!==null)var pe=!0;else{var X=t(u);X!==null&&Z(E,X.startTime-F),pe=!1}return pe}finally{f=null,h=T,p=!1}}var N=!1,k=null,R=-1,U=5,B=-1;function J(){return!(r.unstable_now()-B<U)}function Q(){if(k!==null){var P=r.unstable_now();B=P;var F=!0;try{F=k(!0,P)}finally{F?Y():(N=!1,k=null)}}else N=!1}var Y;if(typeof y=="function")Y=function(){y(Q)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,A=oe.port2;oe.port1.onmessage=Q,Y=function(){A.postMessage(null)}}else Y=function(){_(Q,0)};function O(P){k=P,N||(N=!0,Y())}function Z(P,F){R=_(function(){P(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_continueExecution=function(){g||p||(g=!0,O(S))},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(P){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var T=h;h=F;try{return P()}finally{h=T}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var T=h;h=P;try{return F()}finally{h=T}},r.unstable_scheduleCallback=function(P,F,T){var W=r.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?W+T:W):T=W,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=T+G,P={id:d++,callback:F,priorityLevel:P,startTime:T,expirationTime:G,sortIndex:-1},T>W?(P.sortIndex=T,e(u,P),t(c)===null&&P===t(u)&&(x?(b(R),R=-1):x=!0,Z(E,T-W))):(P.sortIndex=G,e(c,P),g||p||(g=!0,O(S))),P},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(P){var F=h;return function(){var T=h;h=F;try{return P.apply(this,arguments)}finally{h=T}}}})(pE);hE.exports=pE;var HC=hE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=M,Ur=HC;function H(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mE=new Set,_d={};function Po(r,e){kc(r,e),kc(r+"Capture",e)}function kc(r,e){for(_d[r]=e,r=0;r<e.length;r++)mE.add(e[r])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ty=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J1={},Q1={};function WC(r){return Ty.call(Q1,r)?!0:Ty.call(J1,r)?!1:KC.test(r)?Q1[r]=!0:(J1[r]=!0,!1)}function XC(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function JC(r,e,t,n){if(e===null||typeof e>"u"||XC(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(r,e,t,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){zt[r]=new dr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];zt[e]=new dr(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){zt[r]=new dr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){zt[r]=new dr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){zt[r]=new dr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){zt[r]=new dr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){zt[r]=new dr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){zt[r]=new dr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){zt[r]=new dr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Fv=/[\-:]([a-z])/g;function Uv(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Fv,Uv);zt[e]=new dr(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Fv,Uv);zt[e]=new dr(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Fv,Uv);zt[e]=new dr(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){zt[r]=new dr(r,1,!1,r.toLowerCase(),null,!1,!1)});zt.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){zt[r]=new dr(r,1,!1,r.toLowerCase(),null,!0,!0)});function Bv(r,e,t,n){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JC(e,t,s,n)&&(t=null),n||s===null?WC(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):s.mustUseProperty?r[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,n=s.attributeNamespace,t===null?r.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var ui=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$f=Symbol.for("react.element"),ul=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Ry=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),gE=Symbol.for("react.context"),zv=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Oy=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),yE=Symbol.for("react.offscreen"),Y1=Symbol.iterator;function xu(r){return r===null||typeof r!="object"?null:(r=Y1&&r[Y1]||r["@@iterator"],typeof r=="function"?r:null)}var it=Object.assign,Bx;function Fu(r){if(Bx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Bx=e&&e[1]||""}return`
`+Bx+r}var $x=!1;function zx(r,e){if(!r||$x)return"";$x=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(r,[],e)}else{try{e.call()}catch(u){n=u}r.call(e.prototype)}else{try{throw Error()}catch(u){n=u}r()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return r.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",r.displayName)),c}while(1<=a&&0<=l);break}}}finally{$x=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Fu(r):""}function QC(r){switch(r.tag){case 5:return Fu(r.type);case 16:return Fu("Lazy");case 13:return Fu("Suspense");case 19:return Fu("SuspenseList");case 0:case 2:case 15:return r=zx(r.type,!1),r;case 11:return r=zx(r.type.render,!1),r;case 1:return r=zx(r.type,!0),r;default:return""}}function My(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case dl:return"Fragment";case ul:return"Portal";case Ry:return"Profiler";case $v:return"StrictMode";case Iy:return"Suspense";case Oy:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case gE:return(r.displayName||"Context")+".Consumer";case xE:return(r._context.displayName||"Context")+".Provider";case zv:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Vv:return e=r.displayName||null,e!==null?e:My(r.type)||"Memo";case Ei:e=r._payload,r=r._init;try{return My(r(e))}catch{}}return null}function YC(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return My(e);case 8:return e===$v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oa(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bE(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZC(r){var e=bE(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function zf(r){r._valueTracker||(r._valueTracker=ZC(r))}function vE(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=bE(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function y0(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ly(r,e){var t=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function Z1(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=oa(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wE(r,e){e=e.checked,e!=null&&Bv(r,"checked",e,!1)}function Dy(r,e){wE(r,e);var t=oa(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?Fy(r,e.type,t):e.hasOwnProperty("defaultValue")&&Fy(r,e.type,oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function q1(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function Fy(r,e,t){(e!=="number"||y0(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Uu=Array.isArray;function Cl(r,e,t,n){if(r=r.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<r.length;t++)s=e.hasOwnProperty("$"+r[t].value),r[t].selected!==s&&(r[t].selected=s),s&&n&&(r[t].defaultSelected=!0)}else{for(t=""+oa(t),e=null,s=0;s<r.length;s++){if(r[s].value===t){r[s].selected=!0,n&&(r[s].defaultSelected=!0);return}e!==null||r[s].disabled||(e=r[s])}e!==null&&(e.selected=!0)}}function Uy(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function e2(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(H(92));if(Uu(t)){if(1<t.length)throw Error(H(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:oa(t)}}function _E(r,e){var t=oa(e.value),n=oa(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function t2(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function SE(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function By(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?SE(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vf,NE=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,s)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Sd(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qC=["Webkit","ms","Moz","O"];Object.keys(Zu).forEach(function(r){qC.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Zu[e]=Zu[r]})});function EE(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Zu.hasOwnProperty(r)&&Zu[r]?(""+e).trim():e+"px"}function jE(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,s=EE(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,s):r[t]=s}}var ek=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $y(r,e){if(e){if(ek[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function zy(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=null;function Hv(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hy=null,kl=null,Pl=null;function r2(r){if(r=Sf(r)){if(typeof Hy!="function")throw Error(H(280));var e=r.stateNode;e&&(e=Cp(e),Hy(r.stateNode,r.type,e))}}function AE(r){kl?Pl?Pl.push(r):Pl=[r]:kl=r}function CE(){if(kl){var r=kl,e=Pl;if(Pl=kl=null,r2(r),e)for(r=0;r<e.length;r++)r2(e[r])}}function kE(r,e){return r(e)}function PE(){}var Vx=!1;function TE(r,e,t){if(Vx)return r(e,t);Vx=!0;try{return kE(r,e,t)}finally{Vx=!1,(kl!==null||Pl!==null)&&(PE(),CE())}}function Nd(r,e){var t=r.stateNode;if(t===null)return null;var n=Cp(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(H(231,e,typeof t));return t}var Gy=!1;if(qs)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){Gy=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{Gy=!1}function tk(r,e,t,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var qu=!1,b0=null,v0=!1,Ky=null,rk={onError:function(r){qu=!0,b0=r}};function nk(r,e,t,n,s,i,a,l,c){qu=!1,b0=null,tk.apply(rk,arguments)}function sk(r,e,t,n,s,i,a,l,c){if(nk.apply(this,arguments),qu){if(qu){var u=b0;qu=!1,b0=null}else throw Error(H(198));v0||(v0=!0,Ky=u)}}function To(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function RE(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function n2(r){if(To(r)!==r)throw Error(H(188))}function ik(r){var e=r.alternate;if(!e){if(e=To(r),e===null)throw Error(H(188));return e!==r?null:r}for(var t=r,n=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){t=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return n2(s),r;if(i===n)return n2(s),e;i=i.sibling}throw Error(H(188))}if(t.return!==n.return)t=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===t){a=!0,t=s,n=i;break}if(l===n){a=!0,n=s,t=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===t){a=!0,t=i,n=s;break}if(l===n){a=!0,n=i,t=s;break}l=l.sibling}if(!a)throw Error(H(189))}}if(t.alternate!==n)throw Error(H(190))}if(t.tag!==3)throw Error(H(188));return t.stateNode.current===t?r:e}function IE(r){return r=ik(r),r!==null?OE(r):null}function OE(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=OE(r);if(e!==null)return e;r=r.sibling}return null}var ME=Ur.unstable_scheduleCallback,s2=Ur.unstable_cancelCallback,ak=Ur.unstable_shouldYield,ok=Ur.unstable_requestPaint,ut=Ur.unstable_now,lk=Ur.unstable_getCurrentPriorityLevel,Gv=Ur.unstable_ImmediatePriority,LE=Ur.unstable_UserBlockingPriority,w0=Ur.unstable_NormalPriority,ck=Ur.unstable_LowPriority,DE=Ur.unstable_IdlePriority,Np=null,ms=null;function uk(r){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(Np,r,void 0,(r.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:hk,dk=Math.log,fk=Math.LN2;function hk(r){return r>>>=0,r===0?32:31-(dk(r)/fk|0)|0}var Hf=64,Gf=4194304;function Bu(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _0(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,s=r.suspendedLanes,i=r.pingedLanes,a=t&268435455;if(a!==0){var l=a&~s;l!==0?n=Bu(l):(i&=a,i!==0&&(n=Bu(i)))}else a=t&~s,a!==0?n=Bu(a):i!==0&&(n=Bu(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-On(e),s=1<<t,n|=r[t],e&=~s;return n}function pk(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mk(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,s=r.expirationTimes,i=r.pendingLanes;0<i;){var a=31-On(i),l=1<<a,c=s[a];c===-1?(!(l&t)||l&n)&&(s[a]=pk(l,e)):c<=e&&(r.expiredLanes|=l),i&=~l}}function Wy(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function FE(){var r=Hf;return Hf<<=1,!(Hf&4194240)&&(Hf=64),r}function Hx(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function wf(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-On(e),r[e]=t}function xk(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var s=31-On(t),i=1<<s;e[s]=0,n[s]=-1,r[s]=-1,t&=~i}}function Kv(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-On(t),s=1<<n;s&e|r[n]&e&&(r[n]|=e),t&=~s}}var De=0;function UE(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var BE,Wv,$E,zE,VE,Xy=!1,Kf=[],Yi=null,Zi=null,qi=null,Ed=new Map,jd=new Map,Ci=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i2(r,e){switch(r){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(e.pointerId)}}function yu(r,e,t,n,s,i){return r===null||r.nativeEvent!==i?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sf(e),e!==null&&Wv(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),r)}function yk(r,e,t,n,s){switch(e){case"focusin":return Yi=yu(Yi,r,e,t,n,s),!0;case"dragenter":return Zi=yu(Zi,r,e,t,n,s),!0;case"mouseover":return qi=yu(qi,r,e,t,n,s),!0;case"pointerover":var i=s.pointerId;return Ed.set(i,yu(Ed.get(i)||null,r,e,t,n,s)),!0;case"gotpointercapture":return i=s.pointerId,jd.set(i,yu(jd.get(i)||null,r,e,t,n,s)),!0}return!1}function HE(r){var e=Ma(r.target);if(e!==null){var t=To(e);if(t!==null){if(e=t.tag,e===13){if(e=RE(t),e!==null){r.blockedOn=e,VE(r.priority,function(){$E(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dh(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Jy(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);Vy=n,t.target.dispatchEvent(n),Vy=null}else return e=Sf(t),e!==null&&Wv(e),r.blockedOn=t,!1;e.shift()}return!0}function a2(r,e,t){Dh(r)&&t.delete(e)}function bk(){Xy=!1,Yi!==null&&Dh(Yi)&&(Yi=null),Zi!==null&&Dh(Zi)&&(Zi=null),qi!==null&&Dh(qi)&&(qi=null),Ed.forEach(a2),jd.forEach(a2)}function bu(r,e){r.blockedOn===e&&(r.blockedOn=null,Xy||(Xy=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,bk)))}function Ad(r){function e(s){return bu(s,r)}if(0<Kf.length){bu(Kf[0],r);for(var t=1;t<Kf.length;t++){var n=Kf[t];n.blockedOn===r&&(n.blockedOn=null)}}for(Yi!==null&&bu(Yi,r),Zi!==null&&bu(Zi,r),qi!==null&&bu(qi,r),Ed.forEach(e),jd.forEach(e),t=0;t<Ci.length;t++)n=Ci[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<Ci.length&&(t=Ci[0],t.blockedOn===null);)HE(t),t.blockedOn===null&&Ci.shift()}var Tl=ui.ReactCurrentBatchConfig,S0=!0;function vk(r,e,t,n){var s=De,i=Tl.transition;Tl.transition=null;try{De=1,Xv(r,e,t,n)}finally{De=s,Tl.transition=i}}function wk(r,e,t,n){var s=De,i=Tl.transition;Tl.transition=null;try{De=4,Xv(r,e,t,n)}finally{De=s,Tl.transition=i}}function Xv(r,e,t,n){if(S0){var s=Jy(r,e,t,n);if(s===null)eg(r,e,n,N0,t),i2(r,n);else if(yk(s,r,e,t,n))n.stopPropagation();else if(i2(r,n),e&4&&-1<gk.indexOf(r)){for(;s!==null;){var i=Sf(s);if(i!==null&&BE(i),i=Jy(r,e,t,n),i===null&&eg(r,e,n,N0,t),i===s)break;s=i}s!==null&&n.stopPropagation()}else eg(r,e,n,null,t)}}var N0=null;function Jy(r,e,t,n){if(N0=null,r=Hv(n),r=Ma(r),r!==null)if(e=To(r),e===null)r=null;else if(t=e.tag,t===13){if(r=RE(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return N0=r,null}function GE(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lk()){case Gv:return 1;case LE:return 4;case w0:case ck:return 16;case DE:return 536870912;default:return 16}default:return 16}}var Xi=null,Jv=null,Fh=null;function KE(){if(Fh)return Fh;var r,e=Jv,t=e.length,n,s="value"in Xi?Xi.value:Xi.textContent,i=s.length;for(r=0;r<t&&e[r]===s[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===s[i-n];n++);return Fh=s.slice(r,1<n?1-n:void 0)}function Uh(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Wf(){return!0}function o2(){return!1}function $r(r){function e(t,n,s,i,a){this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wf:o2,this.isPropagationStopped=o2,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=$r(eu),_f=it({},eu,{view:0,detail:0}),_k=$r(_f),Gx,Kx,vu,Ep=it({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vu&&(vu&&r.type==="mousemove"?(Gx=r.screenX-vu.screenX,Kx=r.screenY-vu.screenY):Kx=Gx=0,vu=r),Gx)},movementY:function(r){return"movementY"in r?r.movementY:Kx}}),l2=$r(Ep),Sk=it({},Ep,{dataTransfer:0}),Nk=$r(Sk),Ek=it({},_f,{relatedTarget:0}),Wx=$r(Ek),jk=it({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),Ak=$r(jk),Ck=it({},eu,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),kk=$r(Ck),Pk=it({},eu,{data:0}),c2=$r(Pk),Tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ok(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=Ik[r])?!!e[r]:!1}function Yv(){return Ok}var Mk=it({},_f,{key:function(r){if(r.key){var e=Tk[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Uh(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rk[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(r){return r.type==="keypress"?Uh(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Uh(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Lk=$r(Mk),Dk=it({},Ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u2=$r(Dk),Fk=it({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),Uk=$r(Fk),Bk=it({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=$r(Bk),zk=it({},Ep,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Vk=$r(zk),Hk=[9,13,27,32],Zv=qs&&"CompositionEvent"in window,ed=null;qs&&"documentMode"in document&&(ed=document.documentMode);var Gk=qs&&"TextEvent"in window&&!ed,WE=qs&&(!Zv||ed&&8<ed&&11>=ed),d2=" ",f2=!1;function XE(r,e){switch(r){case"keyup":return Hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JE(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fl=!1;function Kk(r,e){switch(r){case"compositionend":return JE(e);case"keypress":return e.which!==32?null:(f2=!0,d2);case"textInput":return r=e.data,r===d2&&f2?null:r;default:return null}}function Wk(r,e){if(fl)return r==="compositionend"||!Zv&&XE(r,e)?(r=KE(),Fh=Jv=Xi=null,fl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WE&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h2(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!Xk[r.type]:e==="textarea"}function QE(r,e,t,n){AE(n),e=E0(e,"onChange"),0<e.length&&(t=new Qv("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var td=null,Cd=null;function Jk(r){o4(r,0)}function jp(r){var e=ml(r);if(vE(e))return r}function Qk(r,e){if(r==="change")return e}var YE=!1;if(qs){var Xx;if(qs){var Jx="oninput"in document;if(!Jx){var p2=document.createElement("div");p2.setAttribute("oninput","return;"),Jx=typeof p2.oninput=="function"}Xx=Jx}else Xx=!1;YE=Xx&&(!document.documentMode||9<document.documentMode)}function m2(){td&&(td.detachEvent("onpropertychange",ZE),Cd=td=null)}function ZE(r){if(r.propertyName==="value"&&jp(Cd)){var e=[];QE(e,Cd,r,Hv(r)),TE(Jk,e)}}function Yk(r,e,t){r==="focusin"?(m2(),td=e,Cd=t,td.attachEvent("onpropertychange",ZE)):r==="focusout"&&m2()}function Zk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jp(Cd)}function qk(r,e){if(r==="click")return jp(e)}function eP(r,e){if(r==="input"||r==="change")return jp(e)}function tP(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Ln=typeof Object.is=="function"?Object.is:tP;function kd(r,e){if(Ln(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var s=t[n];if(!Ty.call(e,s)||!Ln(r[s],e[s]))return!1}return!0}function x2(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function g2(r,e){var t=x2(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=x2(t)}}function qE(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?qE(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function e4(){for(var r=window,e=y0();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=y0(r.document)}return e}function qv(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function rP(r){var e=e4(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&qE(t.ownerDocument.documentElement,t)){if(n!==null&&qv(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var s=t.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!r.extend&&i>n&&(s=n,n=i,i=s),s=g2(t,i);var a=g2(t,n);s&&a&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),r.removeAllRanges(),i>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var nP=qs&&"documentMode"in document&&11>=document.documentMode,hl=null,Qy=null,rd=null,Yy=!1;function y2(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Yy||hl==null||hl!==y0(n)||(n=hl,"selectionStart"in n&&qv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rd&&kd(rd,n)||(rd=n,n=E0(Qy,"onSelect"),0<n.length&&(e=new Qv("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=hl)))}function Xf(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var pl={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},Qx={},t4={};qs&&(t4=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Ap(r){if(Qx[r])return Qx[r];if(!pl[r])return r;var e=pl[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in t4)return Qx[r]=e[t];return r}var r4=Ap("animationend"),n4=Ap("animationiteration"),s4=Ap("animationstart"),i4=Ap("transitionend"),a4=new Map,b2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(r,e){a4.set(r,e),Po(e,[r])}for(var Yx=0;Yx<b2.length;Yx++){var Zx=b2[Yx],sP=Zx.toLowerCase(),iP=Zx[0].toUpperCase()+Zx.slice(1);da(sP,"on"+iP)}da(r4,"onAnimationEnd");da(n4,"onAnimationIteration");da(s4,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(i4,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function v2(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,sk(n,e,void 0,r),r.currentTarget=null}function o4(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;v2(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;v2(s,l,u),i=c}}}if(v0)throw r=Ky,v0=!1,Ky=null,r}function Ge(r,e){var t=e[rb];t===void 0&&(t=e[rb]=new Set);var n=r+"__bubble";t.has(n)||(l4(e,r,2,!1),t.add(n))}function qx(r,e,t){var n=0;e&&(n|=4),l4(t,r,n,e)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function Pd(r){if(!r[Jf]){r[Jf]=!0,mE.forEach(function(t){t!=="selectionchange"&&(aP.has(t)||qx(t,!1,r),qx(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Jf]||(e[Jf]=!0,qx("selectionchange",!1,e))}}function l4(r,e,t,n){switch(GE(e)){case 1:var s=vk;break;case 4:s=wk;break;default:s=Xv}t=s.bind(null,e,t,r),s=void 0,!Gy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?r.addEventListener(e,t,{capture:!0,passive:s}):r.addEventListener(e,t,!0):s!==void 0?r.addEventListener(e,t,{passive:s}):r.addEventListener(e,t,!1)}function eg(r,e,t,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ma(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}TE(function(){var u=i,d=Hv(t),f=[];e:{var h=a4.get(r);if(h!==void 0){var p=Qv,g=r;switch(r){case"keypress":if(Uh(t)===0)break e;case"keydown":case"keyup":p=Lk;break;case"focusin":g="focus",p=Wx;break;case"focusout":g="blur",p=Wx;break;case"beforeblur":case"afterblur":p=Wx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=l2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Uk;break;case r4:case n4:case s4:p=Ak;break;case i4:p=$k;break;case"scroll":p=_k;break;case"wheel":p=Vk;break;case"copy":case"cut":case"paste":p=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=u2}var x=(e&4)!==0,_=!x&&r==="scroll",b=x?h!==null?h+"Capture":null:h;x=[];for(var y=u,m;y!==null;){m=y;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,b!==null&&(E=Nd(y,b),E!=null&&x.push(Td(y,E,m)))),_)break;y=y.return}0<x.length&&(h=new p(h,g,null,t,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",h&&t!==Vy&&(g=t.relatedTarget||t.fromElement)&&(Ma(g)||g[ei]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?Ma(g):null,g!==null&&(_=To(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=l2,E="onMouseLeave",b="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(x=u2,E="onPointerLeave",b="onPointerEnter",y="pointer"),_=p==null?h:ml(p),m=g==null?h:ml(g),h=new x(E,y+"leave",p,t,d),h.target=_,h.relatedTarget=m,E=null,Ma(d)===u&&(x=new x(b,y+"enter",g,t,d),x.target=m,x.relatedTarget=_,E=x),_=E,p&&g)t:{for(x=p,b=g,y=0,m=x;m;m=Fo(m))y++;for(m=0,E=b;E;E=Fo(E))m++;for(;0<y-m;)x=Fo(x),y--;for(;0<m-y;)b=Fo(b),m--;for(;y--;){if(x===b||b!==null&&x===b.alternate)break t;x=Fo(x),b=Fo(b)}x=null}else x=null;p!==null&&w2(f,h,p,x,!1),g!==null&&_!==null&&w2(f,_,g,x,!0)}}e:{if(h=u?ml(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=Qk;else if(h2(h))if(YE)S=eP;else{S=Zk;var N=Yk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=qk);if(S&&(S=S(r,u))){QE(f,S,t,d);break e}N&&N(r,h,u),r==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Fy(h,"number",h.value)}switch(N=u?ml(u):window,r){case"focusin":(h2(N)||N.contentEditable==="true")&&(hl=N,Qy=u,rd=null);break;case"focusout":rd=Qy=hl=null;break;case"mousedown":Yy=!0;break;case"contextmenu":case"mouseup":case"dragend":Yy=!1,y2(f,t,d);break;case"selectionchange":if(nP)break;case"keydown":case"keyup":y2(f,t,d)}var k;if(Zv)e:{switch(r){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fl?XE(r,t)&&(R="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(WE&&t.locale!=="ko"&&(fl||R!=="onCompositionStart"?R==="onCompositionEnd"&&fl&&(k=KE()):(Xi=d,Jv="value"in Xi?Xi.value:Xi.textContent,fl=!0)),N=E0(u,R),0<N.length&&(R=new c2(R,r,null,t,d),f.push({event:R,listeners:N}),k?R.data=k:(k=JE(t),k!==null&&(R.data=k)))),(k=Gk?Kk(r,t):Wk(r,t))&&(u=E0(u,"onBeforeInput"),0<u.length&&(d=new c2("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:u}),d.data=k))}o4(f,e)})}function Td(r,e,t){return{instance:r,listener:e,currentTarget:t}}function E0(r,e){for(var t=e+"Capture",n=[];r!==null;){var s=r,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nd(r,t),i!=null&&n.unshift(Td(r,i,s)),i=Nd(r,e),i!=null&&n.push(Td(r,i,s))),r=r.return}return n}function Fo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function w2(r,e,t,n,s){for(var i=e._reactName,a=[];t!==null&&t!==n;){var l=t,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Nd(t,i),c!=null&&a.unshift(Td(t,c,l))):s||(c=Nd(t,i),c!=null&&a.push(Td(t,c,l)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var oP=/\r\n?/g,lP=/\u0000|\uFFFD/g;function _2(r){return(typeof r=="string"?r:""+r).replace(oP,`
`).replace(lP,"")}function Qf(r,e,t){if(e=_2(e),_2(r)!==e&&t)throw Error(H(425))}function j0(){}var Zy=null,qy=null;function eb(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tb=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,S2=typeof Promise=="function"?Promise:void 0,uP=typeof queueMicrotask=="function"?queueMicrotask:typeof S2<"u"?function(r){return S2.resolve(null).then(r).catch(dP)}:tb;function dP(r){setTimeout(function(){throw r})}function tg(r,e){var t=e,n=0;do{var s=t.nextSibling;if(r.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(n===0){r.removeChild(s),Ad(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=s}while(t);Ad(e)}function ea(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function N2(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var tu=Math.random().toString(36).slice(2),us="__reactFiber$"+tu,Rd="__reactProps$"+tu,ei="__reactContainer$"+tu,rb="__reactEvents$"+tu,fP="__reactListeners$"+tu,hP="__reactHandles$"+tu;function Ma(r){var e=r[us];if(e)return e;for(var t=r.parentNode;t;){if(e=t[ei]||t[us]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=N2(r);r!==null;){if(t=r[us])return t;r=N2(r)}return e}r=t,t=r.parentNode}return null}function Sf(r){return r=r[us]||r[ei],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ml(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(H(33))}function Cp(r){return r[Rd]||null}var nb=[],xl=-1;function fa(r){return{current:r}}function We(r){0>xl||(r.current=nb[xl],nb[xl]=null,xl--)}function Ve(r,e){xl++,nb[xl]=r.current,r.current=e}var la={},rr=fa(la),_r=fa(!1),go=la;function Pc(r,e){var t=r.type.contextTypes;if(!t)return la;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=s),s}function Sr(r){return r=r.childContextTypes,r!=null}function A0(){We(_r),We(rr)}function E2(r,e,t){if(rr.current!==la)throw Error(H(168));Ve(rr,e),Ve(_r,t)}function c4(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(H(108,YC(r)||"Unknown",s));return it({},t,n)}function C0(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||la,go=rr.current,Ve(rr,r),Ve(_r,_r.current),!0}function j2(r,e,t){var n=r.stateNode;if(!n)throw Error(H(169));t?(r=c4(r,e,go),n.__reactInternalMemoizedMergedChildContext=r,We(_r),We(rr),Ve(rr,r)):We(_r),Ve(_r,t)}var As=null,kp=!1,rg=!1;function u4(r){As===null?As=[r]:As.push(r)}function pP(r){kp=!0,u4(r)}function ha(){if(!rg&&As!==null){rg=!0;var r=0,e=De;try{var t=As;for(De=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}As=null,kp=!1}catch(s){throw As!==null&&(As=As.slice(r+1)),ME(Gv,ha),s}finally{De=e,rg=!1}}return null}var gl=[],yl=0,k0=null,P0=0,on=[],ln=0,yo=null,Vs=1,Hs="";function _a(r,e){gl[yl++]=P0,gl[yl++]=k0,k0=r,P0=e}function d4(r,e,t){on[ln++]=Vs,on[ln++]=Hs,on[ln++]=yo,yo=r;var n=Vs;r=Hs;var s=32-On(n)-1;n&=~(1<<s),t+=1;var i=32-On(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Vs=1<<32-On(e)+s|t<<s|n,Hs=i+r}else Vs=1<<i|t<<s|n,Hs=r}function ew(r){r.return!==null&&(_a(r,1),d4(r,1,0))}function tw(r){for(;r===k0;)k0=gl[--yl],gl[yl]=null,P0=gl[--yl],gl[yl]=null;for(;r===yo;)yo=on[--ln],on[ln]=null,Hs=on[--ln],on[ln]=null,Vs=on[--ln],on[ln]=null}var Fr=null,Dr=null,Ze=!1,Tn=null;function f4(r,e){var t=un(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function A2(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Fr=r,Dr=ea(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Fr=r,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=yo!==null?{id:Vs,overflow:Hs}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=un(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,Fr=r,Dr=null,!0):!1;default:return!1}}function sb(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ib(r){if(Ze){var e=Dr;if(e){var t=e;if(!A2(r,e)){if(sb(r))throw Error(H(418));e=ea(t.nextSibling);var n=Fr;e&&A2(r,e)?f4(n,t):(r.flags=r.flags&-4097|2,Ze=!1,Fr=r)}}else{if(sb(r))throw Error(H(418));r.flags=r.flags&-4097|2,Ze=!1,Fr=r}}}function C2(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Fr=r}function Yf(r){if(r!==Fr)return!1;if(!Ze)return C2(r),Ze=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!eb(r.type,r.memoizedProps)),e&&(e=Dr)){if(sb(r))throw h4(),Error(H(418));for(;e;)f4(r,e),e=ea(e.nextSibling)}if(C2(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(H(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Dr=ea(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Dr=null}}else Dr=Fr?ea(r.stateNode.nextSibling):null;return!0}function h4(){for(var r=Dr;r;)r=ea(r.nextSibling)}function Tc(){Dr=Fr=null,Ze=!1}function rw(r){Tn===null?Tn=[r]:Tn.push(r)}var mP=ui.ReactCurrentBatchConfig;function wu(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(H(309));var n=t.stateNode}if(!n)throw Error(H(147,r));var s=n,i=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof r!="string")throw Error(H(284));if(!t._owner)throw Error(H(290,r))}return r}function Zf(r,e){throw r=Object.prototype.toString.call(e),Error(H(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function k2(r){var e=r._init;return e(r._payload)}function p4(r){function e(b,y){if(r){var m=b.deletions;m===null?(b.deletions=[y],b.flags|=16):m.push(y)}}function t(b,y){if(!r)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=sa(b,y),b.index=0,b.sibling=null,b}function i(b,y,m){return b.index=m,r?(m=b.alternate,m!==null?(m=m.index,m<y?(b.flags|=2,y):m):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return r&&b.alternate===null&&(b.flags|=2),b}function l(b,y,m,E){return y===null||y.tag!==6?(y=cg(m,b.mode,E),y.return=b,y):(y=s(y,m),y.return=b,y)}function c(b,y,m,E){var S=m.type;return S===dl?d(b,y,m.props.children,E,m.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ei&&k2(S)===y.type)?(E=s(y,m.props),E.ref=wu(b,y,m),E.return=b,E):(E=Kh(m.type,m.key,m.props,null,b.mode,E),E.ref=wu(b,y,m),E.return=b,E)}function u(b,y,m,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=ug(m,b.mode,E),y.return=b,y):(y=s(y,m.children||[]),y.return=b,y)}function d(b,y,m,E,S){return y===null||y.tag!==7?(y=fo(m,b.mode,E,S),y.return=b,y):(y=s(y,m),y.return=b,y)}function f(b,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cg(""+y,b.mode,m),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $f:return m=Kh(y.type,y.key,y.props,null,b.mode,m),m.ref=wu(b,null,y),m.return=b,m;case ul:return y=ug(y,b.mode,m),y.return=b,y;case Ei:var E=y._init;return f(b,E(y._payload),m)}if(Uu(y)||xu(y))return y=fo(y,b.mode,m,null),y.return=b,y;Zf(b,y)}return null}function h(b,y,m,E){var S=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(b,y,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $f:return m.key===S?c(b,y,m,E):null;case ul:return m.key===S?u(b,y,m,E):null;case Ei:return S=m._init,h(b,y,S(m._payload),E)}if(Uu(m)||xu(m))return S!==null?null:d(b,y,m,E,null);Zf(b,m)}return null}function p(b,y,m,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(m)||null,l(y,b,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $f:return b=b.get(E.key===null?m:E.key)||null,c(y,b,E,S);case ul:return b=b.get(E.key===null?m:E.key)||null,u(y,b,E,S);case Ei:var N=E._init;return p(b,y,m,N(E._payload),S)}if(Uu(E)||xu(E))return b=b.get(m)||null,d(y,b,E,S,null);Zf(y,E)}return null}function g(b,y,m,E){for(var S=null,N=null,k=y,R=y=0,U=null;k!==null&&R<m.length;R++){k.index>R?(U=k,k=null):U=k.sibling;var B=h(b,k,m[R],E);if(B===null){k===null&&(k=U);break}r&&k&&B.alternate===null&&e(b,k),y=i(B,y,R),N===null?S=B:N.sibling=B,N=B,k=U}if(R===m.length)return t(b,k),Ze&&_a(b,R),S;if(k===null){for(;R<m.length;R++)k=f(b,m[R],E),k!==null&&(y=i(k,y,R),N===null?S=k:N.sibling=k,N=k);return Ze&&_a(b,R),S}for(k=n(b,k);R<m.length;R++)U=p(k,b,R,m[R],E),U!==null&&(r&&U.alternate!==null&&k.delete(U.key===null?R:U.key),y=i(U,y,R),N===null?S=U:N.sibling=U,N=U);return r&&k.forEach(function(J){return e(b,J)}),Ze&&_a(b,R),S}function x(b,y,m,E){var S=xu(m);if(typeof S!="function")throw Error(H(150));if(m=S.call(m),m==null)throw Error(H(151));for(var N=S=null,k=y,R=y=0,U=null,B=m.next();k!==null&&!B.done;R++,B=m.next()){k.index>R?(U=k,k=null):U=k.sibling;var J=h(b,k,B.value,E);if(J===null){k===null&&(k=U);break}r&&k&&J.alternate===null&&e(b,k),y=i(J,y,R),N===null?S=J:N.sibling=J,N=J,k=U}if(B.done)return t(b,k),Ze&&_a(b,R),S;if(k===null){for(;!B.done;R++,B=m.next())B=f(b,B.value,E),B!==null&&(y=i(B,y,R),N===null?S=B:N.sibling=B,N=B);return Ze&&_a(b,R),S}for(k=n(b,k);!B.done;R++,B=m.next())B=p(k,b,R,B.value,E),B!==null&&(r&&B.alternate!==null&&k.delete(B.key===null?R:B.key),y=i(B,y,R),N===null?S=B:N.sibling=B,N=B);return r&&k.forEach(function(Q){return e(b,Q)}),Ze&&_a(b,R),S}function _(b,y,m,E){if(typeof m=="object"&&m!==null&&m.type===dl&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case $f:e:{for(var S=m.key,N=y;N!==null;){if(N.key===S){if(S=m.type,S===dl){if(N.tag===7){t(b,N.sibling),y=s(N,m.props.children),y.return=b,b=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ei&&k2(S)===N.type){t(b,N.sibling),y=s(N,m.props),y.ref=wu(b,N,m),y.return=b,b=y;break e}t(b,N);break}else e(b,N);N=N.sibling}m.type===dl?(y=fo(m.props.children,b.mode,E,m.key),y.return=b,b=y):(E=Kh(m.type,m.key,m.props,null,b.mode,E),E.ref=wu(b,y,m),E.return=b,b=E)}return a(b);case ul:e:{for(N=m.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){t(b,y.sibling),y=s(y,m.children||[]),y.return=b,b=y;break e}else{t(b,y);break}else e(b,y);y=y.sibling}y=ug(m,b.mode,E),y.return=b,b=y}return a(b);case Ei:return N=m._init,_(b,y,N(m._payload),E)}if(Uu(m))return g(b,y,m,E);if(xu(m))return x(b,y,m,E);Zf(b,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(t(b,y.sibling),y=s(y,m),y.return=b,b=y):(t(b,y),y=cg(m,b.mode,E),y.return=b,b=y),a(b)):t(b,y)}return _}var Rc=p4(!0),m4=p4(!1),T0=fa(null),R0=null,bl=null,nw=null;function sw(){nw=bl=R0=null}function iw(r){var e=T0.current;We(T0),r._currentValue=e}function ab(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Rl(r,e){R0=r,nw=bl=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(wr=!0),r.firstContext=null)}function fn(r){var e=r._currentValue;if(nw!==r)if(r={context:r,memoizedValue:e,next:null},bl===null){if(R0===null)throw Error(H(308));bl=r,R0.dependencies={lanes:0,firstContext:r}}else bl=bl.next=r;return e}var La=null;function aw(r){La===null?La=[r]:La.push(r)}function x4(r,e,t,n){var s=e.interleaved;return s===null?(t.next=t,aw(e)):(t.next=s.next,s.next=t),e.interleaved=t,ti(r,n)}function ti(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var ji=!1;function ow(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g4(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Xs(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function ta(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ti(r,t)}return s=n.interleaved,s===null?(e.next=e,aw(n)):(e.next=s.next,s.next=e),n.interleaved=e,ti(r,t)}function Bh(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Kv(r,t)}}function P2(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function I0(r,e,t,n){var s=r.updateQueue;ji=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=r.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=r,x=l;switch(h=e,p=t,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=it({},f,h);break e;case 2:ji=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vo|=a,r.lanes=a,r.memoizedState=f}}function T2(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],s=n.callback;if(s!==null){if(n.callback=null,n=t,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var Nf={},xs=fa(Nf),Id=fa(Nf),Od=fa(Nf);function Da(r){if(r===Nf)throw Error(H(174));return r}function lw(r,e){switch(Ve(Od,e),Ve(Id,r),Ve(xs,Nf),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:By(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=By(e,r)}We(xs),Ve(xs,e)}function Ic(){We(xs),We(Id),We(Od)}function y4(r){Da(Od.current);var e=Da(xs.current),t=By(e,r.type);e!==t&&(Ve(Id,r),Ve(xs,t))}function cw(r){Id.current===r&&(We(xs),We(Id))}var rt=fa(0);function O0(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ng=[];function uw(){for(var r=0;r<ng.length;r++)ng[r]._workInProgressVersionPrimary=null;ng.length=0}var $h=ui.ReactCurrentDispatcher,sg=ui.ReactCurrentBatchConfig,bo=0,st=null,mt=null,At=null,M0=!1,nd=!1,Md=0,xP=0;function Ht(){throw Error(H(321))}function dw(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!Ln(r[t],e[t]))return!1;return!0}function fw(r,e,t,n,s,i){if(bo=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$h.current=r===null||r.memoizedState===null?vP:wP,r=t(n,s),nd){i=0;do{if(nd=!1,Md=0,25<=i)throw Error(H(301));i+=1,At=mt=null,e.updateQueue=null,$h.current=_P,r=t(n,s)}while(nd)}if($h.current=L0,e=mt!==null&&mt.next!==null,bo=0,At=mt=st=null,M0=!1,e)throw Error(H(300));return r}function hw(){var r=Md!==0;return Md=0,r}function Zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=r:At=At.next=r,At}function hn(){if(mt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var e=At===null?st.memoizedState:At.next;if(e!==null)At=e,mt=r;else{if(r===null)throw Error(H(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},At===null?st.memoizedState=At=r:At=At.next=r}return At}function Ld(r,e){return typeof e=="function"?e(r):e}function ig(r){var e=hn(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=r;var n=mt,s=n.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((bo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:r(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,st.lanes|=d,vo|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Ln(n,e.memoizedState)||(wr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,t.lastRenderedState=n}if(r=t.interleaved,r!==null){s=r;do i=s.lane,st.lanes|=i,vo|=i,s=s.next;while(s!==r)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ag(r){var e=hn(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=r;var n=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=r(i,a.action),a=a.next;while(a!==s);Ln(i,e.memoizedState)||(wr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,n]}function b4(){}function v4(r,e){var t=st,n=hn(),s=e(),i=!Ln(n.memoizedState,s);if(i&&(n.memoizedState=s,wr=!0),n=n.queue,pw(S4.bind(null,t,n,r),[r]),n.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(t.flags|=2048,Dd(9,_4.bind(null,t,n,s,e),void 0,null),Rt===null)throw Error(H(349));bo&30||w4(t,e,s)}return s}function w4(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function _4(r,e,t,n){e.value=t,e.getSnapshot=n,N4(e)&&E4(r)}function S4(r,e,t){return t(function(){N4(e)&&E4(r)})}function N4(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Ln(r,t)}catch{return!0}}function E4(r){var e=ti(r,1);e!==null&&Mn(e,r,1,-1)}function R2(r){var e=Zn();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:r},e.queue=r,r=r.dispatch=bP.bind(null,st,r),[e.memoizedState,r]}function Dd(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function j4(){return hn().memoizedState}function zh(r,e,t,n){var s=Zn();st.flags|=r,s.memoizedState=Dd(1|e,t,void 0,n===void 0?null:n)}function Pp(r,e,t,n){var s=hn();n=n===void 0?null:n;var i=void 0;if(mt!==null){var a=mt.memoizedState;if(i=a.destroy,n!==null&&dw(n,a.deps)){s.memoizedState=Dd(e,t,i,n);return}}st.flags|=r,s.memoizedState=Dd(1|e,t,i,n)}function I2(r,e){return zh(8390656,8,r,e)}function pw(r,e){return Pp(2048,8,r,e)}function A4(r,e){return Pp(4,2,r,e)}function C4(r,e){return Pp(4,4,r,e)}function k4(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function P4(r,e,t){return t=t!=null?t.concat([r]):null,Pp(4,4,k4.bind(null,e,r),t)}function mw(){}function T4(r,e){var t=hn();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&dw(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function R4(r,e){var t=hn();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&dw(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function I4(r,e,t){return bo&21?(Ln(t,e)||(t=FE(),st.lanes|=t,vo|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,wr=!0),r.memoizedState=t)}function gP(r,e){var t=De;De=t!==0&&4>t?t:4,r(!0);var n=sg.transition;sg.transition={};try{r(!1),e()}finally{De=t,sg.transition=n}}function O4(){return hn().memoizedState}function yP(r,e,t){var n=na(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},M4(r))L4(e,t);else if(t=x4(r,e,t,n),t!==null){var s=lr();Mn(t,r,n,s),D4(t,e,n)}}function bP(r,e,t){var n=na(r),s={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(M4(r))L4(e,s);else{var i=r.alternate;if(r.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,t);if(s.hasEagerState=!0,s.eagerState=l,Ln(l,a)){var c=e.interleaved;c===null?(s.next=s,aw(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=x4(r,e,s,n),t!==null&&(s=lr(),Mn(t,r,n,s),D4(t,e,n))}}function M4(r){var e=r.alternate;return r===st||e!==null&&e===st}function L4(r,e){nd=M0=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function D4(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Kv(r,t)}}var L0={readContext:fn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},vP={readContext:fn,useCallback:function(r,e){return Zn().memoizedState=[r,e===void 0?null:e],r},useContext:fn,useEffect:I2,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,zh(4194308,4,k4.bind(null,e,r),t)},useLayoutEffect:function(r,e){return zh(4194308,4,r,e)},useInsertionEffect:function(r,e){return zh(4,2,r,e)},useMemo:function(r,e){var t=Zn();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Zn();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=yP.bind(null,st,r),[n.memoizedState,r]},useRef:function(r){var e=Zn();return r={current:r},e.memoizedState=r},useState:R2,useDebugValue:mw,useDeferredValue:function(r){return Zn().memoizedState=r},useTransition:function(){var r=R2(!1),e=r[0];return r=gP.bind(null,r[1]),Zn().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=st,s=Zn();if(Ze){if(t===void 0)throw Error(H(407));t=t()}else{if(t=e(),Rt===null)throw Error(H(349));bo&30||w4(n,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,I2(S4.bind(null,n,i,r),[r]),n.flags|=2048,Dd(9,_4.bind(null,n,i,t,e),void 0,null),t},useId:function(){var r=Zn(),e=Rt.identifierPrefix;if(Ze){var t=Hs,n=Vs;t=(n&~(1<<32-On(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Md++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xP++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},wP={readContext:fn,useCallback:T4,useContext:fn,useEffect:pw,useImperativeHandle:P4,useInsertionEffect:A4,useLayoutEffect:C4,useMemo:R4,useReducer:ig,useRef:j4,useState:function(){return ig(Ld)},useDebugValue:mw,useDeferredValue:function(r){var e=hn();return I4(e,mt.memoizedState,r)},useTransition:function(){var r=ig(Ld)[0],e=hn().memoizedState;return[r,e]},useMutableSource:b4,useSyncExternalStore:v4,useId:O4,unstable_isNewReconciler:!1},_P={readContext:fn,useCallback:T4,useContext:fn,useEffect:pw,useImperativeHandle:P4,useInsertionEffect:A4,useLayoutEffect:C4,useMemo:R4,useReducer:ag,useRef:j4,useState:function(){return ag(Ld)},useDebugValue:mw,useDeferredValue:function(r){var e=hn();return mt===null?e.memoizedState=r:I4(e,mt.memoizedState,r)},useTransition:function(){var r=ag(Ld)[0],e=hn().memoizedState;return[r,e]},useMutableSource:b4,useSyncExternalStore:v4,useId:O4,unstable_isNewReconciler:!1};function _n(r,e){if(r&&r.defaultProps){e=it({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function ob(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:it({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Tp={isMounted:function(r){return(r=r._reactInternals)?To(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=lr(),s=na(r),i=Xs(n,s);i.payload=e,t!=null&&(i.callback=t),e=ta(r,i,s),e!==null&&(Mn(e,r,s,n),Bh(e,r,s))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=lr(),s=na(r),i=Xs(n,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ta(r,i,s),e!==null&&(Mn(e,r,s,n),Bh(e,r,s))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=lr(),n=na(r),s=Xs(t,n);s.tag=2,e!=null&&(s.callback=e),e=ta(r,s,n),e!==null&&(Mn(e,r,n,t),Bh(e,r,n))}};function O2(r,e,t,n,s,i,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!kd(t,n)||!kd(s,i):!0}function F4(r,e,t){var n=!1,s=la,i=e.contextType;return typeof i=="object"&&i!==null?i=fn(i):(s=Sr(e)?go:rr.current,n=e.contextTypes,i=(n=n!=null)?Pc(r,s):la),e=new e(t,i),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tp,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=i),e}function M2(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Tp.enqueueReplaceState(e,e.state,null)}function lb(r,e,t,n){var s=r.stateNode;s.props=t,s.state=r.memoizedState,s.refs={},ow(r);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fn(i):(i=Sr(e)?go:rr.current,s.context=Pc(r,i)),s.state=r.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ob(r,e,i,t),s.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Tp.enqueueReplaceState(s,s.state,null),I0(r,t,s,n),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function Oc(r,e){try{var t="",n=e;do t+=QC(n),n=n.return;while(n);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:r,source:e,stack:s,digest:null}}function og(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function cb(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function U4(r,e,t){t=Xs(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){F0||(F0=!0,bb=n),cb(r,e)},t}function B4(r,e,t){t=Xs(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;t.payload=function(){return n(s)},t.callback=function(){cb(r,e)}}var i=r.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){cb(r,e),typeof n!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function L2(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new SP;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(t)||(s.add(t),r=DP.bind(null,r,e,t),e.then(r,r))}function D2(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function F2(r,e,t,n,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Xs(-1,1),e.tag=2,ta(t,e,1))),t.lanes|=1),r)}var NP=ui.ReactCurrentOwner,wr=!1;function ir(r,e,t,n){e.child=r===null?m4(e,null,t,n):Rc(e,r.child,t,n)}function U2(r,e,t,n,s){t=t.render;var i=e.ref;return Rl(e,s),n=fw(r,e,t,n,i,s),t=hw(),r!==null&&!wr?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,ri(r,e,s)):(Ze&&t&&ew(e),e.flags|=1,ir(r,e,n,s),e.child)}function B2(r,e,t,n,s){if(r===null){var i=t.type;return typeof i=="function"&&!Sw(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,$4(r,e,i,n,s)):(r=Kh(t.type,null,n,e,e.mode,s),r.ref=e.ref,r.return=e,e.child=r)}if(i=r.child,!(r.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:kd,t(a,n)&&r.ref===e.ref)return ri(r,e,s)}return e.flags|=1,r=sa(i,n),r.ref=e.ref,r.return=e,e.child=r}function $4(r,e,t,n,s){if(r!==null){var i=r.memoizedProps;if(kd(i,n)&&r.ref===e.ref)if(wr=!1,e.pendingProps=n=i,(r.lanes&s)!==0)r.flags&131072&&(wr=!0);else return e.lanes=r.lanes,ri(r,e,s)}return ub(r,e,t,n,s)}function z4(r,e,t){var n=e.pendingProps,s=n.children,i=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(wl,Mr),Mr|=t;else{if(!(t&1073741824))return r=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Ve(wl,Mr),Mr|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:t,Ve(wl,Mr),Mr|=n}else i!==null?(n=i.baseLanes|t,e.memoizedState=null):n=t,Ve(wl,Mr),Mr|=n;return ir(r,e,s,t),e.child}function V4(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ub(r,e,t,n,s){var i=Sr(t)?go:rr.current;return i=Pc(e,i),Rl(e,s),t=fw(r,e,t,n,i,s),n=hw(),r!==null&&!wr?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,ri(r,e,s)):(Ze&&n&&ew(e),e.flags|=1,ir(r,e,t,s),e.child)}function $2(r,e,t,n,s){if(Sr(t)){var i=!0;C0(e)}else i=!1;if(Rl(e,s),e.stateNode===null)Vh(r,e),F4(e,t,n),lb(e,t,n,s),n=!0;else if(r===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Sr(t)?go:rr.current,u=Pc(e,u));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&M2(e,a,n,u),ji=!1;var h=e.memoizedState;a.state=h,I0(e,n,a,s),c=e.memoizedState,l!==n||h!==c||_r.current||ji?(typeof d=="function"&&(ob(e,t,d,n),c=e.memoizedState),(l=ji||O2(e,t,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,g4(r,e),l=e.memoizedProps,u=e.type===e.elementType?l:_n(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Sr(t)?go:rr.current,c=Pc(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&M2(e,a,n,c),ji=!1,h=e.memoizedState,a.state=h,I0(e,n,a,s);var g=e.memoizedState;l!==f||h!==g||_r.current||ji?(typeof p=="function"&&(ob(e,t,p,n),g=e.memoizedState),(u=ji||O2(e,t,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),n=!1)}return db(r,e,t,n,i,s)}function db(r,e,t,n,s,i){V4(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&j2(e,t,!1),ri(r,e,i);n=e.stateNode,NP.current=e;var l=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=Rc(e,r.child,null,i),e.child=Rc(e,null,l,i)):ir(r,e,l,i),e.memoizedState=n.state,s&&j2(e,t,!0),e.child}function H4(r){var e=r.stateNode;e.pendingContext?E2(r,e.pendingContext,e.pendingContext!==e.context):e.context&&E2(r,e.context,!1),lw(r,e.containerInfo)}function z2(r,e,t,n,s){return Tc(),rw(s),e.flags|=256,ir(r,e,t,n),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function hb(r){return{baseLanes:r,cachePool:null,transitions:null}}function G4(r,e,t){var n=e.pendingProps,s=rt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=r!==null&&r.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),Ve(rt,s&1),r===null)return ib(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Op(a,n,0,null),r=fo(r,n,t,null),i.return=e,r.return=e,i.sibling=r,e.child=i,e.child.memoizedState=hb(t),e.memoizedState=fb,r):xw(e,a));if(s=r.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return EP(r,e,a,n,l,s,t);if(i){i=n.fallback,a=e.mode,s=r.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=sa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=sa(l,i):(i=fo(i,a,t,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=r.child.memoizedState,a=a===null?hb(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=r.childLanes&~t,e.memoizedState=fb,n}return i=r.child,r=i.sibling,n=sa(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function xw(r,e){return e=Op({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function qf(r,e,t,n){return n!==null&&rw(n),Rc(e,r.child,null,t),r=xw(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function EP(r,e,t,n,s,i,a){if(t)return e.flags&256?(e.flags&=-257,n=og(Error(H(422))),qf(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Op({mode:"visible",children:n.children},s,0,null),i=fo(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Rc(e,r.child,null,a),e.child.memoizedState=hb(a),e.memoizedState=fb,i);if(!(e.mode&1))return qf(r,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(H(419)),n=og(i,n,void 0),qf(r,e,a,n)}if(l=(a&r.childLanes)!==0,wr||l){if(n=Rt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ti(r,s),Mn(n,r,s,-1))}return _w(),n=og(Error(H(421))),qf(r,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=r.child,e=FP.bind(null,r),s._reactRetry=e,null):(r=i.treeContext,Dr=ea(s.nextSibling),Fr=e,Ze=!0,Tn=null,r!==null&&(on[ln++]=Vs,on[ln++]=Hs,on[ln++]=yo,Vs=r.id,Hs=r.overflow,yo=e),e=xw(e,n.children),e.flags|=4096,e)}function V2(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),ab(r.return,e,t)}function lg(r,e,t,n,s){var i=r.memoizedState;i===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=t,i.tailMode=s)}function K4(r,e,t){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ir(r,e,n.children,t),n=rt.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&V2(r,t,e);else if(r.tag===19)V2(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Ve(rt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)r=t.alternate,r!==null&&O0(r)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),lg(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(r=s.alternate,r!==null&&O0(r)===null){e.child=s;break}r=s.sibling,s.sibling=t,t=s,s=r}lg(e,!0,t,null,i);break;case"together":lg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vh(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function ri(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),vo|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(H(153));if(e.child!==null){for(r=e.child,t=sa(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=sa(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function jP(r,e,t){switch(e.tag){case 3:H4(e),Tc();break;case 5:y4(e);break;case 1:Sr(e.type)&&C0(e);break;case 4:lw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ve(T0,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ve(rt,rt.current&1),e.flags|=128,null):t&e.child.childLanes?G4(r,e,t):(Ve(rt,rt.current&1),r=ri(r,e,t),r!==null?r.sibling:null);Ve(rt,rt.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return K4(r,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(rt,rt.current),n)break;return null;case 22:case 23:return e.lanes=0,z4(r,e,t)}return ri(r,e,t)}var W4,pb,X4,J4;W4=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};pb=function(){};X4=function(r,e,t,n){var s=r.memoizedProps;if(s!==n){r=e.stateNode,Da(xs.current);var i=null;switch(t){case"input":s=Ly(r,s),n=Ly(r,n),i=[];break;case"select":s=it({},s,{value:void 0}),n=it({},n,{value:void 0}),i=[];break;case"textarea":s=Uy(r,s),n=Uy(r,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=j0)}$y(t,n);var a;t=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_d.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_d.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",r),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};J4=function(r,e,t,n){t!==n&&(e.flags|=4)};function _u(r,e){if(!Ze)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Gt(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function AP(r,e,t){var n=e.pendingProps;switch(tw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Sr(e.type)&&A0(),Gt(e),null;case 3:return n=e.stateNode,Ic(),We(_r),We(rr),uw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Yf(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(_b(Tn),Tn=null))),pb(r,e),Gt(e),null;case 5:cw(e);var s=Da(Od.current);if(t=e.type,r!==null&&e.stateNode!=null)X4(r,e,t,n,s),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return Gt(e),null}if(r=Da(xs.current),Yf(e)){n=e.stateNode,t=e.type;var i=e.memoizedProps;switch(n[us]=e,n[Rd]=i,r=(e.mode&1)!==0,t){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(s=0;s<$u.length;s++)Ge($u[s],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":Z1(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":e2(n,i),Ge("invalid",n)}$y(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qf(n.textContent,l,r),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qf(n.textContent,l,r),s=["children",""+l]):_d.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ge("scroll",n)}switch(t){case"input":zf(n),q1(n,i,!0);break;case"textarea":zf(n),t2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=j0)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=SE(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[us]=e,r[Rd]=n,W4(r,e,!1,!1),e.stateNode=r;e:{switch(a=zy(t,n),t){case"dialog":Ge("cancel",r),Ge("close",r),s=n;break;case"iframe":case"object":case"embed":Ge("load",r),s=n;break;case"video":case"audio":for(s=0;s<$u.length;s++)Ge($u[s],r);s=n;break;case"source":Ge("error",r),s=n;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),s=n;break;case"details":Ge("toggle",r),s=n;break;case"input":Z1(r,n),s=Ly(r,n),Ge("invalid",r);break;case"option":s=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},s=it({},n,{value:void 0}),Ge("invalid",r);break;case"textarea":e2(r,n),s=Uy(r,n),Ge("invalid",r);break;default:s=n}$y(t,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?jE(r,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NE(r,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Sd(r,c):typeof c=="number"&&Sd(r,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_d.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",r):c!=null&&Bv(r,i,c,a))}switch(t){case"input":zf(r),q1(r,n,!1);break;case"textarea":zf(r),t2(r);break;case"option":n.value!=null&&r.setAttribute("value",""+oa(n.value));break;case"select":r.multiple=!!n.multiple,i=n.value,i!=null?Cl(r,!!n.multiple,i,!1):n.defaultValue!=null&&Cl(r,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=j0)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(r&&e.stateNode!=null)J4(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(t=Da(Od.current),Da(xs.current),Yf(e)){if(n=e.stateNode,t=e.memoizedProps,n[us]=e,(i=n.nodeValue!==t)&&(r=Fr,r!==null))switch(r.tag){case 3:Qf(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Qf(n.nodeValue,t,(r.mode&1)!==0)}i&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[us]=e,e.stateNode=n}return Gt(e),null;case 13:if(We(rt),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&Dr!==null&&e.mode&1&&!(e.flags&128))h4(),Tc(),e.flags|=98560,i=!1;else if(i=Yf(e),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[us]=e}else Tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else Tn!==null&&(_b(Tn),Tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||rt.current&1?xt===0&&(xt=3):_w())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Ic(),pb(r,e),r===null&&Pd(e.stateNode.containerInfo),Gt(e),null;case 10:return iw(e.type._context),Gt(e),null;case 17:return Sr(e.type)&&A0(),Gt(e),null;case 19:if(We(rt),i=e.memoizedState,i===null)return Gt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)_u(i,!1);else{if(xt!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=O0(r),a!==null){for(e.flags|=128,_u(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)i=t,r=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return Ve(rt,rt.current&1|2),e.child}r=r.sibling}i.tail!==null&&ut()>Mc&&(e.flags|=128,n=!0,_u(i,!1),e.lanes=4194304)}else{if(!n)if(r=O0(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_u(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ze)return Gt(e),null}else 2*ut()-i.renderingStartTime>Mc&&t!==1073741824&&(e.flags|=128,n=!0,_u(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,t=rt.current,Ve(rt,n?t&1|2:t&1),e):(Gt(e),null);case 22:case 23:return ww(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Mr&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function CP(r,e){switch(tw(e),e.tag){case 1:return Sr(e.type)&&A0(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Ic(),We(_r),We(rr),uw(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return cw(e),null;case 13:if(We(rt),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Tc()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return We(rt),null;case 4:return Ic(),null;case 10:return iw(e.type._context),null;case 22:case 23:return ww(),null;case 24:return null;default:return null}}var eh=!1,qt=!1,kP=typeof WeakSet=="function"?WeakSet:Set,ae=null;function vl(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){at(r,e,n)}else t.current=null}function mb(r,e,t){try{t()}catch(n){at(r,e,n)}}var H2=!1;function PP(r,e){if(Zy=S0,r=e4(),qv(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=r,h=null;t:for(;;){for(var p;f!==t||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===r)break t;if(h===t&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(qy={focusedElem:r,selectionRange:t},S0=!1,ae=e;ae!==null;)if(e=ae,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,ae=r;else for(;ae!==null;){e=ae;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,_=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:_n(e.type,x),_);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(E){at(e,e.return,E)}if(r=e.sibling,r!==null){r.return=e.return,ae=r;break}ae=e.return}return g=H2,H2=!1,g}function sd(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var i=s.destroy;s.destroy=void 0,i!==void 0&&mb(e,t,i)}s=s.next}while(s!==n)}}function Rp(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function xb(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function Q4(r){var e=r.alternate;e!==null&&(r.alternate=null,Q4(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[us],delete e[Rd],delete e[rb],delete e[fP],delete e[hP])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Y4(r){return r.tag===5||r.tag===3||r.tag===4}function G2(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Y4(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gb(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=j0));else if(n!==4&&(r=r.child,r!==null))for(gb(r,e,t),r=r.sibling;r!==null;)gb(r,e,t),r=r.sibling}function yb(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(yb(r,e,t),r=r.sibling;r!==null;)yb(r,e,t),r=r.sibling}var Mt=null,kn=!1;function hi(r,e,t){for(t=t.child;t!==null;)Z4(r,e,t),t=t.sibling}function Z4(r,e,t){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(Np,t)}catch{}switch(t.tag){case 5:qt||vl(t,e);case 6:var n=Mt,s=kn;Mt=null,hi(r,e,t),Mt=n,kn=s,Mt!==null&&(kn?(r=Mt,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Mt.removeChild(t.stateNode));break;case 18:Mt!==null&&(kn?(r=Mt,t=t.stateNode,r.nodeType===8?tg(r.parentNode,t):r.nodeType===1&&tg(r,t),Ad(r)):tg(Mt,t.stateNode));break;case 4:n=Mt,s=kn,Mt=t.stateNode.containerInfo,kn=!0,hi(r,e,t),Mt=n,kn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mb(t,e,a),s=s.next}while(s!==n)}hi(r,e,t);break;case 1:if(!qt&&(vl(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(l){at(t,e,l)}hi(r,e,t);break;case 21:hi(r,e,t);break;case 22:t.mode&1?(qt=(n=qt)||t.memoizedState!==null,hi(r,e,t),qt=n):hi(r,e,t);break;default:hi(r,e,t)}}function K2(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new kP),e.forEach(function(n){var s=UP.bind(null,r,n);t.has(n)||(t.add(n),n.then(s,s))})}}function mn(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];try{var i=r,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,kn=!1;break e;case 3:Mt=l.stateNode.containerInfo,kn=!0;break e;case 4:Mt=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(Mt===null)throw Error(H(160));Z4(i,a,s),Mt=null,kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){at(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q4(e,r),e=e.sibling}function q4(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(mn(e,r),zn(r),n&4){try{sd(3,r,r.return),Rp(3,r)}catch(x){at(r,r.return,x)}try{sd(5,r,r.return)}catch(x){at(r,r.return,x)}}break;case 1:mn(e,r),zn(r),n&512&&t!==null&&vl(t,t.return);break;case 5:if(mn(e,r),zn(r),n&512&&t!==null&&vl(t,t.return),r.flags&32){var s=r.stateNode;try{Sd(s,"")}catch(x){at(r,r.return,x)}}if(n&4&&(s=r.stateNode,s!=null)){var i=r.memoizedProps,a=t!==null?t.memoizedProps:i,l=r.type,c=r.updateQueue;if(r.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wE(s,i),zy(l,a);var u=zy(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?jE(s,f):d==="dangerouslySetInnerHTML"?NE(s,f):d==="children"?Sd(s,f):Bv(s,d,f,u)}switch(l){case"input":Dy(s,i);break;case"textarea":_E(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cl(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Cl(s,!!i.multiple,i.defaultValue,!0):Cl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rd]=i}catch(x){at(r,r.return,x)}}break;case 6:if(mn(e,r),zn(r),n&4){if(r.stateNode===null)throw Error(H(162));s=r.stateNode,i=r.memoizedProps;try{s.nodeValue=i}catch(x){at(r,r.return,x)}}break;case 3:if(mn(e,r),zn(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Ad(e.containerInfo)}catch(x){at(r,r.return,x)}break;case 4:mn(e,r),zn(r);break;case 13:mn(e,r),zn(r),s=r.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bw=ut())),n&4&&K2(r);break;case 22:if(d=t!==null&&t.memoizedState!==null,r.mode&1?(qt=(u=qt)||d,mn(e,r),qt=u):mn(e,r),zn(r),n&8192){if(u=r.memoizedState!==null,(r.stateNode.isHidden=u)&&!d&&r.mode&1)for(ae=r,d=r.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:sd(4,h,h.return);break;case 1:vl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){at(n,t,x)}}break;case 5:vl(h,h.return);break;case 22:if(h.memoizedState!==null){X2(f);continue}}p!==null?(p.return=h,ae=p):X2(f)}d=d.sibling}e:for(d=null,f=r;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EE("display",a))}catch(x){at(r,r.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){at(r,r.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(e,r),zn(r),n&4&&K2(r);break;case 21:break;default:mn(e,r),zn(r)}}function zn(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(Y4(t)){var n=t;break e}t=t.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sd(s,""),n.flags&=-33);var i=G2(r);yb(r,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=G2(r);gb(r,l,a);break;default:throw Error(H(161))}}catch(c){at(r,r.return,c)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function TP(r,e,t){ae=r,ej(r)}function ej(r,e,t){for(var n=(r.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||eh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||qt;l=eh;var u=qt;if(eh=a,(qt=c)&&!u)for(ae=s;ae!==null;)a=ae,c=a.child,a.tag===22&&a.memoizedState!==null?J2(s):c!==null?(c.return=a,ae=c):J2(s);for(;i!==null;)ae=i,ej(i),i=i.sibling;ae=s,eh=l,qt=u}W2(r)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):W2(r)}}function W2(r){for(;ae!==null;){var e=ae;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Rp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qt)if(t===null)n.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:_n(e.type,t.memoizedProps);n.componentDidUpdate(s,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&T2(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}T2(e,a,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ad(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}qt||e.flags&512&&xb(e)}catch(h){at(e,e.return,h)}}if(e===r){ae=null;break}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}}function X2(r){for(;ae!==null;){var e=ae;if(e===r){ae=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ae=t;break}ae=e.return}}function J2(r){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Rp(4,e)}catch(c){at(e,t,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{xb(e)}catch(c){at(e,i,c)}break;case 5:var a=e.return;try{xb(e)}catch(c){at(e,a,c)}}}catch(c){at(e,e.return,c)}if(e===r){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var RP=Math.ceil,D0=ui.ReactCurrentDispatcher,gw=ui.ReactCurrentOwner,dn=ui.ReactCurrentBatchConfig,Te=0,Rt=null,pt=null,Bt=0,Mr=0,wl=fa(0),xt=0,Fd=null,vo=0,Ip=0,yw=0,id=null,yr=null,bw=0,Mc=1/0,_s=null,F0=!1,bb=null,ra=null,th=!1,Ji=null,U0=0,ad=0,vb=null,Hh=-1,Gh=0;function lr(){return Te&6?ut():Hh!==-1?Hh:Hh=ut()}function na(r){return r.mode&1?Te&2&&Bt!==0?Bt&-Bt:mP.transition!==null?(Gh===0&&(Gh=FE()),Gh):(r=De,r!==0||(r=window.event,r=r===void 0?16:GE(r.type)),r):1}function Mn(r,e,t,n){if(50<ad)throw ad=0,vb=null,Error(H(185));wf(r,t,n),(!(Te&2)||r!==Rt)&&(r===Rt&&(!(Te&2)&&(Ip|=t),xt===4&&ki(r,Bt)),Nr(r,n),t===1&&Te===0&&!(e.mode&1)&&(Mc=ut()+500,kp&&ha()))}function Nr(r,e){var t=r.callbackNode;mk(r,e);var n=_0(r,r===Rt?Bt:0);if(n===0)t!==null&&s2(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&s2(t),e===1)r.tag===0?pP(Q2.bind(null,r)):u4(Q2.bind(null,r)),uP(function(){!(Te&6)&&ha()}),t=null;else{switch(UE(n)){case 1:t=Gv;break;case 4:t=LE;break;case 16:t=w0;break;case 536870912:t=DE;break;default:t=w0}t=lj(t,tj.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function tj(r,e){if(Hh=-1,Gh=0,Te&6)throw Error(H(327));var t=r.callbackNode;if(Il()&&r.callbackNode!==t)return null;var n=_0(r,r===Rt?Bt:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=B0(r,n);else{e=n;var s=Te;Te|=2;var i=nj();(Rt!==r||Bt!==e)&&(_s=null,Mc=ut()+500,uo(r,e));do try{MP();break}catch(l){rj(r,l)}while(!0);sw(),D0.current=i,Te=s,pt!==null?e=0:(Rt=null,Bt=0,e=xt)}if(e!==0){if(e===2&&(s=Wy(r),s!==0&&(n=s,e=wb(r,s))),e===1)throw t=Fd,uo(r,0),ki(r,n),Nr(r,ut()),t;if(e===6)ki(r,n);else{if(s=r.current.alternate,!(n&30)&&!IP(s)&&(e=B0(r,n),e===2&&(i=Wy(r),i!==0&&(n=i,e=wb(r,i))),e===1))throw t=Fd,uo(r,0),ki(r,n),Nr(r,ut()),t;switch(r.finishedWork=s,r.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:Sa(r,yr,_s);break;case 3:if(ki(r,n),(n&130023424)===n&&(e=bw+500-ut(),10<e)){if(_0(r,0)!==0)break;if(s=r.suspendedLanes,(s&n)!==n){lr(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=tb(Sa.bind(null,r,yr,_s),e);break}Sa(r,yr,_s);break;case 4:if(ki(r,n),(n&4194240)===n)break;for(e=r.eventTimes,s=-1;0<n;){var a=31-On(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RP(n/1960))-n,10<n){r.timeoutHandle=tb(Sa.bind(null,r,yr,_s),n);break}Sa(r,yr,_s);break;case 5:Sa(r,yr,_s);break;default:throw Error(H(329))}}}return Nr(r,ut()),r.callbackNode===t?tj.bind(null,r):null}function wb(r,e){var t=id;return r.current.memoizedState.isDehydrated&&(uo(r,e).flags|=256),r=B0(r,e),r!==2&&(e=yr,yr=t,e!==null&&_b(e)),r}function _b(r){yr===null?yr=r:yr.push.apply(yr,r)}function IP(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var s=t[n],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(r,e){for(e&=~yw,e&=~Ip,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-On(e),n=1<<t;r[t]=-1,e&=~n}}function Q2(r){if(Te&6)throw Error(H(327));Il();var e=_0(r,0);if(!(e&1))return Nr(r,ut()),null;var t=B0(r,e);if(r.tag!==0&&t===2){var n=Wy(r);n!==0&&(e=n,t=wb(r,n))}if(t===1)throw t=Fd,uo(r,0),ki(r,e),Nr(r,ut()),t;if(t===6)throw Error(H(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Sa(r,yr,_s),Nr(r,ut()),null}function vw(r,e){var t=Te;Te|=1;try{return r(e)}finally{Te=t,Te===0&&(Mc=ut()+500,kp&&ha())}}function wo(r){Ji!==null&&Ji.tag===0&&!(Te&6)&&Il();var e=Te;Te|=1;var t=dn.transition,n=De;try{if(dn.transition=null,De=1,r)return r()}finally{De=n,dn.transition=t,Te=e,!(Te&6)&&ha()}}function ww(){Mr=wl.current,We(wl)}function uo(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,cP(t)),pt!==null)for(t=pt.return;t!==null;){var n=t;switch(tw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&A0();break;case 3:Ic(),We(_r),We(rr),uw();break;case 5:cw(n);break;case 4:Ic();break;case 13:We(rt);break;case 19:We(rt);break;case 10:iw(n.type._context);break;case 22:case 23:ww()}t=t.return}if(Rt=r,pt=r=sa(r.current,null),Bt=Mr=e,xt=0,Fd=null,yw=Ip=vo=0,yr=id=null,La!==null){for(e=0;e<La.length;e++)if(t=La[e],n=t.interleaved,n!==null){t.interleaved=null;var s=n.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}t.pending=n}La=null}return r}function rj(r,e){do{var t=pt;try{if(sw(),$h.current=L0,M0){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}M0=!1}if(bo=0,At=mt=st=null,nd=!1,Md=0,gw.current=null,t===null||t.return===null){xt=1,Fd=e,pt=null;break}e:{var i=r,a=t.return,l=t,c=e;if(e=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=D2(a);if(p!==null){p.flags&=-257,F2(p,a,l,i,e),p.mode&1&&L2(i,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){L2(i,u,e),_w();break e}c=Error(H(426))}}else if(Ze&&l.mode&1){var _=D2(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),F2(_,a,l,i,e),rw(Oc(c,l));break e}}i=c=Oc(c,l),xt!==4&&(xt=2),id===null?id=[i]:id.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=U4(i,c,e);P2(i,b);break e;case 1:l=c;var y=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ra===null||!ra.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=B4(i,l,e);P2(i,E);break e}}i=i.return}while(i!==null)}ij(t)}catch(S){e=S,pt===t&&t!==null&&(pt=t=t.return);continue}break}while(!0)}function nj(){var r=D0.current;return D0.current=L0,r===null?L0:r}function _w(){(xt===0||xt===3||xt===2)&&(xt=4),Rt===null||!(vo&268435455)&&!(Ip&268435455)||ki(Rt,Bt)}function B0(r,e){var t=Te;Te|=2;var n=nj();(Rt!==r||Bt!==e)&&(_s=null,uo(r,e));do try{OP();break}catch(s){rj(r,s)}while(!0);if(sw(),Te=t,D0.current=n,pt!==null)throw Error(H(261));return Rt=null,Bt=0,xt}function OP(){for(;pt!==null;)sj(pt)}function MP(){for(;pt!==null&&!ak();)sj(pt)}function sj(r){var e=oj(r.alternate,r,Mr);r.memoizedProps=r.pendingProps,e===null?ij(r):pt=e,gw.current=null}function ij(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=CP(t,e),t!==null){t.flags&=32767,pt=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{xt=6,pt=null;return}}else if(t=AP(t,e,Mr),t!==null){pt=t;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=r}while(e!==null);xt===0&&(xt=5)}function Sa(r,e,t){var n=De,s=dn.transition;try{dn.transition=null,De=1,LP(r,e,t,n)}finally{dn.transition=s,De=n}return null}function LP(r,e,t,n){do Il();while(Ji!==null);if(Te&6)throw Error(H(327));t=r.finishedWork;var s=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(H(177));r.callbackNode=null,r.callbackPriority=0;var i=t.lanes|t.childLanes;if(xk(r,i),r===Rt&&(pt=Rt=null,Bt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||th||(th=!0,lj(w0,function(){return Il(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var a=De;De=1;var l=Te;Te|=4,gw.current=null,PP(r,t),q4(t,r),rP(qy),S0=!!Zy,qy=Zy=null,r.current=t,TP(t),ok(),Te=l,De=a,dn.transition=i}else r.current=t;if(th&&(th=!1,Ji=r,U0=s),i=r.pendingLanes,i===0&&(ra=null),uk(t.stateNode),Nr(r,ut()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)s=e[t],n(s.value,{componentStack:s.stack,digest:s.digest});if(F0)throw F0=!1,r=bb,bb=null,r;return U0&1&&r.tag!==0&&Il(),i=r.pendingLanes,i&1?r===vb?ad++:(ad=0,vb=r):ad=0,ha(),null}function Il(){if(Ji!==null){var r=UE(U0),e=dn.transition,t=De;try{if(dn.transition=null,De=16>r?16:r,Ji===null)var n=!1;else{if(r=Ji,Ji=null,U0=0,Te&6)throw Error(H(331));var s=Te;for(Te|=4,ae=r.current;ae!==null;){var i=ae,a=i.child;if(ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:sd(8,d,i)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,p=d.return;if(Q4(d),d===u){ae=null;break}if(h!==null){h.return=p,ae=h;break}ae=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}ae=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ae=a;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sd(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ae=b;break e}ae=i.return}}var y=r.current;for(ae=y;ae!==null;){a=ae;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,ae=m;else e:for(a=y;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rp(9,l)}}catch(S){at(l,l.return,S)}if(l===a){ae=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,ae=E;break e}ae=l.return}}if(Te=s,ha(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(Np,r)}catch{}n=!0}return n}finally{De=t,dn.transition=e}}return!1}function Y2(r,e,t){e=Oc(t,e),e=U4(r,e,1),r=ta(r,e,1),e=lr(),r!==null&&(wf(r,1,e),Nr(r,e))}function at(r,e,t){if(r.tag===3)Y2(r,r,t);else for(;e!==null;){if(e.tag===3){Y2(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ra===null||!ra.has(n))){r=Oc(t,r),r=B4(e,r,1),e=ta(e,r,1),r=lr(),e!==null&&(wf(e,1,r),Nr(e,r));break}}e=e.return}}function DP(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=lr(),r.pingedLanes|=r.suspendedLanes&t,Rt===r&&(Bt&t)===t&&(xt===4||xt===3&&(Bt&130023424)===Bt&&500>ut()-bw?uo(r,0):yw|=t),Nr(r,e)}function aj(r,e){e===0&&(r.mode&1?(e=Gf,Gf<<=1,!(Gf&130023424)&&(Gf=4194304)):e=1);var t=lr();r=ti(r,e),r!==null&&(wf(r,e,t),Nr(r,t))}function FP(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),aj(r,t)}function UP(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,s=r.memoizedState;s!==null&&(t=s.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),aj(r,t)}var oj;oj=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||_r.current)wr=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return wr=!1,jP(r,e,t);wr=!!(r.flags&131072)}else wr=!1,Ze&&e.flags&1048576&&d4(e,P0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vh(r,e),r=e.pendingProps;var s=Pc(e,rr.current);Rl(e,t),s=fw(null,e,n,r,s,t);var i=hw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(n)?(i=!0,C0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ow(e),s.updater=Tp,e.stateNode=s,s._reactInternals=e,lb(e,n,r,t),e=db(null,e,n,!0,i,t)):(e.tag=0,Ze&&i&&ew(e),ir(null,e,s,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Vh(r,e),r=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=$P(n),r=_n(n,r),s){case 0:e=ub(null,e,n,r,t);break e;case 1:e=$2(null,e,n,r,t);break e;case 11:e=U2(null,e,n,r,t);break e;case 14:e=B2(null,e,n,_n(n.type,r),t);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_n(n,s),ub(r,e,n,s,t);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_n(n,s),$2(r,e,n,s,t);case 3:e:{if(H4(e),r===null)throw Error(H(387));n=e.pendingProps,i=e.memoizedState,s=i.element,g4(r,e),I0(e,n,null,t);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Oc(Error(H(423)),e),e=z2(r,e,n,t,s);break e}else if(n!==s){s=Oc(Error(H(424)),e),e=z2(r,e,n,t,s);break e}else for(Dr=ea(e.stateNode.containerInfo.firstChild),Fr=e,Ze=!0,Tn=null,t=m4(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Tc(),n===s){e=ri(r,e,t);break e}ir(r,e,n,t)}e=e.child}return e;case 5:return y4(e),r===null&&ib(e),n=e.type,s=e.pendingProps,i=r!==null?r.memoizedProps:null,a=s.children,eb(n,s)?a=null:i!==null&&eb(n,i)&&(e.flags|=32),V4(r,e),ir(r,e,a,t),e.child;case 6:return r===null&&ib(e),null;case 13:return G4(r,e,t);case 4:return lw(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=Rc(e,null,n,t):ir(r,e,n,t),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_n(n,s),U2(r,e,n,s,t);case 7:return ir(r,e,e.pendingProps,t),e.child;case 8:return ir(r,e,e.pendingProps.children,t),e.child;case 12:return ir(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ve(T0,n._currentValue),n._currentValue=a,i!==null)if(Ln(i.value,a)){if(i.children===s.children&&!_r.current){e=ri(r,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Xs(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),ab(i.return,t,e),l.lanes|=t;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),ab(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ir(r,e,s.children,t),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Rl(e,t),s=fn(s),n=n(s),e.flags|=1,ir(r,e,n,t),e.child;case 14:return n=e.type,s=_n(n,e.pendingProps),s=_n(n.type,s),B2(r,e,n,s,t);case 15:return $4(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_n(n,s),Vh(r,e),e.tag=1,Sr(n)?(r=!0,C0(e)):r=!1,Rl(e,t),F4(e,n,s),lb(e,n,s,t),db(null,e,n,!0,r,t);case 19:return K4(r,e,t);case 22:return z4(r,e,t)}throw Error(H(156,e.tag))};function lj(r,e){return ME(r,e)}function BP(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(r,e,t,n){return new BP(r,e,t,n)}function Sw(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $P(r){if(typeof r=="function")return Sw(r)?1:0;if(r!=null){if(r=r.$$typeof,r===zv)return 11;if(r===Vv)return 14}return 2}function sa(r,e){var t=r.alternate;return t===null?(t=un(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Kh(r,e,t,n,s,i){var a=2;if(n=r,typeof r=="function")Sw(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case dl:return fo(t.children,s,i,e);case $v:a=8,s|=8;break;case Ry:return r=un(12,t,e,s|2),r.elementType=Ry,r.lanes=i,r;case Iy:return r=un(13,t,e,s),r.elementType=Iy,r.lanes=i,r;case Oy:return r=un(19,t,e,s),r.elementType=Oy,r.lanes=i,r;case yE:return Op(t,s,i,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case xE:a=10;break e;case gE:a=9;break e;case zv:a=11;break e;case Vv:a=14;break e;case Ei:a=16,n=null;break e}throw Error(H(130,r==null?r:typeof r,""))}return e=un(a,t,e,s),e.elementType=r,e.type=n,e.lanes=i,e}function fo(r,e,t,n){return r=un(7,r,n,e),r.lanes=t,r}function Op(r,e,t,n){return r=un(22,r,n,e),r.elementType=yE,r.lanes=t,r.stateNode={isHidden:!1},r}function cg(r,e,t){return r=un(6,r,null,e),r.lanes=t,r}function ug(r,e,t){return e=un(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function zP(r,e,t,n,s){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hx(0),this.expirationTimes=Hx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hx(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nw(r,e,t,n,s,i,a,l,c){return r=new zP(r,e,t,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=un(3,null,null,e),r.current=i,i.stateNode=r,i.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(i),r}function VP(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function cj(r){if(!r)return la;r=r._reactInternals;e:{if(To(r)!==r||r.tag!==1)throw Error(H(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(r.tag===1){var t=r.type;if(Sr(t))return c4(r,t,e)}return e}function uj(r,e,t,n,s,i,a,l,c){return r=Nw(t,n,!0,r,s,i,a,l,c),r.context=cj(null),t=r.current,n=lr(),s=na(t),i=Xs(n,s),i.callback=e??null,ta(t,i,s),r.current.lanes=s,wf(r,s,n),Nr(r,n),r}function Mp(r,e,t,n){var s=e.current,i=lr(),a=na(s);return t=cj(t),e.context===null?e.context=t:e.pendingContext=t,e=Xs(i,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=ta(s,e,a),r!==null&&(Mn(r,s,a,i),Bh(r,s,a)),a}function $0(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Z2(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Ew(r,e){Z2(r,e),(r=r.alternate)&&Z2(r,e)}function HP(){return null}var dj=typeof reportError=="function"?reportError:function(r){console.error(r)};function jw(r){this._internalRoot=r}Lp.prototype.render=jw.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(H(409));Mp(r,e,null,null)};Lp.prototype.unmount=jw.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;wo(function(){Mp(null,r,null,null)}),e[ei]=null}};function Lp(r){this._internalRoot=r}Lp.prototype.unstable_scheduleHydration=function(r){if(r){var e=zE();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Ci.length&&e!==0&&e<Ci[t].priority;t++);Ci.splice(t,0,r),t===0&&HE(r)}};function Aw(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Dp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function q2(){}function GP(r,e,t,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=$0(a);i.call(u)}}var a=uj(e,n,r,0,null,!1,!1,"",q2);return r._reactRootContainer=a,r[ei]=a.current,Pd(r.nodeType===8?r.parentNode:r),wo(),a}for(;s=r.lastChild;)r.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=$0(c);l.call(u)}}var c=Nw(r,0,!1,null,null,!1,!1,"",q2);return r._reactRootContainer=c,r[ei]=c.current,Pd(r.nodeType===8?r.parentNode:r),wo(function(){Mp(e,c,t,n)}),c}function Fp(r,e,t,n,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=$0(a);l.call(c)}}Mp(e,a,r,s)}else a=GP(t,e,r,s,n);return $0(a)}BE=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=Bu(e.pendingLanes);t!==0&&(Kv(e,t|1),Nr(e,ut()),!(Te&6)&&(Mc=ut()+500,ha()))}break;case 13:wo(function(){var n=ti(r,1);if(n!==null){var s=lr();Mn(n,r,1,s)}}),Ew(r,1)}};Wv=function(r){if(r.tag===13){var e=ti(r,134217728);if(e!==null){var t=lr();Mn(e,r,134217728,t)}Ew(r,134217728)}};$E=function(r){if(r.tag===13){var e=na(r),t=ti(r,e);if(t!==null){var n=lr();Mn(t,r,e,n)}Ew(r,e)}};zE=function(){return De};VE=function(r,e){var t=De;try{return De=r,e()}finally{De=t}};Hy=function(r,e,t){switch(e){case"input":if(Dy(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var s=Cp(n);if(!s)throw Error(H(90));vE(n),Dy(n,s)}}}break;case"textarea":_E(r,t);break;case"select":e=t.value,e!=null&&Cl(r,!!t.multiple,e,!1)}};kE=vw;PE=wo;var KP={usingClientEntryPoint:!1,Events:[Sf,ml,Cp,AE,CE,vw]},Su={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WP={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=IE(r),r===null?null:r.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||HP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Np=rh.inject(WP),ms=rh}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;Br.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aw(e))throw Error(H(200));return VP(r,e,null,t)};Br.createRoot=function(r,e){if(!Aw(r))throw Error(H(299));var t=!1,n="",s=dj;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nw(r,1,!1,null,null,t,!1,n,s),r[ei]=e.current,Pd(r.nodeType===8?r.parentNode:r),new jw(e)};Br.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(H(188)):(r=Object.keys(r).join(","),Error(H(268,r)));return r=IE(e),r=r===null?null:r.stateNode,r};Br.flushSync=function(r){return wo(r)};Br.hydrate=function(r,e,t){if(!Dp(e))throw Error(H(200));return Fp(null,r,e,!0,t)};Br.hydrateRoot=function(r,e,t){if(!Aw(r))throw Error(H(405));var n=t!=null&&t.hydratedSources||null,s=!1,i="",a=dj;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=uj(e,null,r,1,t??null,s,!1,i,a),r[ei]=e.current,Pd(r),n)for(r=0;r<n.length;r++)t=n[r],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Lp(e)};Br.render=function(r,e,t){if(!Dp(e))throw Error(H(200));return Fp(null,r,e,!1,t)};Br.unmountComponentAtNode=function(r){if(!Dp(r))throw Error(H(40));return r._reactRootContainer?(wo(function(){Fp(null,null,r,!1,function(){r._reactRootContainer=null,r[ei]=null})}),!0):!1};Br.unstable_batchedUpdates=vw;Br.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!Dp(t))throw Error(H(200));if(r==null||r._reactInternals===void 0)throw Error(H(38));return Fp(r,e,t,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function fj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fj)}catch(r){console.error(r)}}fj(),fE.exports=Br;var XP=fE.exports,hj,e_=XP;hj=e_.createRoot,e_.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(r,e)=>{const t=M.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>M.createElement("svg",{ref:d,...JP,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${QP(r)}`,l].join(" "),...u},[...e.map(([f,h])=>M.createElement(f,h)),...Array.isArray(c)?c:[c]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=se("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=se("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=se("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=se("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=se("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=se("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=se("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=se("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=se("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=se("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=se("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),s_=({onGoHome:r,onSignOut:e,onGoToProfile:t,currentUser:n,userProfile:s})=>{const[i,a]=M.useState(!1),l=()=>{a(!1),e&&e()},c=()=>{a(!1),t&&t()};return o.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-700 rounded-lg",children:o.jsx(qe,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Heritage Vault"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Digital Inheritance Management"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[r&&o.jsx("button",{onClick:r,className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",title:"Go to Homepage",children:o.jsx(xj,{className:"w-5 h-5"})}),n&&s?o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-3 p-2 hover:bg-slate-100 rounded-lg transition-colors",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:s.full_name}),o.jsxs("p",{className:"text-xs text-slate-500 capitalize",children:[s.subscription_plan," Plan"]})]}),o.jsx("div",{className:"w-8 h-8 bg-purple-700 rounded-full flex items-center justify-center",children:o.jsx(kt,{className:"w-4 h-4 text-white"})}),o.jsx(pj,{className:"w-4 h-4 text-slate-400"})]}),i&&o.jsxs("div",{className:"absolute right-0 top-12 bg-white border border-slate-200 rounded-lg shadow-lg py-2 w-64 z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-200",children:[o.jsx("p",{className:"font-medium text-slate-900",children:s.full_name}),o.jsx("p",{className:"text-sm text-slate-600",children:s.email}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.account_status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.account_status}),o.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full capitalize",children:s.subscription_plan})]})]}),o.jsxs("button",{onClick:c,className:"w-full px-4 py-2 text-left text-sm text-slate-700 hover:bg-slate-50 flex items-center space-x-2",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:"My Profile"})]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-700 hover:bg-slate-50 flex items-center space-x-2",children:[o.jsx(Hp,{className:"w-4 h-4"}),o.jsx("span",{children:"Account Settings"})]}),o.jsx("div",{className:"border-t border-slate-200 mt-2 pt-2",children:o.jsxs("button",{onClick:l,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[o.jsx(yj,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})})]})]}):o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Guest User"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Demo Mode"})]}),o.jsx("div",{className:"w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center",children:o.jsx(kt,{className:"w-4 h-4 text-white"})})]})]})]})})},i_=({currentView:r,setCurrentView:e})=>{const t=[{id:"dashboard",label:"Dashboard",icon:xj},{id:"assets",label:"Assets",icon:So},{id:"contacts",label:"Contacts",icon:Fn},{id:"documents",label:"Documents",icon:Dn},{id:"events",label:"Events",icon:gt},{id:"notifications",label:"Notifications",icon:z0}];return o.jsx("aside",{className:"w-64 bg-white border-r border-slate-200 min-h-screen",children:o.jsx("nav",{className:"p-4",children:o.jsx("ul",{className:"space-y-2",children:t.map(({id:n,label:s,icon:i})=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>e(n),className:`w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors ${r===n?"bg-purple-700 text-white":"text-slate-700 hover:bg-purple-50 hover:text-purple-800"}`,children:[o.jsx(i,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:s})]})},n))})})})},o7="modulepreload",l7=function(r){return"/"+r},a_={},Ef=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=l7(c),c in a_)return;a_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":o7,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},c7=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>ru);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Rw extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class u7 extends Rw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d7 extends Rw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f7 extends Rw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ab;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ab||(Ab={}));var h7=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class p7{constructor(e,{headers:t={},customFetch:n,region:s=Ab.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=c7(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return h7(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let l={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new u7(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new d7(d);if(!d.ok)throw new f7(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var br={},Iw={},Gp={},jf={},Kp={},Wp={},m7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dc=m7();const x7=Dc.fetch,Ej=Dc.fetch.bind(Dc),jj=Dc.Headers,g7=Dc.Request,y7=Dc.Response,ru=Object.freeze(Object.defineProperty({__proto__:null,Headers:jj,Request:g7,Response:y7,default:Ej,fetch:x7},Symbol.toStringTag,{value:"Module"})),b7=eE(ru);var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});let v7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xp.default=v7;var Aj=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wp,"__esModule",{value:!0});const w7=Aj(b7),_7=Aj(Xp);let S7=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=w7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),_=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&x===""?(h=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new _7.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};Wp.default=S7;var N7=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kp,"__esModule",{value:!0});const E7=N7(Wp);let j7=class extends E7.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kp.default=j7;var A7=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jf,"__esModule",{value:!0});const C7=A7(Kp);let k7=class extends C7.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};jf.default=k7;var P7=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gp,"__esModule",{value:!0});const Nu=P7(jf);let T7=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Nu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Nu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Nu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Nu.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gp.default=T7;var Jp={},Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.version=void 0;Qp.version="0.0.0-automated";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.DEFAULT_HEADERS=void 0;const R7=Qp;Jp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${R7.version}`};var Cj=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Iw,"__esModule",{value:!0});const I7=Cj(Gp),O7=Cj(jf),M7=Jp;let L7=class kj{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},M7.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new I7.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=t);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new O7.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Iw.default=L7;var nu=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(br,"__esModule",{value:!0});br.PostgrestError=br.PostgrestBuilder=br.PostgrestTransformBuilder=br.PostgrestFilterBuilder=br.PostgrestQueryBuilder=br.PostgrestClient=void 0;const Pj=nu(Iw);br.PostgrestClient=Pj.default;const Tj=nu(Gp);br.PostgrestQueryBuilder=Tj.default;const Rj=nu(jf);br.PostgrestFilterBuilder=Rj.default;const Ij=nu(Kp);br.PostgrestTransformBuilder=Ij.default;const Oj=nu(Wp);br.PostgrestBuilder=Oj.default;const Mj=nu(Xp);br.PostgrestError=Mj.default;var D7=br.default={PostgrestClient:Pj.default,PostgrestQueryBuilder:Tj.default,PostgrestFilterBuilder:Rj.default,PostgrestTransformBuilder:Ij.default,PostgrestBuilder:Oj.default,PostgrestError:Mj.default};const{PostgrestClient:F7,PostgrestQueryBuilder:OH,PostgrestFilterBuilder:MH,PostgrestTransformBuilder:LH,PostgrestBuilder:DH,PostgrestError:FH}=D7;function U7(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const B7=U7(),$7="2.11.15",z7=`realtime-js/${$7}`,V7="1.0.0",Lj=1e4,H7=1e3;var cd;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(cd||(cd={}));var Wt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Wt||(Wt={}));var Pn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Pn||(Pn={}));var Cb;(function(r){r.websocket="websocket"})(Cb||(Cb={}));var Ca;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ca||(Ca={}));class G7{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Dj{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ze||(ze={}));const o_=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=K7(a,r,e,s),i),{})},K7=(r,e,t,n)=>{const s=e.find(l=>l.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?Fj(i,a):kb(a)},Fj=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Q7(e,t)}switch(r){case ze.bool:return W7(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return X7(e);case ze.json:case ze.jsonb:return J7(e);case ze.timestamp:return Y7(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return kb(e);default:return kb(e)}},kb=r=>r,W7=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},X7=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},J7=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Q7=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Fj(e,l))}return r},Y7=r=>typeof r=="string"?r.replace(" ","T"):r,Uj=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fg{constructor(e,t,n={},s=Lj){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var l_;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(l_||(l_={}));class ud{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ud.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=ud.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ud.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(_=>_.presence_ref),p=f.map(_=>_.presence_ref),g=d.filter(_=>p.indexOf(_.presence_ref)<0),x=f.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var c_;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(c_||(c_={}));var u_;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(u_||(u_={}));var Ss;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ss||(Ss={}));class Ow{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new fg(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new Dj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ud(this),this.broadcastEndpointURL=Uj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Ss.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ss.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Ss.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let x=0;x<p;x++){const _=h[x],{filter:{event:b,schema:y,table:m,filter:E}}=_,S=d&&d[x];if(S&&S.event===b&&S.schema===y&&S.table===m&&S.filter===E)g.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),this.state=Wt.errored,e==null||e(Ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Ss.SUBSCRIBED);return}}).receive("error",d=>{this.state=Wt.errored,e==null||e(Ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fg(this,Pn.leave,{},e),n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fg(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Pn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,x,_;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(x=p.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var g,x,_,b,y,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const E=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return E&&((x=t.ids)===null||x===void 0?void 0:x.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const E=(y=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return E==="*"||E===((m=t==null?void 0:t.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:_,commit_timestamp:b,type:y,errors:m}=g;h=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:b,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ow.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pn.close,{},e)}_onError(e){this._on(Pn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=o_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=o_(e.columns,e.old_record)),t}}const d_=()=>{},Z7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q7{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d_,this.ref=0,this.logger=d_,this.conn=null,this.sendBuffer=[],this.serializer=new G7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Ef(async()=>{const{default:c}=await Promise.resolve().then(()=>ru);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${e}/${Cb.websocket}`,this.httpEndpoint=Uj(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=B7),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V7}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cd.connecting:return Ca.Connecting;case cd.open:return Ca.Open;case cd.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ow(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const s={access_token:t,version:z7};t&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Pn.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(H7,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Z7],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Mw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class e9 extends Mw{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pb extends Mw{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var t9=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const Bj=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>ru);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},r9=()=>t9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ef(()=>Promise.resolve().then(()=>ru),void 0)).Response:Response}),Tb=r=>{if(Array.isArray(r))return r.map(t=>Tb(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Tb(n)}),e};var Ro=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const hg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),n9=(r,e,t)=>Ro(void 0,void 0,void 0,function*(){const n=yield r9();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new e9(hg(s),r.status||500))}).catch(s=>{e(new Pb(hg(s),s))}):e(new Pb(hg(r),r))}),s9=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function Af(r,e,t,n,s,i){return Ro(this,void 0,void 0,function*(){return new Promise((a,l)=>{r(t,s9(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>n9(c,l,n))})})}function X0(r,e,t,n){return Ro(this,void 0,void 0,function*(){return Af(r,"GET",e,t,n)})}function Ai(r,e,t,n,s){return Ro(this,void 0,void 0,function*(){return Af(r,"POST",e,n,s,t)})}function i9(r,e,t,n,s){return Ro(this,void 0,void 0,function*(){return Af(r,"PUT",e,n,s,t)})}function a9(r,e,t,n){return Ro(this,void 0,void 0,function*(){return Af(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function $j(r,e,t,n,s){return Ro(this,void 0,void 0,function*(){return Af(r,"DELETE",e,n,s,t)})}var hr=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const o9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l9{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Bj(s)}uploadOrUpdate(e,t,n,s){return hr(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},f_),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}upload(e,t,n){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return hr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:f_.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return hr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Ai(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Mw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}update(e,t,n){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return hr(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}copy(e,t,n){return hr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ai(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return hr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ai(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return hr(this,void 0,void 0,function*(){try{const s=yield Ai(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}download(e,t){return hr(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield X0(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}info(e){return hr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield X0(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Tb(n),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}exists(e){return hr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield a9(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Nt(n)&&n instanceof Pb){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return hr(this,void 0,void 0,function*(){try{return{data:yield $j(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}list(e,t,n){return hr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},o9),t),{prefix:e||""});return{data:yield Ai(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const c9="2.7.1",u9={"X-Client-Info":`storage-js/${c9}`};var Uo=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class d9{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},u9),t),this.fetch=Bj(n)}listBuckets(){return Uo(this,void 0,void 0,function*(){try{return{data:yield X0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nt(e))return{data:null,error:e};throw e}})}getBucket(e){return Uo(this,void 0,void 0,function*(){try{return{data:yield X0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Uo(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Uo(this,void 0,void 0,function*(){try{return{data:yield i9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Uo(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Uo(this,void 0,void 0,function*(){try{return{data:yield $j(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}}class f9 extends d9{constructor(e,t={},n){super(e,t,n)}from(e){return new l9(this.url,this.headers,e,this.fetch)}}const h9="2.50.2";let zu="";typeof Deno<"u"?zu="deno":typeof document<"u"?zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zu="react-native":zu="node";const p9={"X-Client-Info":`supabase-js-${zu}/${h9}`},m9={headers:p9},x9={schema:"public"},g9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y9={};var b9=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const v9=r=>{let e;return r?e=r:typeof fetch>"u"?e=Ej:e=fetch,(...t)=>e(...t)},w9=()=>typeof Headers>"u"?jj:Headers,_9=(r,e,t)=>{const n=v9(t),s=w9();return(i,a)=>b9(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:r;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var S9=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};function N9(r){return r.endsWith("/")?r:r+"/"}function E9(r,e){var t,n;const{db:s,auth:i,realtime:a,global:l}=r,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(t=f==null?void 0:f.headers)!==null&&t!==void 0?t:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>S9(this,void 0,void 0,function*(){return""})};return r.accessToken?h.accessToken=r.accessToken:delete h.accessToken,h}const zj="2.70.0",il=30*1e3,Rb=3,pg=Rb*il,j9="http://localhost:9999",A9="supabase.auth.token",C9={"X-Client-Info":`gotrue-js/${zj}`},Ib="X-Supabase-Api-Version",Vj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P9=6e5;class Lw extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function xe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class T9 extends Lw{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function R9(r){return xe(r)&&r.name==="AuthApiError"}class Hj extends Lw{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class pa extends Lw{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Si extends pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I9(r){return xe(r)&&r.name==="AuthSessionMissingError"}class nh extends pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sh extends pa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ih extends pa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O9(r){return xe(r)&&r.name==="AuthImplicitGrantRedirectError"}class h_ extends pa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ob extends pa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function mg(r){return xe(r)&&r.name==="AuthRetryableFetchError"}class p_ extends pa{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class dd extends pa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const J0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m_=` 	
\r=`.split(""),M9=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<m_.length;e+=1)r[m_[e].charCodeAt(0)]=-2;for(let e=0;e<J0.length;e+=1)r[J0[e].charCodeAt(0)]=e;return r})();function x_(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(J0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(J0[n]),e.queuedBits-=6}}function Gj(r,e,t){const n=M9[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function g_(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{F9(a,n,t)};for(let a=0;a<r.length;a+=1)Gj(r.charCodeAt(a),s,i);return e.join("")}function L9(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function D9(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}L9(n,e)}}function F9(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function U9(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)Gj(r.charCodeAt(s),t,n);return new Uint8Array(e)}function B9(r){const e=[];return D9(r,t=>e.push(t)),new Uint8Array(e)}function $9(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};return r.forEach(s=>x_(s,t,n)),x_(null,t,n),e.join("")}function z9(r){return Math.round(Date.now()/1e3)+r}function V9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const bn=()=>typeof window<"u"&&typeof document<"u",ya={tested:!1,writable:!1},fd=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ya.tested)return ya.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ya.tested=!0,ya.writable=!0}catch{ya.tested=!0,ya.writable=!1}return ya.writable};function H9(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Kj=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>ru);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},G9=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Wj=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ah=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},oh=async(r,e)=>{await r.removeItem(e)};class Yp{constructor(){this.promise=new Yp.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Yp.promiseConstructor=Promise;function xg(r){const e=r.split(".");if(e.length!==3)throw new dd("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!k9.test(e[n]))throw new dd("JWT not in base64url format");return{header:JSON.parse(g_(e[0])),payload:JSON.parse(g_(e[1])),signature:U9(e[2]),raw:{header:e[0],payload:e[1]}}}async function K9(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function W9(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function X9(r){return("0"+r.toString(16)).substr(-2)}function J9(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,X9).join("")}async function Q9(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Y9(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Q9(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bo(r,e,t=!1){const n=J9();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Wj(r,`${e}-code-verifier`,s);const i=await Y9(n);return[i,n===i?"plain":"s256"]}const Z9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q9(r){const e=r.headers.get(Ib);if(!e||!e.match(Z9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eT(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function tT(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $o(r){if(!rT.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var nT=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const Na=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),sT=[502,503,504];async function y_(r){var e;if(!G9(r))throw new Ob(Na(r),0);if(sT.includes(r.status))throw new Ob(Na(r),r.status);let t;try{t=await r.json()}catch(i){throw new Hj(Na(i),i)}let n;const s=q9(r);if(s&&s.getTime()>=Vj["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new p_(Na(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Si}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new p_(Na(t),r.status,t.weak_password.reasons);throw new T9(Na(t),r.status||500,n)}const iT=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function Ne(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ib]||(i[Ib]=Vj["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await aT(r,e,t+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function aT(r,e,t,n,s,i){const a=iT(e,n,s,i);let l;try{l=await r(t,Object.assign({},a))}catch(c){throw console.error(c),new Ob(Na(c),0)}if(l.ok||await y_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await y_(c)}}function vs(r){var e;let t=null;uT(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=z9(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function b_(r){const e=vs(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Pi(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function oT(r){return{data:r,error:null}}function lT(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=nT(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function cT(r){return r}function uT(r){return r.access_token&&r.refresh_token&&r.expires_in}const gg=["global","local","others"];var dT=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class fT{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Kj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=gg[0]){if(gg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gg.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=dT(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lT,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(xe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pi})}catch(t){if(xe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cT});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$o(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pi})}catch(t){if(xe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){$o(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Pi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){$o(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){$o(e.userId);try{const{data:t,error:n}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){$o(e.userId),$o(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}}}const hT={getItem:r=>fd()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{fd()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{fd()&&globalThis.localStorage.removeItem(r)}};function v_(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function pT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zo={debug:!!(globalThis&&fd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mT extends Xj{}async function xT(r,e,t){zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),zo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new mT(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(zo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}pT();const gT={url:j9,storageKey:A9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w_(r,e,t){return await t()}class $d{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$d.nextInstanceID,$d.nextInstanceID+=1,this.instanceID>0&&bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gT),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kj(s.fetch),this.lock=s.lock||w_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bn()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=xT:this.lock=w_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:fd()?this.storage=hT:(this.memoryStorage={},this.storage=v_(this.memoryStorage)):(this.memoryStorage={},this.storage=v_(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=H9(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),bn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O9(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return xe(t)?{error:t}:{error:new Hj("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vs}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Bo(this.storage,this.storageKey)),i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:vs})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vs})}else throw new sh("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:l}=e;t=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:b_})}else if("phone"in e){const{phone:i,password:a,options:l}=e;t=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:b_})}else throw new sh("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,s,i,a,l,c,u,d,f,h,p;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:_,wallet:b,statement:y,options:m}=e;let E;if(bn())if(typeof b=="object")E=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))E=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const S=new URL((t=m==null?void 0:m.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in E&&E.signIn){const N=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await E.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:_,error:b}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:$9(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vs});if(b)throw b;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new nh}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:b})}catch(_){if(xe(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const t=await ah(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vs});if(await oh(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new nh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:vs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bo(this.storage,this.storageKey));const{error:f}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new sh("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vs});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Bo(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:oT})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Si;const{error:s}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ne(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await Ne(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new sh("You must provide either an email or phone number and a type")}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ah(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<pg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pi}):await this._useSession(async t=>{var n,s,i;const{data:a,error:l}=t;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Si}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pi})})}catch(t){if(xe(t))return I9(t)&&(await this._removeSession(),await oh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Si;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Bo(this.storage,this.storageKey));const{data:u,error:d}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Pi});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Si;const t=Date.now()/1e3;let n=t,s=!0,i=null;const{payload:a}=xg(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(xe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Si;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!bn())throw new ih("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ih(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new h_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ih("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new h_("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new ih("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(xe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ah(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(R9(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await oh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=V9(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bo(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return bn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await W9(async s=>(s>0&&await K9(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&mg(i)&&Date.now()+a-n<il})}catch(n){if(this._debug(t,"error",n),xe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),bn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await ah(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<pg;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${pg}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),mg(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yp;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Si;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),xe(i)){const a={session:null,error:i};return mg(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wj(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await oh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),il);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${il}ms, refresh threshold is ${Rb} ticks`),s<=Rb&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Bo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:l}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(xe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(xe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=xg(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+P9>Date.now()))return n;const{data:s,error:i}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new dd("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new dd("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=xg(n);if(eT(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const u=tT(s.alg),d=await this.fetchJwk(s.kid,t),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,B9(`${l}.${c}`)))throw new dd("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}$d.nextInstanceID=0;const yT=$d;class bT extends yT{constructor(e){super(e)}}var vT=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class wT{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=N9(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:x9,realtime:y9,auth:Object.assign(Object.assign({},g9),{storageKey:u}),global:m9},f=E9(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=_9(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new F7(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new p7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new f9(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new q7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _T=(r,e,t)=>new wT(r,e,t),ST="https://xkiursfnbxathzzniosg.supabase.co",NT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhraXVyc2ZuYnhhdGh6em5pb3NnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyODMwNTQsImV4cCI6MjA2Njg1OTA1NH0.Ny7-5DeouIYwXD_t61EtfCSvH-m3eAT_EGujUHHBSyg",Ue=_T(ST,NT);class ET{async signUp(e,t,n){try{const{data:s,error:i}=await Ue.auth.signUp({email:e,password:t,options:{data:{full_name:n.fullName,phone:n.phone}}});if(i)throw i;if(s.user){const{data:a,error:l}=await Ue.from("users").insert({id:s.user.id,email:s.user.email,full_name:n.fullName,phone:n.phone,date_of_birth:n.dateOfBirth,address:n.address,emergency_contact_name:n.emergencyContactName,emergency_contact_phone:n.emergencyContactPhone,emergency_contact_relationship:n.emergencyContactRelationship,security_question_1:n.securityQuestion1,security_answer_1:n.securityAnswer1,security_question_2:n.securityQuestion2,security_answer_2:n.securityAnswer2,two_factor_enabled:!1,account_status:"active",subscription_plan:"free",profile_completed:!0,privacy_preferences:{alertBeneficiariesWhenOverdue:!0,alertType:"concern",allowWellnessChecks:!0,inheritanceOnlyMode:!1,useProfessionalContactsOnly:!1,professionalContactIds:[],separateProfessionalAndFamily:!0},notification_preferences:{pushEnabled:!0,emailEnabled:!0,checkinReminders:!0,inheritanceAlerts:!0,quietHours:{start:"22:00",end:"08:00"}}}).select().single();if(l)throw l;const c=new Date;c.setMonth(c.getMonth()+6);const{error:u}=await Ue.from("checkin_records").insert({user_id:s.user.id,checkin_date:new Date().toISOString(),status:"completed",next_checkin_due:c.toISOString(),reminders_sent:0,max_reminders:4,grace_period_days:30,privacy_preferences:a.privacy_preferences});if(u)throw u;return{success:!0,user:s.user,profile:a,message:"Account created successfully! Please check your email to verify your account."}}throw new Error("Failed to create user account")}catch(s){return console.error("Sign up error:",s),{success:!1,error:s.message||"Failed to create account"}}}async signIn(e,t){try{const{data:n,error:s}=await Ue.auth.signInWithPassword({email:e,password:t});if(s)throw s;return n.user&&await Ue.from("users").update({last_login:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",n.user.id),{success:!0,user:n.user,session:n.session}}catch(n){return console.error("Sign in error:",n),{success:!1,error:n.message||"Failed to sign in"}}}async signOut(){try{const{error:e}=await Ue.auth.signOut();if(e)throw e;return{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message||"Failed to sign out"}}}async getCurrentUser(){try{const{data:{user:e},error:t}=await Ue.auth.getUser();if(t){if(t.message==="Auth session missing!"||t.message.includes("session"))return null;throw t}return e}catch(e){return console.error("Get current user error:",e),null}}async getUserProfile(e){try{const{data:t,error:n}=await Ue.from("users").select("*").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return t}catch(t){return console.error("Get user profile error:",t),null}}async updateUserProfile(e,t){try{const{data:n,error:s}=await Ue.from("users").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Update user profile error:",n),{success:!1,error:n.message||"Failed to update profile"}}}async resetPassword(e){try{const{error:t}=await Ue.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw t;return{success:!0,message:"Password reset email sent successfully"}}catch(t){return console.error("Reset password error:",t),{success:!1,error:t.message||"Failed to send reset email"}}}onAuthStateChange(e){return Ue.auth.onAuthStateChange(e)}}class jT{async createAsset(e,t){try{const{data:n,error:s}=await Ue.from("assets").insert({...t,user_id:e}).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Create asset error:",n),{success:!1,error:n.message}}}async getUserAssets(e){try{const{data:t,error:n}=await Ue.from("assets").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}catch(t){return console.error("Get user assets error:",t),[]}}async updateAsset(e,t){try{const{data:n,error:s}=await Ue.from("assets").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Update asset error:",n),{success:!1,error:n.message}}}async deleteAsset(e){try{const{error:t}=await Ue.from("assets").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Delete asset error:",t),{success:!1,error:t.message}}}async createContact(e,t){try{const{data:n,error:s}=await Ue.from("contacts").insert({...t,user_id:e}).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Create contact error:",n),{success:!1,error:n.message}}}async getUserContacts(e){try{const{data:t,error:n}=await Ue.from("contacts").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}catch(t){return console.error("Get user contacts error:",t),[]}}async createDocument(e,t){try{const{data:n,error:s}=await Ue.from("documents").insert({...t,user_id:e}).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Create document error:",n),{success:!1,error:n.message}}}async getUserDocuments(e){try{const{data:t,error:n}=await Ue.from("documents").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}catch(t){return console.error("Get user documents error:",t),[]}}async createBankStatement(e,t){try{const{data:n,error:s}=await Ue.from("bank_statements").insert({...t,user_id:e}).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Create bank statement error:",n),{success:!1,error:n.message}}}async getUserBankStatements(e){try{const{data:t,error:n}=await Ue.from("bank_statements").select("*").eq("user_id",e).order("statement_date",{ascending:!1});if(n)throw n;return t||[]}catch(t){return console.error("Get user bank statements error:",t),[]}}async getUserCheckinRecord(e){try{const{data:t,error:n}=await Ue.from("checkin_records").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(1).single();if(n&&n.code!=="PGRST116")throw n;return t||null}catch(t){return console.error("Get user checkin record error:",t),null}}async updateCheckinRecord(e,t){try{const{data:n,error:s}=await Ue.from("checkin_records").update({...t,updated_at:new Date().toISOString()}).eq("user_id",e).select().single();if(s)throw s;return{success:!0,data:n}}catch(n){return console.error("Update checkin record error:",n),{success:!1,error:n.message}}}}const Gs=new ET,yg=new jT,_l=r=>r!=null&&r.message?r.message.includes("Invalid login credentials")?"Invalid email or password. Please try again.":r.message.includes("User already registered")?"An account with this email already exists. Please sign in instead.":r.message.includes("Email not confirmed")?"Please check your email and click the confirmation link before signing in.":r.message:"An unexpected error occurred. Please try again.";class AT{async getUserCheckinStatus(e){try{const{data:t,error:n}=await Ue.from("checkin_records").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(1).single();if(n){if(n.code==="PGRST116")return null;throw n}return{id:t.id,userId:t.user_id,status:this.calculateStatus(t.next_checkin_due,t.reminders_sent,t.max_reminders),lastCheckinDate:t.checkin_date,nextCheckinDue:t.next_checkin_due,remindersSent:t.reminders_sent,maxReminders:t.max_reminders,gracePeriodDays:t.grace_period_days,privacyPreferences:t.privacy_preferences||this.getDefaultPrivacyPreferences()}}catch(t){return console.error("Error getting check-in status:",t),null}}async initializeUserCheckin(e,t,n){try{const s=new Date;s.setMonth(s.getMonth()+6);const{data:i,error:a}=await Ue.from("checkin_records").insert({user_id:e,checkin_date:new Date().toISOString(),status:"completed",next_checkin_due:s.toISOString(),reminders_sent:0,max_reminders:4,grace_period_days:30,privacy_preferences:n||this.getDefaultPrivacyPreferences()}).select().single();if(a)throw a;return{id:i.id,userId:i.user_id,status:"active",lastCheckinDate:i.checkin_date,nextCheckinDue:i.next_checkin_due,remindersSent:i.reminders_sent,maxReminders:i.max_reminders,gracePeriodDays:i.grace_period_days,privacyPreferences:i.privacy_preferences}}catch(s){return console.error("Error initializing check-in:",s),null}}async processUserCheckin(e,t){try{const n=await this.getUserCheckinStatus(e);if(!n)return this.initializeUserCheckin(e,t);const s=new Date;s.setMonth(s.getMonth()+6);const{data:i,error:a}=await Ue.from("checkin_records").update({checkin_date:new Date().toISOString(),status:"completed",next_checkin_due:s.toISOString(),reminders_sent:0,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(a)throw a;return{id:i.id,userId:i.user_id,status:"active",lastCheckinDate:i.checkin_date,nextCheckinDue:i.next_checkin_due,remindersSent:i.reminders_sent,maxReminders:i.max_reminders,gracePeriodDays:i.grace_period_days,privacyPreferences:i.privacy_preferences}}catch(n){return console.error("Error processing check-in:",n),null}}async updatePrivacyPreferences(e,t){try{const n=await this.getUserCheckinStatus(e);if(!n)return null;const{data:s,error:i}=await Ue.from("checkin_records").update({privacy_preferences:t,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(i)throw i;return{...n,privacyPreferences:t}}catch(n){return console.error("Error updating privacy preferences:",n),null}}async getAllUserNotifications(e){return[{id:"1",userId:e,beneficiaryId:"contact1",type:"checkin_reminder",message:"Your 6-month check-in is due in 7 days",sentDate:new Date(Date.now()-7*24*60*60*1e3).toISOString(),recipientType:"beneficiary",actionRequired:!1,privacyRespected:!0},{id:"2",userId:e,beneficiaryId:"contact2",type:"professional_concern",message:"Please check on the account holder as they have missed their scheduled check-in",sentDate:new Date(Date.now()-2*24*60*60*1e3).toISOString(),recipientType:"professional",actionRequired:!0,privacyRespected:!0}]}async processOverdueCheckins(){return{processed:5,remindersSent:3,beneficiaryAlerts:1,professionalAlerts:1,inheritanceTriggered:0,privacyRespected:2}}calculateStatus(e,t,n){const s=new Date,i=new Date(e),a=Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));return a>=0?"active":a>=-7?"warning":t<n?"overdue":"deceased_presumed"}getDefaultPrivacyPreferences(){return{alertBeneficiariesWhenOverdue:!0,alertType:"concern",allowWellnessChecks:!0,inheritanceOnlyMode:!1,useProfessionalContactsOnly:!1,professionalContactIds:[],separateProfessionalAndFamily:!0}}}const Ea=new AT;class CT{constructor(){this.vapidKeys={publicKey:"your_vapid_public_key",privateKey:"your_vapid_private_key"}}async initializePushNotifications(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push notifications not supported"),!1;try{const e=await navigator.serviceWorker.register("/sw.js");return console.log("Service worker registered:",e),await Notification.requestPermission()!=="granted"?(console.warn("Notification permission denied"),!1):!0}catch(e){return console.error("Failed to initialize push notifications:",e),!1}}async subscribeUser(e){try{const n=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidKeys.publicKey)}),s={userId:e,endpoint:n.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(n.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(n.getKey("auth"))))},userAgent:navigator.userAgent,createdAt:new Date().toISOString(),isActive:!0};return localStorage.setItem(`push_subscription_${e}`,JSON.stringify(s)),console.log("User subscribed to push notifications:",s),s}catch(t){return console.error("Failed to subscribe user:",t),null}}async sendPushNotification(e){try{const t=localStorage.getItem(`push_subscription_${e.userId}`);if(!t)return console.warn("No push subscription found for user:",e.userId),!1;const n=JSON.parse(t),s={title:e.title,body:e.body,icon:e.icon||"/icon-192x192.png",badge:e.badge||"/badge-72x72.png",image:e.image,data:{...e.data,type:e.type,userId:e.userId,timestamp:new Date().toISOString()},actions:e.actions,requireInteraction:e.priority==="urgent",silent:e.priority==="low"};if("Notification"in window&&Notification.permission==="granted"){const i=new Notification(e.title,{body:e.body,icon:s.icon,badge:s.badge,image:s.image,data:s.data,requireInteraction:s.requireInteraction,silent:s.silent});i.onclick=()=>{window.focus(),i.close(),this.handleNotificationClick(e.type,e.data)},e.priority!=="urgent"&&setTimeout(()=>i.close(),1e4)}return console.log("Push notification sent:",e),!0}catch(t){return console.error("Failed to send push notification:",t),!1}}handleNotificationClick(e,t){switch(e){case"checkin_reminder":case"checkin_overdue":window.location.href="/checkin";break;case"inheritance_alert":window.location.href="/inheritance";break;default:window.location.href="/dashboard"}}async scheduleNotification(e,t){const n=t.getTime()-Date.now();return n<=0?this.sendPushNotification(e):(setTimeout(()=>{this.sendPushNotification(e)},n),console.log(`Notification scheduled for ${t.toISOString()}`),!0)}async sendBulkNotifications(e){const t=[];for(const n of e){const s=await this.sendPushNotification(n);t.push(s),await new Promise(i=>setTimeout(i,100))}return t}async unsubscribeUser(e){try{const n=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return n&&await n.unsubscribe(),localStorage.removeItem(`push_subscription_${e}`),console.log("User unsubscribed from push notifications"),!0}catch(t){return console.error("Failed to unsubscribe user:",t),!1}}async isUserSubscribed(e){return!!localStorage.getItem(`push_subscription_${e}`)}getUserNotificationPreferences(e){const t=localStorage.getItem(`notification_preferences_${e}`);return t?JSON.parse(t):{pushEnabled:!0,emailEnabled:!0,checkinReminders:!0,inheritanceAlerts:!0,quietHours:{start:"22:00",end:"08:00"}}}updateUserNotificationPreferences(e,t){const s={...this.getUserNotificationPreferences(e),...t};localStorage.setItem(`notification_preferences_${e}`,JSON.stringify(s)),console.log("Notification preferences updated:",s)}isQuietHours(e){const t=this.getUserNotificationPreferences(e);if(!t.quietHours)return!1;const n=new Date,s=n.getHours()*60+n.getMinutes(),[i,a]=t.quietHours.start.split(":").map(Number),[l,c]=t.quietHours.end.split(":").map(Number),u=i*60+a,d=l*60+c;return u<=d?s>=u&&s<=d:s>=u||s<=d}urlBase64ToUint8Array(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(n),i=new Uint8Array(s.length);for(let a=0;a<s.length;++a)i[a]=s.charCodeAt(a);return i}}const bg=new CT,kT=({userId:r,userEmail:e})=>{const[t,n]=M.useState(null),[s,i]=M.useState([]),[a,l]=M.useState(!1),[c,u]=M.useState(!1),[d,f]=M.useState(!1),[h,p]=M.useState(!1),[g,x]=M.useState(null),[_,b]=M.useState([]),[y,m]=M.useState({alertBeneficiariesWhenOverdue:!0,alertType:"concern",allowWellnessChecks:!0,inheritanceOnlyMode:!1,customMessage:void 0,useProfessionalContactsOnly:!1,professionalContactIds:[],professionalConcernMessage:void 0,separateProfessionalAndFamily:!0});M.useEffect(()=>{E(),N(),S()},[r]);const E=async()=>{try{let T=await Ea.getUserCheckinStatus(r);T||(T=await Ea.initializeUserCheckin(r,e,y)),n(T),m(T.privacyPreferences);const W=await Ea.getAllUserNotifications(r);i(W)}catch(T){console.error("Error loading check-in data:",T)}},S=async()=>{b([{id:"1",name:"Onyedika Aniefuna",relationship:"Sister",email:"onyedika.aniefuna@email.com",isProfessional:!1},{id:"2",name:"Maryjane Aniefuna",relationship:"Sister",email:"maryjane.aniefuna@email.com",isProfessional:!1},{id:"3",name:"Robert Smith, Esq.",relationship:"Attorney",email:"robert@smithlaw.com",isProfessional:!0},{id:"4",name:"Dr. Sarah Johnson",relationship:"Family Doctor",email:"sarah.johnson@medical.com",isProfessional:!0}])},N=async()=>{const T=await bg.isUserSubscribed(r);p(T)},k=async()=>{if(t){l(!0);try{const T=await Ea.processUserCheckin(r,e);n(T),alert("Check-in completed successfully! Your next check-in is scheduled for "+new Date(T.nextCheckinDue).toLocaleDateString())}catch(T){console.error("Error processing check-in:",T),alert("Failed to process check-in. Please try again.")}finally{l(!1)}}},R=async T=>{try{const W={...y,...T};m(W);const G=await Ea.updatePrivacyPreferences(r,W);G&&(n(G),alert("Privacy preferences updated successfully!"))}catch(W){console.error("Error updating privacy preferences:",W),alert("Failed to update privacy preferences.")}},U=(T,W)=>{const G=W?[...y.professionalContactIds,T]:y.professionalContactIds.filter(pe=>pe!==T);R({professionalContactIds:G})},B=async()=>{try{await bg.initializePushNotifications()&&await bg.subscribeUser(r)&&(p(!0),alert("Push notifications enabled successfully!"))}catch(T){console.error("Error enabling push notifications:",T),alert("Failed to enable push notifications.")}},J=async()=>{try{x(new Date);const T=await Ea.processOverdueCheckins();alert(`Processed ${T.processed} check-ins:
- Reminders sent: ${T.remindersSent}
- Beneficiary alerts: ${T.beneficiaryAlerts}
- Professional alerts: ${T.professionalAlerts}
- Inheritance triggered: ${T.inheritanceTriggered}
- Privacy respected: ${T.privacyRespected}`),await E()}catch(T){console.error("Error processing overdue check-ins:",T),alert("Failed to process overdue check-ins.")}},Q=T=>{switch(T){case"active":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"overdue":return"text-orange-600 bg-orange-100";case"deceased_presumed":return"text-red-600 bg-red-100";default:return"text-slate-600 bg-slate-100"}},Y=T=>{switch(T){case"active":return Dt;case"warning":return gt;case"overdue":return Wh;case"deceased_presumed":return Wh;default:return gt}},oe=()=>{if(!t)return 0;const T=new Date(t.nextCheckinDue),W=new Date;return Math.ceil((T.getTime()-W.getTime())/(1e3*60*60*24))},A=()=>oe()<0,O=()=>_.filter(T=>T.isProfessional),Z=()=>_.filter(T=>y.professionalContactIds.includes(T.id));if(!t)return o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"w-8 h-8 text-slate-400 mx-auto mb-3"}),o.jsx("p",{className:"text-slate-600",children:"Loading check-in status..."})]})});const P=Y(t.status),F=oe();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-3 rounded-lg ${Q(t.status)}`,children:o.jsx(P,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"6-Month Check-in Status"}),o.jsx("p",{className:"text-slate-600 capitalize",children:t.status.replace("_"," ")})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f(!d),className:"p-2 text-slate-400 hover:text-purple-600 transition-colors",title:"Privacy Settings",children:o.jsx($s,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>u(!c),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(Hp,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-900",children:A()?Math.abs(F):F}),o.jsxs("div",{className:"text-sm text-slate-600",children:["Days ",A()?"overdue":"until due"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-900",children:new Date(t.nextCheckinDue).toLocaleDateString()}),o.jsx("div",{className:"text-sm text-slate-600",children:"Next check-in due"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[t.remindersSent,"/",t.maxReminders]}),o.jsx("div",{className:"text-sm text-slate-600",children:"Reminders sent"})]})]}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx($s,{className:"w-4 h-4 text-purple-600"}),o.jsx("span",{className:"font-medium text-purple-900",children:"Enhanced Privacy Settings Active"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Beneficiary alerts:"}),o.jsx("span",{className:"ml-1",children:y.alertBeneficiariesWhenOverdue?"Enabled":"Disabled"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Professional contacts only:"}),o.jsx("span",{className:"ml-1",children:y.useProfessionalContactsOnly?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Alert type:"}),o.jsx("span",{className:"ml-1 capitalize",children:y.alertType.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Mode:"}),o.jsx("span",{className:"ml-1",children:y.inheritanceOnlyMode?"Inheritance-only":"Standard"})]})]}),Z().length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-purple-200",children:[o.jsx("span",{className:"font-medium text-purple-900",children:"Professional contacts: "}),o.jsx("span",{className:"text-purple-700",children:Z().map(T=>T.name).join(", ")})]})]}),t.status==="active"&&!A()&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"text-green-800 font-medium",children:"Your account is active and secure"})]}),o.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Your next check-in is due in ",F," days. We'll send you reminders before it's due."]})]}),A()&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Wh,{className:"w-5 h-5 text-red-600"}),o.jsx("span",{className:"text-red-800 font-medium",children:"Check-in overdue!"})]}),o.jsxs("p",{className:"text-red-700 text-sm mt-1",children:["Your check-in is ",Math.abs(F)," days overdue. Please complete it immediately to avoid triggering inheritance processes."]})]}),o.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[o.jsxs("button",{onClick:k,disabled:a,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-colors ${A()?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-slate-400`,children:[o.jsx(Dt,{className:"w-5 h-5"}),o.jsx("span",{children:a?"Processing...":"Complete Check-in"})]}),!h&&o.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:[o.jsx(z0,{className:"w-4 h-4"}),o.jsx("span",{children:"Enable Notifications"})]})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center space-x-2",children:[o.jsx($s,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{children:"Enhanced Privacy & Professional Contact Settings"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-purple-900",children:"Alert Beneficiaries When Overdue"}),o.jsx("p",{className:"text-sm text-purple-700",children:"Control whether your beneficiaries are notified if you miss check-ins"})]}),o.jsx("button",{onClick:()=>R({alertBeneficiariesWhenOverdue:!y.alertBeneficiariesWhenOverdue}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.alertBeneficiariesWhenOverdue?"bg-purple-600":"bg-slate-300"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.alertBeneficiariesWhenOverdue?"translate-x-6":"translate-x-1"}`})})]}),!y.alertBeneficiariesWhenOverdue&&o.jsx("div",{className:"bg-purple-100 border border-purple-300 rounded p-3 mt-3",children:o.jsxs("p",{className:"text-sm text-purple-800",children:[o.jsx("strong",{children:"Privacy Mode:"})," Your beneficiaries will NOT be alerted to check on you. Inheritance processes will be triggered directly after maximum failed attempts."]})})]}),y.alertBeneficiariesWhenOverdue&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h5",{className:"font-medium text-blue-900 flex items-center space-x-2",children:[o.jsx(dg,{className:"w-4 h-4"}),o.jsx("span",{children:"Professional Contacts Only"})]}),o.jsx("p",{className:"text-sm text-blue-700",children:"Only alert your lawyers, doctors, or other professionals - not family members"})]}),o.jsx("button",{onClick:()=>R({useProfessionalContactsOnly:!y.useProfessionalContactsOnly}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.useProfessionalContactsOnly?"bg-blue-600":"bg-slate-300"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.useProfessionalContactsOnly?"translate-x-6":"translate-x-1"}`})})]}),y.useProfessionalContactsOnly&&o.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-3 mt-3",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Professional Mode:"})," Only your selected professional contacts (lawyers, doctors, etc.) will be notified about missed check-ins. Family members will only be contacted for inheritance matters."]})})]}),y.alertBeneficiariesWhenOverdue&&o.jsxs("div",{children:[o.jsxs("h5",{className:"font-medium text-slate-900 mb-3 flex items-center space-x-2",children:[o.jsx(i7,{className:"w-4 h-4"}),o.jsx("span",{children:"Select Professional Contacts"})]}),o.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Choose which professional contacts (lawyers, doctors, etc.) should be notified about missed check-ins"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O().map(T=>o.jsxs("label",{className:"flex items-start space-x-3 p-3 bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-colors cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y.professionalContactIds.includes(T.id),onChange:W=>U(T.id,W.target.checked),className:"mt-1 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium text-slate-900",children:T.name}),o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:T.relationship})]}),o.jsx("p",{className:"text-xs text-slate-600 mt-1",children:T.email})]})]},T.id))}),O().length===0&&o.jsx("div",{className:"text-center py-4 text-slate-500",children:o.jsx("p",{children:"No professional contacts found. Add lawyers, doctors, or other professionals to your contacts."})})]}),y.professionalContactIds.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900 mb-2",children:"Custom Message for Professional Contacts"}),o.jsx("textarea",{value:y.professionalConcernMessage||"",onChange:T=>m(W=>({...W,professionalConcernMessage:T.target.value})),onBlur:()=>R({professionalConcernMessage:y.professionalConcernMessage}),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a specific message for your professional contacts (lawyers, doctors, etc.)..."}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This message will be included in concern notifications to your professional contacts"})]}),y.alertBeneficiariesWhenOverdue&&!y.useProfessionalContactsOnly&&o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900 mb-3",children:"Alert Type"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",checked:y.alertType==="concern",onChange:()=>R({alertType:"concern"}),className:"mt-1 text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-slate-900",children:"Concern-based alerts"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Ask beneficiaries to check on your wellbeing first, then proceed to inheritance if needed"})]})]}),o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",checked:y.alertType==="direct_inheritance",onChange:()=>R({alertType:"direct_inheritance"}),className:"mt-1 text-purple-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-slate-900",children:"Direct inheritance alerts"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Skip wellness checks and notify beneficiaries directly about inheritance availability"})]})]})]})]}),y.alertBeneficiariesWhenOverdue&&y.professionalContactIds.length>0&&!y.useProfessionalContactsOnly&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900",children:"Separate Professional and Family Messages"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Send different, appropriate messages to professional contacts vs. family members"})]}),o.jsx("button",{onClick:()=>R({separateProfessionalAndFamily:!y.separateProfessionalAndFamily}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.separateProfessionalAndFamily?"bg-green-600":"bg-slate-300"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.separateProfessionalAndFamily?"translate-x-6":"translate-x-1"}`})})]}),y.alertBeneficiariesWhenOverdue&&y.alertType==="concern"&&!y.useProfessionalContactsOnly&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900",children:"Allow Wellness Check Requests"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Let beneficiaries know they can contact you to check on your wellbeing"})]}),o.jsx("button",{onClick:()=>R({allowWellnessChecks:!y.allowWellnessChecks}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.allowWellnessChecks?"bg-blue-600":"bg-slate-300"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.allowWellnessChecks?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900",children:"Inheritance-Only Mode"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Skip all wellness checks and go directly to inheritance notifications"})]}),o.jsx("button",{onClick:()=>R({inheritanceOnlyMode:!y.inheritanceOnlyMode}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.inheritanceOnlyMode?"bg-red-600":"bg-slate-300"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.inheritanceOnlyMode?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900 mb-2",children:"Custom Message for Beneficiaries (Optional)"}),o.jsx("textarea",{value:y.customMessage||"",onChange:T=>m(W=>({...W,customMessage:T.target.value})),onBlur:()=>R({customMessage:y.customMessage}),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Add a personal message that will be included in inheritance notifications..."}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This message will be included in notifications to your beneficiaries"})]})]})]}),c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Check-in Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-slate-900",children:"Push Notifications"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Receive browser notifications for reminders"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`text-sm ${h?"text-green-600":"text-slate-500"}`,children:h?"Enabled":"Disabled"}),!h&&o.jsx("button",{onClick:B,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Enable"})]})]}),o.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[o.jsx("h5",{className:"font-medium text-slate-900 mb-2",children:"Check-in Schedule"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600",children:"Interval:"}),o.jsx("span",{className:"ml-2 font-medium",children:"6 months"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600",children:"Grace period:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[t.gracePeriodDays," days"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600",children:"Max reminders:"}),o.jsx("span",{className:"ml-2 font-medium",children:t.maxReminders})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600",children:"Last check-in:"}),o.jsx("span",{className:"ml-2 font-medium",children:new Date(t.lastCheckinDate).toLocaleDateString()})]})]})]})]})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"System Controls"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:J,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[o.jsx(gt,{className:"w-4 h-4"}),o.jsx("span",{children:"Process Overdue Check-ins"})]}),g&&o.jsxs("span",{className:"text-sm text-slate-600",children:["Last processed: ",g.toLocaleString()]})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"This simulates the automated system that runs daily to check for overdue check-ins and send notifications (respecting enhanced privacy preferences including professional contact options)."})]}),s.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recent Notifications"}),o.jsx("div",{className:"space-y-3",children:s.slice(0,5).map(T=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-slate-50 rounded-lg",children:[o.jsx("div",{className:`p-1 rounded ${T.type==="inheritance_triggered"?"bg-red-100":T.type==="professional_concern"?"bg-blue-100":T.privacyRespected?"bg-purple-100":"bg-yellow-100"}`,children:T.type==="inheritance_triggered"?o.jsx(qe,{className:"w-4 h-4 text-red-600"}):T.type==="professional_concern"?o.jsx(dg,{className:"w-4 h-4 text-blue-600"}):T.privacyRespected?o.jsx($s,{className:"w-4 h-4 text-purple-600"}):o.jsx(hs,{className:"w-4 h-4 text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-slate-900 text-sm",children:T.type.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase())}),o.jsx("span",{className:"text-xs text-slate-500",children:new Date(T.sentDate).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:T.message}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[T.actionRequired&&o.jsx("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"Action Required"}),T.privacyRespected&&o.jsx("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:"Privacy Respected"}),T.recipientType==="professional"&&o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"Professional Contact"})]})]})]},T.id))})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"How Enhanced Privacy-Aware Check-ins Work"}),o.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Js,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Every 6 months, you'll receive reminders to complete a simple check-in"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx($s,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Your enhanced privacy preferences control how and when beneficiaries are notified"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(dg,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"You can choose to only alert professional contacts (lawyers, doctors) for concerns"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(H0,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"You can skip wellness checks and go directly to inheritance notifications"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Fn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Different messages can be sent to professionals vs. family members"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(qe,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Inheritance processes respect your privacy preferences throughout"})]})]})]})]})};class PT{constructor(){this.isInitialized=!1,this.mockSubscription={isActive:!1,productId:null,expirationDate:null,willRenew:!1,isInGracePeriod:!1,plan:"free"}}async initialize(e){this.isInitialized||(console.log("Mock RevenueCat initialized with user ID:",e),this.isInitialized=!0)}isConfigured(){return!0}async getOfferings(){return[{identifier:"standard",availablePackages:[{identifier:"pro_monthly",product:{identifier:"pro_monthly",priceString:"$12",title:"Heritage Vault Pro"}},{identifier:"pro_annual",product:{identifier:"pro_annual",priceString:"$120",title:"Heritage Vault Pro (Annual)"}},{identifier:"forever",product:{identifier:"forever",priceString:"$89",title:"Heritage Vault Forever"}}]}]}async getCustomerInfo(){return{entitlements:{active:this.mockSubscription.plan!=="free"?{[this.mockSubscription.plan]:{productIdentifier:this.mockSubscription.productId,expirationDate:this.mockSubscription.expirationDate,willRenew:this.mockSubscription.willRenew,isInGracePeriod:this.mockSubscription.isInGracePeriod}}:{}}}}async purchasePackage(e){if(console.log("Purchasing package:",e),await new Promise(t=>setTimeout(t,2e3)),e.product.identifier.includes("pro_monthly")){const t=new Date;t.setMonth(t.getMonth()+1),this.mockSubscription={isActive:!0,productId:"pro_monthly",expirationDate:t.toISOString(),willRenew:!0,isInGracePeriod:!1,plan:"pro"}}else if(e.product.identifier.includes("pro_annual")){const t=new Date;t.setFullYear(t.getFullYear()+1),this.mockSubscription={isActive:!0,productId:"pro_annual",expirationDate:t.toISOString(),willRenew:!0,isInGracePeriod:!1,plan:"pro"}}else e.product.identifier.includes("forever")&&(this.mockSubscription={isActive:!0,productId:"forever",expirationDate:null,willRenew:!1,isInGracePeriod:!1,plan:"forever"});return{customerInfo:await this.getCustomerInfo()}}async restorePurchases(){await new Promise(t=>setTimeout(t,1e3));const e=new Date;return e.setMonth(e.getMonth()+1),this.mockSubscription={isActive:!0,productId:"pro_monthly",expirationDate:e.toISOString(),willRenew:!0,isInGracePeriod:!1,plan:"pro"},await this.getCustomerInfo()}async getUserSubscription(){return this.mockSubscription}async hasProAccess(){return this.mockSubscription.plan==="pro"||this.mockSubscription.plan==="forever"}async hasLifetimeAccess(){return this.mockSubscription.plan==="forever"}async getSubscriptionPlans(){return[{id:"free",name:"Free Forever",price:"$0",period:"/forever",description:"Perfect for getting started with digital inheritance",features:["Up to 3 assets","1 next of kin","1 short text message","Basic security","Mobile app access","Email support"],packageType:"monthly",buttonStyle:"border-2 border-purple-700 text-purple-800 hover:border-purple-800 hover:bg-purple-50",buttonText:"Start Free",badge:"Free"},{id:"pro_monthly",name:"Heritage Vault Pro",price:"$12",period:"/month",yearlyPrice:"$120",yearlyPeriod:"/year",description:"Complete digital inheritance solution for families",features:["Unlimited asset storage","Multiple next of kin","Voice & video messages","Flash questions & tests","Custom avatar creation","Advanced release logic","Priority support","Multi-language support","Advanced security features"],isPopular:!0,packageType:"monthly",buttonStyle:"bg-purple-700 text-white hover:bg-purple-800",buttonText:"Start 7-Day Free Trial",badge:"Most Popular"},{id:"forever",name:"Heritage Vault Forever",price:"$89",period:"/one-time",description:"Lifetime access - perfect for those who hate subscriptions",features:["Unlimited assets","Lifetime storage","AI avatar creation","3 voice messages","10 flash questions","Vault release tracking","Exportable heritage report","Lifetime updates","No recurring fees"],packageType:"lifetime",buttonStyle:"bg-gradient-to-r from-purple-700 to-pink-700 text-white hover:from-purple-800 hover:to-pink-800",buttonText:"Buy Lifetime Access",badge:"Best Value"}]}async setUserId(e){console.log("Setting RevenueCat user ID:",e)}async logOut(){console.log("Logging out RevenueCat user")}async canAddAsset(e){return this.mockSubscription.plan==="free"&&e>=3?{canAdd:!1,reason:"Free plan limited to 3 assets. Upgrade to Pro for unlimited assets."}:{canAdd:!0}}async canAddContact(e){return this.mockSubscription.plan==="free"&&e>=1?{canAdd:!1,reason:"Free plan limited to 1 next of kin. Upgrade to Pro for multiple beneficiaries."}:{canAdd:!0}}async canUseAIFeatures(){return this.mockSubscription.plan==="free"?{canUse:!1,reason:"AI features require Pro or Forever plan. Upgrade to access voice messages and avatar creation."}:{canUse:!0}}}const jt=new PT,Dw=r=>{if(r.plan==="forever")return"Lifetime Access";if(r.plan==="pro"){if(r.expirationDate){const e=new Date(r.expirationDate),t=new Date,n=Math.ceil((e.getTime()-t.getTime())/(1e3*60*60*24));return r.isInGracePeriod?`Grace Period (${n} days)`:r.willRenew?`Pro - Renews ${e.toLocaleDateString()}`:`Pro - Expires ${e.toLocaleDateString()}`}return"Pro Active"}return"Free Plan"},Fw=({onClose:r,onSubscriptionChange:e})=>{const[t,n]=M.useState([]),[s,i]=M.useState(null),[a,l]=M.useState(!0),[c,u]=M.useState(null),[d,f]=M.useState(null),[h,p]=M.useState(!1);M.useEffect(()=>{g()},[]);const g=async()=>{try{if(l(!0),f(null),!jt.isConfigured()){f("RevenueCat is not configured. Please add your public key to environment variables.");return}await jt.initialize();const[m,E]=await Promise.all([jt.getUserSubscription(),jt.getSubscriptionPlans()]);i(m),n(E)}catch(m){console.error("Error loading subscription data:",m),f("Failed to load subscription information. Please try again.")}finally{l(!1)}},x=async m=>{if(m!=="free")try{u(m),f(null),p(!1);const E=await jt.getOfferings();let S=null;for(const k of E)if(k.availablePackages&&(S=k.availablePackages.find(R=>R.product.identifier===m),S))break;if(!S)throw new Error("Package not found");await jt.purchasePackage(S);const N=await jt.getUserSubscription();i(N),e&&e(N),p(!0)}catch(E){console.error("Purchase failed:",E),E.code==="PURCHASE_CANCELLED"?f("Purchase was cancelled."):E.code==="PAYMENT_PENDING"?f("Payment is pending. Please check back later."):f("Purchase failed. Please try again or contact support.")}finally{u(null)}},_=async()=>{try{l(!0),f(null),await jt.restorePurchases();const m=await jt.getUserSubscription();i(m),e&&e(m),alert("Purchases restored successfully!")}catch(m){console.error("Restore failed:",m),f("Failed to restore purchases. Please try again.")}finally{l(!1)}},b=m=>m.id==="free"?{icon:mj,text:"Free",color:"bg-green-600"}:m.isPopular?{icon:V0,text:"Most Popular",color:"bg-purple-700"}:m.packageType==="lifetime"?{icon:gj,text:"Best Value",color:"bg-purple-700"}:null,y=m=>m==="free"&&(s==null?void 0:s.plan)==="free"||(s==null?void 0:s.productId)===m;return a?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[o.jsx(od,{className:"w-8 h-8 animate-spin text-purple-700 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-700",children:"Loading subscription information..."})]})}):h?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Qs,{className:"w-8 h-8 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Purchase Successful!"}),o.jsx("p",{className:"text-slate-600 mb-6",children:"Your subscription has been activated. Thank you for upgrading your Heritage Vault plan!"}),o.jsx("button",{onClick:r,className:"px-6 py-3 bg-purple-700 text-white rounded-lg hover:bg-purple-800 transition-colors",children:"Return to Dashboard"})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-purple-50 to-purple-100 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Manage Subscription"}),s&&o.jsxs("p",{className:"text-slate-600 mt-1",children:["Current plan: ",Dw(s)]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"×"})]}),o.jsxs("div",{className:"p-6",children:[d&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[o.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-red-800",children:d})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:t.map(m=>{const E=b(m),S=y(m.id),N=c===m.id;return o.jsxs("div",{className:`bg-white rounded-2xl shadow-lg border-2 transition-all duration-200 hover:shadow-xl ${m.isPopular?"border-purple-700 relative transform scale-105":"border-slate-200 hover:border-purple-300"}`,children:[E&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center space-x-1 text-white ${E.color}`,children:[o.jsx(E.icon,{className:"w-4 h-4"}),o.jsx("span",{children:E.text})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:m.name}),o.jsx("p",{className:"text-slate-700 mb-4 text-sm",children:m.description}),o.jsxs("div",{className:"flex items-baseline justify-center",children:[o.jsx("span",{className:"text-3xl font-bold text-slate-900",children:m.price}),o.jsx("span",{className:"text-slate-700 ml-1",children:m.period})]}),m.yearlyPrice&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("span",{className:"text-lg text-green-600 font-semibold",children:["or ",m.yearlyPrice,m.yearlyPeriod]}),o.jsx("span",{className:"text-sm text-green-600 block",children:"Save 2 months!"})]})]}),o.jsx("ul",{className:"space-y-3 mb-6",children:m.features.map((k,R)=>o.jsxs("li",{className:"flex items-start space-x-3",children:[o.jsx(Qs,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-slate-800 text-sm",children:k})]},R))}),o.jsxs("button",{onClick:()=>x(m.id),disabled:S||N||m.id==="free",className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 ${S?"bg-green-100 text-green-800 cursor-not-allowed":m.id==="free"?"bg-slate-100 text-slate-600 cursor-not-allowed":m.isPopular?"bg-purple-700 text-white hover:bg-purple-800":"border-2 border-purple-700 text-purple-800 hover:border-purple-800 hover:bg-purple-50"}`,children:[N&&o.jsx(od,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:S?"Current Plan":m.id==="free"?"Free Plan":N?"Processing...":`Upgrade to ${m.name}`})]})]})]},m.id)})}),o.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-200",children:[o.jsxs("button",{onClick:_,disabled:a,className:"flex items-center space-x-2 px-4 py-2 text-purple-700 hover:text-purple-800 transition-colors",children:[o.jsx(Nj,{className:"w-4 h-4"}),o.jsx("span",{children:"Restore Purchases"})]}),o.jsx("button",{onClick:r,className:"px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:"Close"})]})]})]})})},TT=({assets:r,contacts:e,documents:t})=>{const[n,s]=M.useState(!1),[i,a]=M.useState(null);M.useEffect(()=>{l()},[]);const l=async()=>{try{if(jt.isConfigured()){await jt.initialize();const p=await jt.getUserSubscription();a(p)}}catch(p){console.error("Error loading subscription data:",p)}},c=p=>{a(p)},u=r.reduce((p,g)=>{const x=g.value.replace(/[^0-9.-]/g,"");return isNaN(parseFloat(x))?p:p+parseFloat(x)},0),d=e.filter(p=>p.isPrimaryBeneficiary),f=[{action:"Updated Investment Portfolio - Fidelity",date:"2024-12-18",type:"asset"},{action:"Added Insurance Policies document",date:"2024-12-05",type:"document"},{action:"Updated Primary Checking Account",date:"2024-12-20",type:"asset"}],h=({title:p,value:g,icon:x,color:_})=>o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-600",children:p}),o.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:g})]}),o.jsx("div",{className:`p-3 rounded-lg ${_}`,children:o.jsx(x,{className:"w-6 h-6 text-white"})})]})});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Dashboard"}),o.jsx("p",{className:"text-slate-600",children:"Overview of your digital inheritance vault"})]}),i&&o.jsx("div",{className:`p-6 rounded-lg ${i.plan==="forever"?"bg-purple-50 border border-purple-200":i.plan==="pro"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`p-3 rounded-full ${i.plan==="forever"?"bg-purple-100":i.plan==="pro"?"bg-blue-100":"bg-green-100"}`,children:o.jsx(qe,{className:`w-6 h-6 ${i.plan==="forever"?"text-purple-600":i.plan==="pro"?"text-blue-600":"text-green-600"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:i.plan==="forever"?"Lifetime Access":i.plan==="pro"?"Pro Subscription":"Free Plan"}),o.jsx("p",{className:"text-slate-600",children:Dw(i)})]})]}),o.jsx("button",{onClick:()=>s(!0),className:`px-4 py-2 rounded-lg ${i.plan==="free"?"bg-purple-600 text-white hover:bg-purple-700":"border border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:i.plan==="free"?"Upgrade Plan":"Manage Subscription"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(h,{title:"Total Assets",value:r.length.toString(),icon:So,color:"bg-blue-600"}),o.jsx(h,{title:"Asset Value",value:`$${u.toLocaleString()}`,icon:s7,color:"bg-green-600"}),o.jsx(h,{title:"Beneficiaries",value:d.length.toString(),icon:Fn,color:"bg-purple-600"}),o.jsx(h,{title:"Documents",value:t.length.toString(),icon:Dn,color:"bg-orange-600"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"6-Month Check-in System"}),o.jsx(kT,{userId:"current_user_id",userEmail:"aniefuna.chisom@gmail.com"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(gt,{className:"w-5 h-5 text-slate-600"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Recent Activity"})]}),o.jsx("div",{className:"space-y-4",children:f.map((p,g)=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${p.type==="asset"?"bg-blue-600":p.type==="document"?"bg-orange-600":"bg-purple-600"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:p.action}),o.jsx("p",{className:"text-xs text-slate-500",children:p.date})]})]},g))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(qe,{className:"w-5 h-5 text-slate-600"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Security Overview"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Account Security"}),o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Secure"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"6-Month Check-in"}),o.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full flex items-center space-x-1",children:[o.jsx(Dt,{className:"w-3 h-3"}),o.jsx("span",{children:"Active"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Backup Status"}),o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Current"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Document Encryption"}),o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Enabled"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Emergency Contacts"}),o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Review Needed"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("button",{className:"flex items-center space-x-3 p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[o.jsx(So,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"font-medium text-slate-900",children:"Add New Asset"})]}),o.jsxs("button",{className:"flex items-center space-x-3 p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[o.jsx(Fn,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"font-medium text-slate-900",children:"Add Beneficiary"})]}),o.jsxs("button",{className:"flex items-center space-x-3 p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[o.jsx(Dn,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:"font-medium text-slate-900",children:"Upload Document"})]})]})]}),n&&o.jsx(Fw,{onClose:()=>s(!1),onSubscriptionChange:c})]})},RT=({asset:r,contacts:e,onUpdate:t,onDelete:n,onConfigureRelease:s})=>{const[i,a]=M.useState(!1);if(!r)return null;const l=f=>{switch(f){case"financial":return Bp;case"property":return Cw;case"digital":return Pw;case"personal":return ni;case"legal":return Dn;default:return ZP}},c=f=>{switch(f){case"financial":return"bg-green-100 text-green-800";case"property":return"bg-blue-100 text-blue-800";case"digital":return"bg-purple-100 text-purple-800";case"personal":return"bg-pink-100 text-pink-800";case"legal":return"bg-orange-100 text-orange-800";default:return"bg-slate-100 text-slate-800"}},u=l(r.category||""),d=r.releaseConditions&&r.releaseConditions.length>0;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${c(r.category||"")}`,children:o.jsx(u,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:r.name||"Unnamed Asset"}),o.jsx("p",{className:"text-xs text-slate-500",children:r.type||"Unknown Type"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>a(!i),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(t7,{className:"w-4 h-4"})}),i&&o.jsxs("div",{className:"absolute right-0 top-8 bg-white border border-slate-200 rounded-lg shadow-lg py-2 w-48 z-10",children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-700 hover:bg-slate-50 flex items-center space-x-2",children:[o.jsx(Tw,{className:"w-4 h-4"}),o.jsx("span",{children:"Edit Asset"})]}),o.jsxs("button",{onClick:()=>{s(r),a(!1)},className:"w-full px-4 py-2 text-left text-sm text-slate-700 hover:bg-slate-50 flex items-center space-x-2",children:[o.jsx(Hp,{className:"w-4 h-4"}),o.jsx("span",{children:"Release Conditions"})]}),o.jsxs("button",{onClick:()=>n(r.id),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[o.jsx(_o,{className:"w-4 h-4"}),o.jsx("span",{children:"Delete"})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Value"}),o.jsx("span",{className:"font-semibold text-slate-900",children:r.value||"Not specified"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(zp,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-slate-600",children:r.location||"Location not specified"})]}),r.beneficiaries&&r.beneficiaries.length>0&&o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Fn,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm text-slate-600",children:["Beneficiaries: ",r.beneficiaries.join(", ")]})})]}),d&&o.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-2 rounded-lg",children:[o.jsx(gt,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm text-blue-700",children:[r.releaseConditions.length," release condition",r.releaseConditions.length!==1?"s":""," configured"]})]}),o.jsx("div",{className:"pt-2 border-t border-slate-100",children:o.jsxs("p",{className:"text-xs text-slate-500",children:["Updated ",r.lastUpdated?new Date(r.lastUpdated).toLocaleDateString():"Unknown"]})})]})]})};var Jj={},Vt={},Qj={},Yj={},Uw={},Zj={};Object.defineProperty(Zj,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Zj,r)})(Uw);var qj={},Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Bw,r)})(qj);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Uw,r),t(qj,r)})(Yj);var e3={},$w={},Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.GetTranscriptForDubV1DubbingDubbingIdTranscriptLanguageCodeGetRequestFormatType=void 0;Zp.GetTranscriptForDubV1DubbingDubbingIdTranscriptLanguageCodeGetRequestFormatType={Srt:"srt",Webvtt:"webvtt"};(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Zp,r)})($w);var t3={},zw={};Object.defineProperty(zw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(zw,r)})(t3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t($w,r),t(t3,r)})(e3);var r3={},Vw={},qp={};Object.defineProperty(qp,"__esModule",{value:!0});qp.PronunciationDictionaryAddFromFileRequestWorkspaceAccess=void 0;qp.PronunciationDictionaryAddFromFileRequestWorkspaceAccess={Admin:"admin",Editor:"editor",Viewer:"viewer"};var n3={};Object.defineProperty(n3,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(qp,r),t(n3,r)})(Vw);var s3={},Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Hw,r)})(s3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Vw,r),t(s3,r)})(r3);var i3={},Gw={},em={};Object.defineProperty(em,"__esModule",{value:!0});em.BodyUpdateMemberV1WorkspaceMembersPostWorkspaceRole=void 0;em.BodyUpdateMemberV1WorkspaceMembersPostWorkspaceRole={WorkspaceAdmin:"workspace_admin",WorkspaceMember:"workspace_member"};(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(em,r)})(Gw);var a3={},Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Kw,r)})(a3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Gw,r),t(a3,r)})(i3);var o3={},l3={},Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Ww,r)})(l3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(l3,r)})(o3);var c3={},u3={},Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Xw,r)})(u3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(u3,r)})(c3);var d3={},f3={};Object.defineProperty(f3,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(f3,r)})(d3);var h3={},p3={},Jw={};Object.defineProperty(Jw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Jw,r)})(p3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(p3,r)})(h3);var m3={},x3={},Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Qw,r)})(x3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(x3,r)})(m3);var g3={},y3={};Object.defineProperty(y3,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(y3,r)})(g3);var b3={},v3={},Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Yw,r)})(v3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(v3,r)})(b3);var w3={},_3={},Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Zw,r)})(_3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(_3,r)})(w3);var S3={},N3={},qw={};Object.defineProperty(qw,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(qw,r)})(N3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(N3,r)})(S3);var E3={},j3={};Object.defineProperty(j3,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(j3,r)})(E3);var A3={},C3={},e1={};Object.defineProperty(e1,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(e1,r)})(C3);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(C3,r)})(A3);(function(r){var e=w&&w.__createBinding||(Object.create?function(i,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,c,u)}:function(i,a,l,c){c===void 0&&(c=l),i[c]=a[l]}),t=w&&w.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),n=w&&w.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var l in i)l!=="default"&&Object.prototype.hasOwnProperty.call(i,l)&&e(a,i,l);return t(a,i),a},s=w&&w.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,i,l)};Object.defineProperty(r,"__esModule",{value:!0}),r.audioNative=r.models=r.chapters=r.projects=r.voices=r.user=r.voiceGeneration=r.speechToSpeech=r.samples=r.textToSoundEffects=r.history=r.workspace=r.pronunciationDictionary=r.dubbing=r.textToSpeech=void 0,r.textToSpeech=n(Yj),s(Uw,r),r.dubbing=n(e3),s($w,r),r.pronunciationDictionary=n(r3),s(Vw,r),r.workspace=n(i3),s(Gw,r),r.history=n(o3),r.textToSoundEffects=n(c3),r.samples=n(d3),r.speechToSpeech=n(h3),r.voiceGeneration=n(m3),r.user=n(g3),r.voices=n(b3),r.projects=n(w3),r.chapters=n(S3),r.models=n(E3),r.audioNative=n(A3),s(Ww,r),s(Xw,r),s(Bw,r),s(Jw,r),s(Qw,r),s(Yw,r),s(Zw,r),s(qw,r),s(zw,r),s(e1,r),s(Hw,r),s(Kw,r)})(Qj);var k3={},P3={};Object.defineProperty(P3,"__esModule",{value:!0});var T3={};Object.defineProperty(T3,"__esModule",{value:!0});var R3={};Object.defineProperty(R3,"__esModule",{value:!0});var I3={};Object.defineProperty(I3,"__esModule",{value:!0});var O3={};Object.defineProperty(O3,"__esModule",{value:!0});var tm={};Object.defineProperty(tm,"__esModule",{value:!0});tm.ChapterState=void 0;tm.ChapterState={Default:"default",Converting:"converting"};var M3={};Object.defineProperty(M3,"__esModule",{value:!0});var L3={};Object.defineProperty(L3,"__esModule",{value:!0});var D3={};Object.defineProperty(D3,"__esModule",{value:!0});var F3={};Object.defineProperty(F3,"__esModule",{value:!0});var U3={};Object.defineProperty(U3,"__esModule",{value:!0});var B3={};Object.defineProperty(B3,"__esModule",{value:!0});var $3={};Object.defineProperty($3,"__esModule",{value:!0});var rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.Currency=void 0;rm.Currency={Usd:"usd",Eur:"eur"};var nm={};Object.defineProperty(nm,"__esModule",{value:!0});nm.SubscriptionStatus=void 0;nm.SubscriptionStatus={Trialing:"trialing",Active:"active",Incomplete:"incomplete",IncompleteExpired:"incomplete_expired",PastDue:"past_due",Canceled:"canceled",Unpaid:"unpaid",Free:"free"};var sm={};Object.defineProperty(sm,"__esModule",{value:!0});sm.ExtendedSubscriptionResponseModelBillingPeriod=void 0;sm.ExtendedSubscriptionResponseModelBillingPeriod={MonthlyPeriod:"monthly_period",AnnualPeriod:"annual_period"};var im={};Object.defineProperty(im,"__esModule",{value:!0});im.ExtendedSubscriptionResponseModelCharacterRefreshPeriod=void 0;im.ExtendedSubscriptionResponseModelCharacterRefreshPeriod={MonthlyPeriod:"monthly_period",AnnualPeriod:"annual_period"};var z3={};Object.defineProperty(z3,"__esModule",{value:!0});var V3={};Object.defineProperty(V3,"__esModule",{value:!0});var am={};Object.defineProperty(am,"__esModule",{value:!0});am.FinetuningState=void 0;am.FinetuningState={NotStarted:"not_started",Queued:"queued",FineTuning:"fine_tuning",FineTuned:"fine_tuned",Failed:"failed",Delayed:"delayed"};var H3={};Object.defineProperty(H3,"__esModule",{value:!0});var G3={};Object.defineProperty(G3,"__esModule",{value:!0});var K3={};Object.defineProperty(K3,"__esModule",{value:!0});var W3={};Object.defineProperty(W3,"__esModule",{value:!0});var X3={};Object.defineProperty(X3,"__esModule",{value:!0});var J3={};Object.defineProperty(J3,"__esModule",{value:!0});var Q3={};Object.defineProperty(Q3,"__esModule",{value:!0});var Y3={};Object.defineProperty(Y3,"__esModule",{value:!0});var Z3={};Object.defineProperty(Z3,"__esModule",{value:!0});var q3={};Object.defineProperty(q3,"__esModule",{value:!0});var e6={};Object.defineProperty(e6,"__esModule",{value:!0});var t6={};Object.defineProperty(t6,"__esModule",{value:!0});var r6={};Object.defineProperty(r6,"__esModule",{value:!0});var n6={};Object.defineProperty(n6,"__esModule",{value:!0});var s6={};Object.defineProperty(s6,"__esModule",{value:!0});var i6={};Object.defineProperty(i6,"__esModule",{value:!0});var om={};Object.defineProperty(om,"__esModule",{value:!0});om.ProjectState=void 0;om.ProjectState={Default:"default",Converting:"converting"};var a6={};Object.defineProperty(a6,"__esModule",{value:!0});var o6={};Object.defineProperty(o6,"__esModule",{value:!0});var l6={};Object.defineProperty(l6,"__esModule",{value:!0});var lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.Status=void 0;lm.Status={Success:"success",Pending:"pending",Failed:"failed"};var c6={};Object.defineProperty(c6,"__esModule",{value:!0});var u6={};Object.defineProperty(u6,"__esModule",{value:!0});var d6={};Object.defineProperty(d6,"__esModule",{value:!0});var f6={};Object.defineProperty(f6,"__esModule",{value:!0});var h6={};Object.defineProperty(h6,"__esModule",{value:!0});var p6={};Object.defineProperty(p6,"__esModule",{value:!0});var m6={};Object.defineProperty(m6,"__esModule",{value:!0});var x6={};Object.defineProperty(x6,"__esModule",{value:!0});var cm={};Object.defineProperty(cm,"__esModule",{value:!0});cm.SpeechHistoryItemResponseModelVoiceCategory=void 0;cm.SpeechHistoryItemResponseModelVoiceCategory={Premade:"premade",Cloned:"cloned",Generated:"generated",Professional:"professional"};var um={};Object.defineProperty(um,"__esModule",{value:!0});um.Source=void 0;um.Source={Tts:"TTS",Sts:"STS"};var g6={};Object.defineProperty(g6,"__esModule",{value:!0});var dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.SsoProviderDbModelProviderType=void 0;dm.SsoProviderDbModelProviderType={Saml:"saml",Oidc:"oidc"};var y6={};Object.defineProperty(y6,"__esModule",{value:!0});var fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.SubscriptionResponseModelBillingPeriod=void 0;fm.SubscriptionResponseModelBillingPeriod={MonthlyPeriod:"monthly_period",AnnualPeriod:"annual_period"};var hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.SubscriptionResponseModelCharacterRefreshPeriod=void 0;hm.SubscriptionResponseModelCharacterRefreshPeriod={MonthlyPeriod:"monthly_period",AnnualPeriod:"annual_period"};var b6={};Object.defineProperty(b6,"__esModule",{value:!0});var v6={};Object.defineProperty(v6,"__esModule",{value:!0});var w6={};Object.defineProperty(w6,"__esModule",{value:!0});var _6={};Object.defineProperty(_6,"__esModule",{value:!0});var S6={};Object.defineProperty(S6,"__esModule",{value:!0});var N6={};Object.defineProperty(N6,"__esModule",{value:!0});var E6={};Object.defineProperty(E6,"__esModule",{value:!0});var pm={};Object.defineProperty(pm,"__esModule",{value:!0});pm.VoiceResponseModelSafetyControl=void 0;pm.VoiceResponseModelSafetyControl={None:"NONE",Ban:"BAN",Captcha:"CAPTCHA",CaptchaAndModeration:"CAPTCHA_AND_MODERATION"};var j6={};Object.defineProperty(j6,"__esModule",{value:!0});var A6={};Object.defineProperty(A6,"__esModule",{value:!0});var mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.VoiceSharingState=void 0;mm.VoiceSharingState={Enabled:"enabled",Disabled:"disabled",Copied:"copied",CopiedDisabled:"copied_disabled"};var xm={};Object.defineProperty(xm,"__esModule",{value:!0});xm.Category=void 0;xm.Category={Generated:"generated",Professional:"professional",HighQuality:"high_quality"};var gm={};Object.defineProperty(gm,"__esModule",{value:!0});gm.ReviewStatus=void 0;gm.ReviewStatus={NotRequested:"not_requested",Pending:"pending",Declined:"declined",Allowed:"allowed",AllowedWithChanges:"allowed_with_changes"};var C6={};Object.defineProperty(C6,"__esModule",{value:!0});var k6={};Object.defineProperty(k6,"__esModule",{value:!0});var P6={};Object.defineProperty(P6,"__esModule",{value:!0});var T6={};Object.defineProperty(T6,"__esModule",{value:!0});var R6={};Object.defineProperty(R6,"__esModule",{value:!0});var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.Accent=void 0;ym.Accent={British:"british",American:"american",African:"african",Australian:"australian",Indian:"indian"};var bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.Age=void 0;bm.Age={Young:"young",MiddleAged:"middle_aged",Old:"old"};var vm={};Object.defineProperty(vm,"__esModule",{value:!0});vm.Gender=void 0;vm.Gender={Male:"male",Female:"female"};var I6={};Object.defineProperty(I6,"__esModule",{value:!0});var wm={};Object.defineProperty(wm,"__esModule",{value:!0});wm.OutputFormat=void 0;wm.OutputFormat={Mp32205032:"mp3_22050_32",Mp34410032:"mp3_44100_32",Mp34410064:"mp3_44100_64",Mp34410096:"mp3_44100_96",Mp344100128:"mp3_44100_128",Mp344100192:"mp3_44100_192",Pcm16000:"pcm_16000",Pcm22050:"pcm_22050",Pcm24000:"pcm_24000",Pcm44100:"pcm_44100",Ulaw8000:"ulaw_8000"};var _m={};Object.defineProperty(_m,"__esModule",{value:!0});_m.OptimizeStreamingLatency=void 0;_m.OptimizeStreamingLatency={Zero:"0",One:"1",Two:"2",Three:"3",Four:"4"};var O6={};Object.defineProperty(O6,"__esModule",{value:!0});var M6={};Object.defineProperty(M6,"__esModule",{value:!0});var L6={};Object.defineProperty(L6,"__esModule",{value:!0});var D6={};Object.defineProperty(D6,"__esModule",{value:!0});var F6={};Object.defineProperty(F6,"__esModule",{value:!0});var U6={};Object.defineProperty(U6,"__esModule",{value:!0});var B6={};Object.defineProperty(B6,"__esModule",{value:!0});(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(P3,r),t(T3,r),t(R3,r),t(I3,r),t(O3,r),t(tm,r),t(M3,r),t(L3,r),t(D3,r),t(F3,r),t(U3,r),t(B3,r),t($3,r),t(rm,r),t(nm,r),t(sm,r),t(im,r),t(z3,r),t(V3,r),t(am,r),t(H3,r),t(G3,r),t(K3,r),t(W3,r),t(X3,r),t(J3,r),t(Q3,r),t(Y3,r),t(Z3,r),t(q3,r),t(e6,r),t(t6,r),t(r6,r),t(n6,r),t(s6,r),t(i6,r),t(om,r),t(a6,r),t(o6,r),t(l6,r),t(lm,r),t(c6,r),t(u6,r),t(d6,r),t(f6,r),t(h6,r),t(p6,r),t(m6,r),t(x6,r),t(cm,r),t(um,r),t(g6,r),t(dm,r),t(y6,r),t(fm,r),t(hm,r),t(b6,r),t(v6,r),t(w6,r),t(_6,r),t(S6,r),t(N6,r),t(E6,r),t(pm,r),t(j6,r),t(A6,r),t(mm,r),t(xm,r),t(gm,r),t(C6,r),t(k6,r),t(P6,r),t(T6,r),t(R6,r),t(ym,r),t(bm,r),t(vm,r),t(I6,r),t(wm,r),t(_m,r),t(O6,r),t(M6,r),t(L6,r),t(D6,r),t(F6,r),t(U6,r),t(B6,r)})(k3);var $6={},Sm={},yt={},su={};Object.defineProperty(su,"__esModule",{value:!0});su.ElevenLabsError=void 0;class t1 extends Error{constructor({message:e,statusCode:t,body:n}){super(IT({message:e,statusCode:t,body:n})),Object.setPrototypeOf(this,t1.prototype),t!=null&&(this.statusCode=t),n!==void 0&&(this.body=n)}}su.ElevenLabsError=t1;function IT({message:r,statusCode:e,body:t}){let n=[];return r!=null&&n.push(r),e!=null&&n.push(`Status code: ${e.toString()}`),t!=null&&n.push(`Body: ${JSON.stringify(t,void 0,2)}`),n.join(`
`)}var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.ElevenLabsTimeoutError=void 0;class r1 extends Error{constructor(){super("Timeout"),Object.setPrototypeOf(this,r1.prototype)}}Nm.ElevenLabsTimeoutError=r1;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ElevenLabsTimeoutError=r.ElevenLabsError=void 0;var e=su;Object.defineProperty(r,"ElevenLabsError",{enumerable:!0,get:function(){return e.ElevenLabsError}});var t=Nm;Object.defineProperty(r,"ElevenLabsTimeoutError",{enumerable:!0,get:function(){return t.ElevenLabsTimeoutError}})})(yt);var OT=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),MT=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),LT=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&OT(e,r,t);return MT(e,r),e};Object.defineProperty(Sm,"__esModule",{value:!0});Sm.UnprocessableEntityError=void 0;const DT=LT(yt);class n1 extends DT.ElevenLabsError{constructor(e){super({message:"UnprocessableEntityError",statusCode:422,body:e}),Object.setPrototypeOf(this,n1.prototype)}}Sm.UnprocessableEntityError=n1;(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Sm,r)})($6);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Qj,r),t(k3,r),t($6,r)})(Vt);var z6={},Em={},jm={},Am={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.ElevenLabsEnvironment=void 0;bt.ElevenLabsEnvironment={Production:"https://api.elevenlabs.io"};var nr={},V6={},Cm={},iu=TypeError;const FT={},UT=Object.freeze(Object.defineProperty({__proto__:null,default:FT},Symbol.toStringTag,{value:"Module"})),Io=eE(UT);var s1=typeof Map=="function"&&Map.prototype,vg=Object.getOwnPropertyDescriptor&&s1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Q0=s1&&vg&&typeof vg.get=="function"?vg.get:null,__=s1&&Map.prototype.forEach,i1=typeof Set=="function"&&Set.prototype,wg=Object.getOwnPropertyDescriptor&&i1?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Y0=i1&&wg&&typeof wg.get=="function"?wg.get:null,S_=i1&&Set.prototype.forEach,BT=typeof WeakMap=="function"&&WeakMap.prototype,hd=BT?WeakMap.prototype.has:null,$T=typeof WeakSet=="function"&&WeakSet.prototype,pd=$T?WeakSet.prototype.has:null,zT=typeof WeakRef=="function"&&WeakRef.prototype,N_=zT?WeakRef.prototype.deref:null,VT=Boolean.prototype.valueOf,HT=Object.prototype.toString,GT=Function.prototype.toString,KT=String.prototype.match,a1=String.prototype.slice,Qi=String.prototype.replace,WT=String.prototype.toUpperCase,E_=String.prototype.toLowerCase,H6=RegExp.prototype.test,j_=Array.prototype.concat,cs=Array.prototype.join,XT=Array.prototype.slice,A_=Math.floor,Mb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_g=Object.getOwnPropertySymbols,Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",md=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Fc||!0)?Symbol.toStringTag:null,G6=Object.prototype.propertyIsEnumerable,C_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function k_(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||H6.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-A_(-r):A_(r);if(n!==r){var s=String(n),i=a1.call(e,s.length+1);return Qi.call(s,t,"$&_")+"."+Qi.call(Qi.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qi.call(e,t,"$&_")}var Db=Io,P_=Db.custom,T_=X6(P_)?P_:null,K6={__proto__:null,double:'"',single:"'"},JT={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},km=function r(e,t,n,s){var i=t||{};if(Ns(i,"quoteStyle")&&!Ns(K6,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ns(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Ns(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ns(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ns(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Q6(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?k_(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return l?k_(e,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Fb(e)?"[Array]":"[Object]";var f=hR(i,n);if(typeof s>"u")s=[];else if(J6(s,e)>=0)return"[Circular]";function h(Y,oe,A){if(oe&&(s=XT.call(s),s.push(oe)),A){var O={depth:i.depth};return Ns(i,"quoteStyle")&&(O.quoteStyle=i.quoteStyle),r(Y,O,n+1,s)}return r(Y,i,n+1,s)}if(typeof e=="function"&&!R_(e)){var p=sR(e),g=lh(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+cs.call(g,", ")+" }":"")}if(X6(e)){var x=Fc?Qi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lb.call(e);return typeof e=="object"&&!Fc?Eu(x):x}if(uR(e)){for(var _="<"+E_.call(String(e.nodeName)),b=e.attributes||[],y=0;y<b.length;y++)_+=" "+b[y].name+"="+W6(QT(b[y].value),"double",i);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+E_.call(String(e.nodeName))+">",_}if(Fb(e)){if(e.length===0)return"[]";var m=lh(e,h);return f&&!fR(m)?"["+Ub(m,f)+"]":"[ "+cs.call(m,", ")+" ]"}if(ZT(e)){var E=lh(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!G6.call(e,"cause")?"{ ["+String(e)+"] "+cs.call(j_.call("[cause]: "+h(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+cs.call(E,", ")+" }"}if(typeof e=="object"&&a){if(T_&&typeof e[T_]=="function"&&Db)return Db(e,{depth:d-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(iR(e)){var S=[];return __&&__.call(e,function(Y,oe){S.push(h(oe,e,!0)+" => "+h(Y,e))}),I_("Map",Q0.call(e),S,f)}if(lR(e)){var N=[];return S_&&S_.call(e,function(Y){N.push(h(Y,e))}),I_("Set",Y0.call(e),N,f)}if(aR(e))return Sg("WeakMap");if(cR(e))return Sg("WeakSet");if(oR(e))return Sg("WeakRef");if(eR(e))return Eu(h(Number(e)));if(rR(e))return Eu(h(Mb.call(e)));if(tR(e))return Eu(VT.call(e));if(qT(e))return Eu(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof w<"u"&&e===w)return"{ [object globalThis] }";if(!YT(e)&&!R_(e)){var k=lh(e,h),R=C_?C_(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",B=!R&&md&&Object(e)===e&&md in e?a1.call(ma(e),8,-1):U?"Object":"",J=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Q=J+(B||U?"["+cs.call(j_.call([],B||[],U||[]),": ")+"] ":"");return k.length===0?Q+"{}":f?Q+"{"+Ub(k,f)+"}":Q+"{ "+cs.call(k,", ")+" }"}return String(e)};function W6(r,e,t){var n=t.quoteStyle||e,s=K6[n];return s+r+s}function QT(r){return Qi.call(String(r),/"/g,"&quot;")}function Oo(r){return!md||!(typeof r=="object"&&(md in r||typeof r[md]<"u"))}function Fb(r){return ma(r)==="[object Array]"&&Oo(r)}function YT(r){return ma(r)==="[object Date]"&&Oo(r)}function R_(r){return ma(r)==="[object RegExp]"&&Oo(r)}function ZT(r){return ma(r)==="[object Error]"&&Oo(r)}function qT(r){return ma(r)==="[object String]"&&Oo(r)}function eR(r){return ma(r)==="[object Number]"&&Oo(r)}function tR(r){return ma(r)==="[object Boolean]"&&Oo(r)}function X6(r){if(Fc)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!Lb)return!1;try{return Lb.call(r),!0}catch{}return!1}function rR(r){if(!r||typeof r!="object"||!Mb)return!1;try{return Mb.call(r),!0}catch{}return!1}var nR=Object.prototype.hasOwnProperty||function(r){return r in this};function Ns(r,e){return nR.call(r,e)}function ma(r){return HT.call(r)}function sR(r){if(r.name)return r.name;var e=KT.call(GT.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function J6(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function iR(r){if(!Q0||!r||typeof r!="object")return!1;try{Q0.call(r);try{Y0.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function aR(r){if(!hd||!r||typeof r!="object")return!1;try{hd.call(r,hd);try{pd.call(r,pd)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function oR(r){if(!N_||!r||typeof r!="object")return!1;try{return N_.call(r),!0}catch{}return!1}function lR(r){if(!Y0||!r||typeof r!="object")return!1;try{Y0.call(r);try{Q0.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function cR(r){if(!pd||!r||typeof r!="object")return!1;try{pd.call(r,pd);try{hd.call(r,hd)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function uR(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Q6(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Q6(a1.call(r,0,e.maxStringLength),e)+n}var s=JT[e.quoteStyle||"single"];s.lastIndex=0;var i=Qi.call(Qi.call(r,s,"\\$1"),/[\x00-\x1f]/g,dR);return W6(i,"single",e)}function dR(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+WT.call(e.toString(16))}function Eu(r){return"Object("+r+")"}function Sg(r){return r+" { ? }"}function I_(r,e,t,n){var s=n?Ub(t,n):cs.call(t,", ");return r+" ("+e+") {"+s+"}"}function fR(r){for(var e=0;e<r.length;e++)if(J6(r[e],`
`)>=0)return!1;return!0}function hR(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=cs.call(Array(r.indent+1)," ");else return null;return{base:t,prev:cs.call(Array(e+1),t)}}function Ub(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+cs.call(r,","+t)+`
`+e.prev}function lh(r,e){var t=Fb(r),n=[];if(t){n.length=r.length;for(var s=0;s<r.length;s++)n[s]=Ns(r,s)?e(r[s],r):""}var i=typeof _g=="function"?_g(r):[],a;if(Fc){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var c in r)Ns(r,c)&&(t&&String(Number(c))===c&&c<r.length||Fc&&a["$"+c]instanceof Symbol||(H6.call(/[^\w$]/,c)?n.push(e(c,r)+": "+e(r[c],r)):n.push(c+": "+e(r[c],r))));if(typeof _g=="function")for(var u=0;u<i.length;u++)G6.call(r,i[u])&&n.push("["+e(i[u])+"]: "+e(r[i[u]],r));return n}var pR=km,mR=iu,Pm=function(r,e,t){for(var n=r,s;(s=n.next)!=null;n=s)if(s.key===e)return n.next=s.next,t||(s.next=r.next,r.next=s),s},xR=function(r,e){if(r){var t=Pm(r,e);return t&&t.value}},gR=function(r,e,t){var n=Pm(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},yR=function(r,e){return r?!!Pm(r,e):!1},bR=function(r,e){if(r)return Pm(r,e,!0)},vR=function(){var e,t={assert:function(n){if(!t.has(n))throw new mR("Side channel does not contain "+pR(n))},delete:function(n){var s=e&&e.next,i=bR(e,n);return i&&s&&s===i&&(e=void 0),!!i},get:function(n){return xR(e,n)},has:function(n){return yR(e,n)},set:function(n,s){e||(e={next:void 0}),gR(e,n,s)}};return t},Y6=Object,wR=Error,_R=EvalError,SR=RangeError,NR=ReferenceError,ER=SyntaxError,jR=URIError,AR=Math.abs,CR=Math.floor,kR=Math.max,PR=Math.min,TR=Math.pow,RR=Math.round,IR=Number.isNaN||function(e){return e!==e},OR=IR,MR=function(e){return OR(e)||e===0?e:e<0?-1:1},LR=Object.getOwnPropertyDescriptor,Qh=LR;if(Qh)try{Qh([],"length")}catch{Qh=null}var Z6=Qh,Yh=Object.defineProperty||!1;if(Yh)try{Yh({},"a",{value:1})}catch{Yh=!1}var DR=Yh,Ng,O_;function FR(){return O_||(O_=1,Ng=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),Ng}var Eg,M_;function UR(){if(M_)return Eg;M_=1;var r=typeof Symbol<"u"&&Symbol,e=FR();return Eg=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Eg}var jg,L_;function q6(){return L_||(L_=1,jg=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),jg}var Ag,D_;function eA(){if(D_)return Ag;D_=1;var r=Y6;return Ag=r.getPrototypeOf||null,Ag}var Cg,F_;function BR(){if(F_)return Cg;F_=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",s=function(c,u){for(var d=[],f=0;f<c.length;f+=1)d[f]=c[f];for(var h=0;h<u.length;h+=1)d[h+c.length]=u[h];return d},i=function(c,u){for(var d=[],f=u,h=0;f<c.length;f+=1,h+=1)d[h]=c[f];return d},a=function(l,c){for(var u="",d=0;d<l.length;d+=1)u+=l[d],d+1<l.length&&(u+=c);return u};return Cg=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(r+u);for(var d=i(arguments,1),f,h=function(){if(this instanceof f){var b=u.apply(this,s(d,arguments));return Object(b)===b?b:this}return u.apply(c,s(d,arguments))},p=t(0,u.length-d.length),g=[],x=0;x<p;x++)g[x]="$"+x;if(f=Function("binder","return function ("+a(g,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var _=function(){};_.prototype=u.prototype,f.prototype=new _,_.prototype=null}return f},Cg}var kg,U_;function Tm(){if(U_)return kg;U_=1;var r=BR();return kg=Function.prototype.bind||r,kg}var Pg,B_;function o1(){return B_||(B_=1,Pg=Function.prototype.call),Pg}var Tg,$_;function tA(){return $_||($_=1,Tg=Function.prototype.apply),Tg}var $R=typeof Reflect<"u"&&Reflect&&Reflect.apply,zR=Tm(),VR=tA(),HR=o1(),GR=$R,KR=GR||zR.call(HR,VR),WR=Tm(),XR=iu,JR=o1(),QR=KR,rA=function(e){if(e.length<1||typeof e[0]!="function")throw new XR("a function is required");return QR(WR,JR,e)},Rg,z_;function YR(){if(z_)return Rg;z_=1;var r=rA,e=Z6,t;try{t=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,i=s.getPrototypeOf;return Rg=n&&typeof n.get=="function"?r([n.get]):typeof i=="function"?function(l){return i(l==null?l:s(l))}:!1,Rg}var Ig,V_;function ZR(){if(V_)return Ig;V_=1;var r=q6(),e=eA(),t=YR();return Ig=r?function(s){return r(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:t?function(s){return t(s)}:null,Ig}var Og,H_;function qR(){if(H_)return Og;H_=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Tm();return Og=t.call(r,e),Og}var Se,eI=Y6,tI=wR,rI=_R,nI=SR,sI=NR,Uc=ER,Ol=iu,iI=jR,aI=AR,oI=CR,lI=kR,cI=PR,uI=TR,dI=RR,fI=MR,nA=Function,Mg=function(r){try{return nA('"use strict"; return ('+r+").constructor;")()}catch{}},zd=Z6,hI=DR,Lg=function(){throw new Ol},pI=zd?function(){try{return arguments.callee,Lg}catch{try{return zd(arguments,"callee").get}catch{return Lg}}}():Lg,Vo=UR()(),Et=ZR(),mI=eA(),xI=q6(),sA=tA(),Cf=o1(),al={},gI=typeof Uint8Array>"u"||!Et?Se:Et(Uint8Array),ho={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Se:ArrayBuffer,"%ArrayIteratorPrototype%":Vo&&Et?Et([][Symbol.iterator]()):Se,"%AsyncFromSyncIteratorPrototype%":Se,"%AsyncFunction%":al,"%AsyncGenerator%":al,"%AsyncGeneratorFunction%":al,"%AsyncIteratorPrototype%":al,"%Atomics%":typeof Atomics>"u"?Se:Atomics,"%BigInt%":typeof BigInt>"u"?Se:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Se:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Se:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":tI,"%eval%":eval,"%EvalError%":rI,"%Float16Array%":typeof Float16Array>"u"?Se:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Se:FinalizationRegistry,"%Function%":nA,"%GeneratorFunction%":al,"%Int8Array%":typeof Int8Array>"u"?Se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Vo&&Et?Et(Et([][Symbol.iterator]())):Se,"%JSON%":typeof JSON=="object"?JSON:Se,"%Map%":typeof Map>"u"?Se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Vo||!Et?Se:Et(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":eI,"%Object.getOwnPropertyDescriptor%":zd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Se:Promise,"%Proxy%":typeof Proxy>"u"?Se:Proxy,"%RangeError%":nI,"%ReferenceError%":sI,"%Reflect%":typeof Reflect>"u"?Se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Vo||!Et?Se:Et(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Vo&&Et?Et(""[Symbol.iterator]()):Se,"%Symbol%":Vo?Symbol:Se,"%SyntaxError%":Uc,"%ThrowTypeError%":pI,"%TypedArray%":gI,"%TypeError%":Ol,"%Uint8Array%":typeof Uint8Array>"u"?Se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Se:Uint32Array,"%URIError%":iI,"%WeakMap%":typeof WeakMap>"u"?Se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Se:WeakSet,"%Function.prototype.call%":Cf,"%Function.prototype.apply%":sA,"%Object.defineProperty%":hI,"%Object.getPrototypeOf%":mI,"%Math.abs%":aI,"%Math.floor%":oI,"%Math.max%":lI,"%Math.min%":cI,"%Math.pow%":uI,"%Math.round%":dI,"%Math.sign%":fI,"%Reflect.getPrototypeOf%":xI};if(Et)try{null.error}catch(r){var yI=Et(Et(r));ho["%Error.prototype%"]=yI}var bI=function r(e){var t;if(e==="%AsyncFunction%")t=Mg("async function () {}");else if(e==="%GeneratorFunction%")t=Mg("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Mg("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=r("%AsyncGenerator%");s&&Et&&(t=Et(s.prototype))}return ho[e]=t,t},G_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},kf=Tm(),Z0=qR(),vI=kf.call(Cf,Array.prototype.concat),wI=kf.call(sA,Array.prototype.splice),K_=kf.call(Cf,String.prototype.replace),q0=kf.call(Cf,String.prototype.slice),_I=kf.call(Cf,RegExp.prototype.exec),SI=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,NI=/\\(\\)?/g,EI=function(e){var t=q0(e,0,1),n=q0(e,-1);if(t==="%"&&n!=="%")throw new Uc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Uc("invalid intrinsic syntax, expected opening `%`");var s=[];return K_(e,SI,function(i,a,l,c){s[s.length]=l?K_(c,NI,"$1"):a||i}),s},jI=function(e,t){var n=e,s;if(Z0(G_,n)&&(s=G_[n],n="%"+s[0]+"%"),Z0(ho,n)){var i=ho[n];if(i===al&&(i=bI(n)),typeof i>"u"&&!t)throw new Ol("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new Uc("intrinsic "+e+" does not exist!")},l1=function(e,t){if(typeof e!="string"||e.length===0)throw new Ol("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ol('"allowMissing" argument must be a boolean');if(_I(/^%?[^%]*%?$/,e)===null)throw new Uc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=EI(e),s=n.length>0?n[0]:"",i=jI("%"+s+"%",t),a=i.name,l=i.value,c=!1,u=i.alias;u&&(s=u[0],wI(n,vI([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var h=n[d],p=q0(h,0,1),g=q0(h,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new Uc("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),s+="."+h,a="%"+s+"%",Z0(ho,a))l=ho[a];else if(l!=null){if(!(h in l)){if(!t)throw new Ol("base intrinsic for "+e+" exists, but the property is not available.");return}if(zd&&d+1>=n.length){var x=zd(l,h);f=!!x,f&&"get"in x&&!("originalValue"in x.get)?l=x.get:l=l[h]}else f=Z0(l,h),l=l[h];f&&!c&&(ho[a]=l)}}return l},iA=l1,aA=rA,AI=aA([iA("%String.prototype.indexOf%")]),oA=function(e,t){var n=iA(e,!!t);return typeof n=="function"&&AI(e,".prototype.")>-1?aA([n]):n},CI=l1,Pf=oA,kI=km,PI=iu,W_=CI("%Map%",!0),TI=Pf("Map.prototype.get",!0),RI=Pf("Map.prototype.set",!0),II=Pf("Map.prototype.has",!0),OI=Pf("Map.prototype.delete",!0),MI=Pf("Map.prototype.size",!0),lA=!!W_&&function(){var e,t={assert:function(n){if(!t.has(n))throw new PI("Side channel does not contain "+kI(n))},delete:function(n){if(e){var s=OI(e,n);return MI(e)===0&&(e=void 0),s}return!1},get:function(n){if(e)return TI(e,n)},has:function(n){return e?II(e,n):!1},set:function(n,s){e||(e=new W_),RI(e,n,s)}};return t},LI=l1,Rm=oA,DI=km,ch=lA,FI=iu,Ho=LI("%WeakMap%",!0),UI=Rm("WeakMap.prototype.get",!0),BI=Rm("WeakMap.prototype.set",!0),$I=Rm("WeakMap.prototype.has",!0),zI=Rm("WeakMap.prototype.delete",!0),VI=Ho?function(){var e,t,n={assert:function(s){if(!n.has(s))throw new FI("Side channel does not contain "+DI(s))},delete:function(s){if(Ho&&s&&(typeof s=="object"||typeof s=="function")){if(e)return zI(e,s)}else if(ch&&t)return t.delete(s);return!1},get:function(s){return Ho&&s&&(typeof s=="object"||typeof s=="function")&&e?UI(e,s):t&&t.get(s)},has:function(s){return Ho&&s&&(typeof s=="object"||typeof s=="function")&&e?$I(e,s):!!t&&t.has(s)},set:function(s,i){Ho&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ho),BI(e,s,i)):ch&&(t||(t=ch()),t.set(s,i))}};return n}:ch,HI=iu,GI=km,KI=vR,WI=lA,XI=VI,JI=XI||WI||KI,QI=function(){var e,t={assert:function(n){if(!t.has(n))throw new HI("Side channel does not contain "+GI(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,s){e||(e=JI()),e.set(n,s)}};return t},YI=String.prototype.replace,ZI=/%20/g,Dg={RFC1738:"RFC1738",RFC3986:"RFC3986"},c1={default:Dg.RFC3986,formatters:{RFC1738:function(r){return YI.call(r,ZI,"+")},RFC3986:function(r){return String(r)}},RFC1738:Dg.RFC1738,RFC3986:Dg.RFC3986},qI=c1,Fg=Object.prototype.hasOwnProperty,ka=Array.isArray,Vn=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),eO=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(ka(n)){for(var s=[],i=0;i<n.length;++i)typeof n[i]<"u"&&s.push(n[i]);t.obj[t.prop]=s}}},cA=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},tO=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(ka(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Fg.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var s=e;return ka(e)&&!ka(t)&&(s=cA(e,n)),ka(e)&&ka(t)?(t.forEach(function(i,a){if(Fg.call(e,a)){var l=e[a];l&&typeof l=="object"&&i&&typeof i=="object"?e[a]=r(l,i,n):e.push(i)}else e[a]=i}),e):Object.keys(t).reduce(function(i,a){var l=t[a];return Fg.call(i,a)?i[a]=r(i[a],l,n):i[a]=l,i},s)},rO=function(e,t){return Object.keys(t).reduce(function(n,s){return n[s]=t[s],n},e)},nO=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},sO=function(e,t,n,s,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===qI.RFC1738&&(u===40||u===41)){l+=a.charAt(c);continue}if(u<128){l=l+Vn[u];continue}if(u<2048){l=l+(Vn[192|u>>6]+Vn[128|u&63]);continue}if(u<55296||u>=57344){l=l+(Vn[224|u>>12]+Vn[128|u>>6&63]+Vn[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),l+=Vn[240|u>>18]+Vn[128|u>>12&63]+Vn[128|u>>6&63]+Vn[128|u&63]}return l},iO=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],s=0;s<t.length;++s)for(var i=t[s],a=i.obj[i.prop],l=Object.keys(a),c=0;c<l.length;++c){var u=l[c],d=a[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(t.push({obj:a,prop:u}),n.push(d))}return eO(t),e},aO=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},oO=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},lO=function(e,t){return[].concat(e,t)},cO=function(e,t){if(ka(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)},uA={arrayToObject:cA,assign:rO,combine:lO,compact:iO,decode:nO,encode:sO,isBuffer:oO,isRegExp:aO,maybeMap:cO,merge:tO},dA=QI,Zh=uA,xd=c1,uO=Object.prototype.hasOwnProperty,X_={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Cs=Array.isArray,dO=Array.prototype.push,fA=function(r,e){dO.apply(r,Cs(e)?e:[e])},fO=Date.prototype.toISOString,J_=xd.default,Xt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Zh.encode,encodeValuesOnly:!1,format:J_,formatter:xd.formatters[J_],indices:!1,serializeDate:function(e){return fO.call(e)},skipNulls:!1,strictNullHandling:!1},hO=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ug={},pO=function r(e,t,n,s,i,a,l,c,u,d,f,h,p,g,x,_){for(var b=e,y=_,m=0,E=!1;(y=y.get(Ug))!==void 0&&!E;){var S=y.get(e);if(m+=1,typeof S<"u"){if(S===m)throw new RangeError("Cyclic object value");E=!0}typeof y.get(Ug)>"u"&&(m=0)}if(typeof c=="function"?b=c(t,b):b instanceof Date?b=f(b):n==="comma"&&Cs(b)&&(b=Zh.maybeMap(b,function(O){return O instanceof Date?f(O):O})),b===null){if(i)return l&&!g?l(t,Xt.encoder,x,"key",h):t;b=""}if(hO(b)||Zh.isBuffer(b)){if(l){var N=g?t:l(t,Xt.encoder,x,"key",h);return[p(N)+"="+p(l(b,Xt.encoder,x,"value",h))]}return[p(t)+"="+p(String(b))]}var k=[];if(typeof b>"u")return k;var R;if(n==="comma"&&Cs(b))g&&l&&(b=Zh.maybeMap(b,l)),R=[{value:b.length>0?b.join(",")||null:void 0}];else if(Cs(c))R=c;else{var U=Object.keys(b);R=u?U.sort(u):U}for(var B=s&&Cs(b)&&b.length===1?t+"[]":t,J=0;J<R.length;++J){var Q=R[J],Y=typeof Q=="object"&&typeof Q.value<"u"?Q.value:b[Q];if(!(a&&Y===null)){var oe=Cs(b)?typeof n=="function"?n(B,Q):B:B+(d?"."+Q:"["+Q+"]");_.set(e,m);var A=dA();A.set(Ug,_),fA(k,r(Y,oe,n,s,i,a,n==="comma"&&g&&Cs(b)?null:l,c,u,d,f,h,p,g,x,A))}}return k},mO=function(e){if(!e)return Xt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Xt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xd.default;if(typeof e.format<"u"){if(!uO.call(xd.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=xd.formatters[n],i=Xt.filter;return(typeof e.filter=="function"||Cs(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Xt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Xt.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Xt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Xt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Xt.encode,encoder:typeof e.encoder=="function"?e.encoder:Xt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Xt.encodeValuesOnly,filter:i,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Xt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Xt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Xt.strictNullHandling}},xO=function(r,e){var t=r,n=mO(e),s,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):Cs(n.filter)&&(i=n.filter,s=i);var a=[];if(typeof t!="object"||t===null)return"";var l;e&&e.arrayFormat in X_?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=X_[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(t)),n.sort&&s.sort(n.sort);for(var d=dA(),f=0;f<s.length;++f){var h=s[f];n.skipNulls&&t[h]===null||fA(a,pO(t[h],h,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var p=a.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""},Bc=uA,Bb=Object.prototype.hasOwnProperty,gO=Array.isArray,_t={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Bc.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},yO=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},hA=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},bO="utf8=%26%2310003%3B",vO="utf8=%E2%9C%93",wO=function(e,t){var n={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=s.split(t.delimiter,i),l=-1,c,u=t.charset;if(t.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===vO?u="utf-8":a[c]===bO&&(u="iso-8859-1"),l=c,c=a.length);for(c=0;c<a.length;++c)if(c!==l){var d=a[c],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,g;h===-1?(p=t.decoder(d,_t.decoder,u,"key"),g=t.strictNullHandling?null:""):(p=t.decoder(d.slice(0,h),_t.decoder,u,"key"),g=Bc.maybeMap(hA(d.slice(h+1),t),function(x){return t.decoder(x,_t.decoder,u,"value")})),g&&t.interpretNumericEntities&&u==="iso-8859-1"&&(g=yO(g)),d.indexOf("[]=")>-1&&(g=gO(g)?[g]:g),Bb.call(n,p)?n[p]=Bc.combine(n[p],g):n[p]=g}return n},_O=function(r,e,t,n){for(var s=n?e:hA(e,t),i=r.length-1;i>=0;--i){var a,l=r[i];if(l==="[]"&&t.parseArrays)a=[].concat(s);else{a=t.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(c,10);!t.parseArrays&&c===""?a={0:s}:!isNaN(u)&&l!==c&&String(u)===c&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(a=[],a[u]=s):c!=="__proto__"&&(a[c]=s)}s=a}return s},SO=function(e,t,n,s){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(i),u=c?i.slice(0,c.index):i,d=[];if(u){if(!n.plainObjects&&Bb.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(c=l.exec(i))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&Bb.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+i.slice(c.index)+"]"),_O(d,t,n,s)}},NO=function(e){if(!e)return _t;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?_t.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?_t.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:_t.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:_t.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:_t.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_t.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:_t.comma,decoder:typeof e.decoder=="function"?e.decoder:_t.decoder,delimiter:typeof e.delimiter=="string"||Bc.isRegExp(e.delimiter)?e.delimiter:_t.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:_t.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:_t.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:_t.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:_t.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_t.strictNullHandling}},EO=function(r,e){var t=NO(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?wO(r,t):r,s=t.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],c=SO(l,n[l],t,typeof r=="string");s=Bc.merge(s,c,t)}return t.allowSparse===!0?s:Bc.compact(s)},jO=xO,AO=EO,CO=c1,kO={formats:CO,parse:AO,stringify:jO},Im={},au={},Bg,$g,zg,Vg,Hg;Object.defineProperty(au,"__esModule",{value:!0});au.RUNTIME=void 0;const PO=typeof window<"u"&&typeof window.document<"u",TO=typeof self=="object"&&typeof(self==null?void 0:self.importScripts)=="function"&&(((Bg=self.constructor)===null||Bg===void 0?void 0:Bg.name)==="DedicatedWorkerGlobalScope"||(($g=self.constructor)===null||$g===void 0?void 0:$g.name)==="ServiceWorkerGlobalScope"||((zg=self.constructor)===null||zg===void 0?void 0:zg.name)==="SharedWorkerGlobalScope"),pA=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",mA=typeof Bun<"u"&&typeof Bun.version<"u",RO=typeof process<"u"&&!!process.version&&!!(!((Vg=process.versions)===null||Vg===void 0)&&Vg.node)&&!pA&&!mA,IO=typeof navigator<"u"&&(navigator==null?void 0:navigator.product)==="ReactNative",OO=typeof globalThis<"u"&&((Hg=globalThis==null?void 0:globalThis.navigator)===null||Hg===void 0?void 0:Hg.userAgent)==="Cloudflare-Workers";au.RUNTIME=MO();function MO(){return PO?{type:"browser",version:window.navigator.userAgent}:OO?{type:"workerd"}:TO?{type:"web-worker"}:pA?{type:"deno",version:Deno.version.deno}:mA?{type:"bun",version:Bun.version}:RO?{type:"node",version:process.versions.node}:IO?{type:"react-native"}:{type:"unknown"}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RUNTIME=void 0;var e=au;Object.defineProperty(r,"RUNTIME",{enumerable:!0,get:function(){return e.RUNTIME}})})(Im);var Gg,Q_;function xA(){if(Q_)return Gg;Q_=1;var r=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=(h,p)=>{for(var g in p)r(h,g,{get:p[g],enumerable:!0})},i=(h,p,g,x)=>{if(p&&typeof p=="object"||typeof p=="function")for(let _ of t(p))!n.call(h,_)&&_!==g&&r(h,_,{get:()=>p[_],enumerable:!(x=e(p,_))||x.enumerable});return h},a=h=>i(r({},"__esModule",{value:!0}),h),l={};s(l,{Blob:()=>d,File:()=>f,FormData:()=>u}),Gg=a(l);var c=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:window}(),{FormData:u,Blob:d,File:f}=c;return Gg}var Kg,Y_;function gA(){return Y_||(Y_=1,Kg=typeof self=="object"?self.FormData:window.FormData),Kg}var uh={exports:{}},Z_;function q_(){return Z_||(Z_=1,function(r,e){var t=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof w<"u")return w;throw new Error("unable to locate global object")},n=t();r.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}(uh,uh.exports)),uh.exports}var LO=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DO=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gd=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&LO(e,r,t);return DO(e,r),e},$b=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},FO=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cm,"__esModule",{value:!0});Cm.fetcher=void 0;const UO=FO(kO),yA=Im,BO=1,$O=60,zO=2;function VO(r){var e,t;return $b(this,void 0,void 0,function*(){const n={};if(r.body!==void 0&&r.contentType!=null&&(n["Content-Type"]=r.contentType),r.headers!=null)for(const[u,d]of Object.entries(r.headers))d!=null&&(n[u]=d);const s=Object.keys((e=r.queryParameters)!==null&&e!==void 0?e:{}).length>0?`${r.url}?${UO.default.stringify(r.queryParameters,{arrayFormat:"repeat"})}`:r.url;let i;const a=u=>u instanceof Uint8Array?u:r.contentType==="application/x-www-form-urlencoded"&&typeof r.body=="string"?r.body:JSON.stringify(u);yA.RUNTIME.type==="node"?r.body instanceof(yield Promise.resolve().then(()=>gd(xA()))).FormData||r.body instanceof(yield Promise.resolve().then(()=>gd(Io))).Readable?i=r.body:i=a(r.body):r.body instanceof(yield Promise.resolve().then(()=>gd(gA()))).default?i=r.body:i=a(r.body);const l=yield WO(),c=()=>$b(this,void 0,void 0,function*(){const u=[];let d;if(r.timeoutMs!=null){const{signal:h,abortId:p}=GO(r.timeoutMs);d=p,u.push(h)}r.abortSignal!=null&&u.push(r.abortSignal);const f=yield l(s,{method:r.method,headers:n,body:i,signal:KO(u),credentials:r.withCredentials?"include":void 0});return d!=null&&clearTimeout(d),f});try{let u=yield c();for(let f=0;f<((t=r.maxRetries)!==null&&t!==void 0?t:zO)&&(u.status===408||u.status===409||u.status===429||u.status>=500);++f){const h=Math.min(BO*Math.pow(f,2),$O);yield new Promise(p=>setTimeout(p,h)),u=yield c()}let d;if(u.body!=null&&r.responseType==="blob")d=yield u.blob();else if(u.body!=null&&r.responseType==="streaming")d=u.body;else if(u.body!=null&&r.responseType==="text")d=yield u.text();else{const f=yield u.text();if(f.length>0)try{d=JSON.parse(f)}catch{return{ok:!1,error:{reason:"non-json",statusCode:u.status,rawBody:f}}}}return u.status>=200&&u.status<400?{ok:!0,body:d,headers:u.headers}:{ok:!1,error:{reason:"status-code",statusCode:u.status,body:d}}}catch(u){return r.abortSignal!=null&&r.abortSignal.aborted?{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"}}:u instanceof Error&&u.name==="AbortError"?{ok:!1,error:{reason:"timeout"}}:u instanceof Error?{ok:!1,error:{reason:"unknown",errorMessage:u.message}}:{ok:!1,error:{reason:"unknown",errorMessage:JSON.stringify(u)}}}})}const HO="timeout";function GO(r){const e=new AbortController,t=setTimeout(()=>e.abort(HO),r);return{signal:e.signal,abortId:t}}function KO(...r){const e=r.length===1&&Array.isArray(r[0])?r[0]:r,t=new AbortController;for(const n of e){if(n.aborted){t.abort(n==null?void 0:n.reason);break}n.addEventListener("abort",()=>t.abort(n==null?void 0:n.reason),{signal:t.signal})}return t.signal}function WO(){return $b(this,void 0,void 0,function*(){return yA.RUNTIME.type==="node"?(yield Promise.resolve().then(()=>gd(q_()))).default:typeof fetch=="function"?fetch:(yield Promise.resolve().then(()=>gd(q_()))).default})}Cm.fetcher=VO;var Om={};Object.defineProperty(Om,"__esModule",{value:!0});Om.getHeader=void 0;function XO(r,e){for(const[t,n]of Object.entries(r))if(t.toLowerCase()===e.toLowerCase())return n}Om.getHeader=XO;var Mm={},JO=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.Supplier=void 0;Mm.Supplier={get:r=>JO(void 0,void 0,void 0,function*(){return typeof r=="function"?r():r})};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Supplier=r.getHeader=r.fetcher=void 0;var e=Cm;Object.defineProperty(r,"fetcher",{enumerable:!0,get:function(){return e.fetcher}});var t=Om;Object.defineProperty(r,"getHeader",{enumerable:!0,get:function(){return t.getHeader}});var n=Mm;Object.defineProperty(r,"Supplier",{enumerable:!0,get:function(){return n.Supplier}})})(V6);var bA={},Lm={},Wg,eS;function QO(){if(eS)return Wg;eS=1;var r=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=z=>{throw TypeError(z)},i=(z,q)=>{for(var ce in q)r(z,ce,{get:q[ce],enumerable:!0})},a=(z,q,ce,fe)=>{if(q&&typeof q=="object"||typeof q=="function")for(let Xe of t(q))!n.call(z,Xe)&&Xe!==ce&&r(z,Xe,{get:()=>q[Xe],enumerable:!(fe=e(q,Xe))||fe.enumerable});return z},l=z=>a(r({},"__esModule",{value:!0}),z),c=(z,q,ce)=>q.has(z)||s("Cannot "+ce),u=(z,q,ce)=>(c(z,q,"read from private field"),ce?ce.call(z):q.get(z)),d=(z,q,ce)=>q.has(z)?s("Cannot add the same private member more than once"):q instanceof WeakSet?q.add(z):q.set(z,ce),f=(z,q,ce,fe)=>(c(z,q,"write to private field"),q.set(z,ce),ce),h=(z,q,ce)=>(c(z,q,"access private method"),ce),p={};i(p,{FormDataEncoder:()=>zr,isFile:()=>U,isFormData:()=>B}),Wg=l(p);var g=65536;function*x(z){if(z.byteLength<=g){yield z;return}let q=0;for(;q<z.byteLength;){const ce=Math.min(z.byteLength-q,g),fe=z.buffer.slice(q,q+ce);q+=fe.byteLength,yield new Uint8Array(fe)}}var _="abcdefghijklmnopqrstuvwxyz0123456789";function b(){let z=16,q="";for(;z--;)q+=_[Math.random()*_.length<<0];return q}var y=z=>String(z).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),m=z=>typeof z=="function",E=z=>!!z&&typeof z=="object"&&!Array.isArray(z)&&m(z.getReader),S=z=>m(z[Symbol.asyncIterator]);async function*N(z){const q=z.getReader();for(;;){const{done:ce,value:fe}=await q.read();if(ce)break;yield fe}}async function*k(z){for await(const q of z)yield*x(q)}var R=z=>{if(S(z))return k(z);if(E(z))return k(N(z));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},U=z=>!!(z&&typeof z=="object"&&m(z.constructor)&&z[Symbol.toStringTag]==="File"&&m(z.stream)&&z.name!=null),B=z=>!!(z&&m(z.constructor)&&z[Symbol.toStringTag]==="FormData"&&m(z.append)&&m(z.getAll)&&m(z.entries)&&m(z[Symbol.iterator])),J=z=>Object.prototype.toString.call(z).slice(8,-1).toLowerCase();function Q(z){var ce,fe;if(J(z)!=="object")return!1;const q=Object.getPrototypeOf(z);return q==null?!0:((fe=(ce=q.constructor)==null?void 0:ce.toString)==null?void 0:fe.call(ce))===Object.toString()}var Y=z=>String(z).replace(/\r|\n/g,(q,ce,fe)=>q==="\r"&&fe[ce+1]!==`
`||q===`
`&&fe[ce-1]!=="\r"?`\r
`:q);function oe(z,q){if(typeof q=="string"){for(const[ce,fe]of Object.entries(z))if(q.toLowerCase()===ce.toLowerCase())return fe}}var A=z=>new Proxy(z,{get:(q,ce)=>oe(q,ce),has:(q,ce)=>oe(q,ce)!==void 0}),O={enableAdditionalHeaders:!1},Z={writable:!1,configurable:!1},P,F,T,W,G,pe,X,he,le,$e,bs,zr=class{constructor(z,q,ce){if(d(this,le),d(this,P,`\r
`),d(this,F),d(this,T),d(this,W,"-".repeat(2)),d(this,G,new TextEncoder),d(this,pe),d(this,X),d(this,he),!B(z))throw new TypeError("Expected first argument to be a FormData instance.");let fe;if(Q(q)?ce=q:fe=q,fe||(fe=`form-data-encoder-${b()}`),typeof fe!="string")throw new TypeError("Expected boundary argument to be a string.");if(ce&&!Q(ce))throw new TypeError("Expected options argument to be an object.");f(this,X,Array.from(z.entries())),f(this,he,{...O,...ce}),f(this,F,u(this,G).encode(u(this,P))),f(this,T,u(this,F).byteLength),this.boundary=fe,this.contentType=`multipart/form-data; boundary=${this.boundary}`,f(this,pe,u(this,G).encode(`${u(this,W)}${this.boundary}${u(this,W)}${u(this,P).repeat(2)}`));const Xe={"Content-Type":this.contentType},fi=h(this,le,bs).call(this);fi&&(this.contentLength=fi,Xe["Content-Length"]=fi),this.headers=A(Object.freeze(Xe)),Object.defineProperties(this,{boundary:Z,contentType:Z,contentLength:Z,headers:Z})}*values(){for(const[z,q]of u(this,X)){const ce=U(q)?q:u(this,G).encode(Y(q));yield h(this,le,$e).call(this,z,ce),yield ce,yield u(this,F)}yield u(this,pe)}async*encode(){for(const z of this.values())U(z)?yield*R(z.stream()):yield*x(z)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};return P=new WeakMap,F=new WeakMap,T=new WeakMap,W=new WeakMap,G=new WeakMap,pe=new WeakMap,X=new WeakMap,he=new WeakMap,le=new WeakSet,$e=function(z,q){let ce="";if(ce+=`${u(this,W)}${this.boundary}${u(this,P)}`,ce+=`Content-Disposition: form-data; name="${y(z)}"`,U(q)&&(ce+=`; filename="${y(q.name)}"${u(this,P)}`,ce+=`Content-Type: ${q.type||"application/octet-stream"}`),u(this,he).enableAdditionalHeaders===!0){const fe=U(q)?q.size:q.byteLength;fe!=null&&!isNaN(fe)&&(ce+=`${u(this,P)}Content-Length: ${fe}`)}return u(this,G).encode(`${ce}${u(this,P).repeat(2)}`)},bs=function(){let z=0;for(const[q,ce]of u(this,X)){const fe=U(ce)?ce:u(this,G).encode(Y(ce)),Xe=U(fe)?fe.size:fe.byteLength;if(Xe==null||isNaN(Xe))return;z+=h(this,le,$e).call(this,q,fe).byteLength,z+=Xe,z+=u(this,T)}return String(z+u(this,pe).byteLength)},Wg}var YO=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZO=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zb=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&YO(e,r,t);return ZO(e,r),e},qh=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.FormDataWrapper=void 0;const qO=Io,e0=Im;class eM{constructor(e){this.fd=e}setup(){return qh(this,void 0,void 0,function*(){this.encoder==null&&e0.RUNTIME.type==="node"&&(this.encoder=new(yield Promise.resolve().then(()=>zb(QO()))).FormDataEncoder(this.fd))})}getBody(){return qh(this,void 0,void 0,function*(){return e0.RUNTIME.type!=="node"?this.fd:(this.encoder==null&&(yield this.setup()),qO.Readable.from(this.encoder))})}getHeaders(){return qh(this,void 0,void 0,function*(){return e0.RUNTIME.type!=="node"?{}:(this.encoder==null&&(yield this.setup()),this.encoder.headers)})}}class tM{append(e,t){return qh(this,void 0,void 0,function*(){this.fd==null&&(e0.RUNTIME.type==="node"?this.fd=new(yield Promise.resolve().then(()=>zb(xA()))).FormData:this.fd=new(yield Promise.resolve().then(()=>zb(gA()))).default),this.fd.append(e,t)})}getRequest(){return new eM(this.fd)}}Lm.FormDataWrapper=tM;(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(Lm,r)})(bA);(function(r){var e=w&&w.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,l)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),t=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(V6,r),t(Im,r),t(bA,r)})(nr);var vA={exports:{}};(function(r){(function(e,t,n){r.exports?r.exports=n():t[e]=n()})("urljoin",w,function(){function e(t){var n=[];if(t.length===0)return"";if(typeof t[0]!="string")throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var s=t.shift();t[0]=s+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<t.length;i++){var a=t[i];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(i>0&&(a=a.replace(/^[\/]+/,"")),i<t.length-1?a=a.replace(/[\/]+$/,""):a=a.replace(/[\/]+$/,"/"),n.push(a))}var l=n.join("/");l=l.replace(/\/(\?|&|#[^!])/g,"$1");var c=l.split("?");return l=c.shift()+(c.length>0?"?":"")+c.join("&"),l}return function(){var t;return typeof arguments[0]=="object"?t=arguments[0]:t=[].slice.call(arguments),e(t)}})})(vA);var fr=vA.exports,rM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dm=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rM(e,r,t);return nM(e,r),e},ju=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},sM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Am,"__esModule",{value:!0});Am.History=void 0;const Au=Dm(bt),Me=Dm(nr),Cu=Dm(Vt),ku=sM(fr),ft=Dm(yt);class iM{constructor(e={}){this._options=e}getAll(e={},t){var n;return ju(this,void 0,void 0,function*(){const{page_size:s,start_after_history_item_id:i,voice_id:a}=e,l={};s!=null&&(l.page_size=s.toString()),i!=null&&(l.start_after_history_item_id=i),a!=null&&(l.voice_id=a);const c=yield Me.fetcher({url:(0,ku.default)((n=yield Me.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Au.ElevenLabsEnvironment.Production,"v1/history"),method:"GET",headers:{"xi-api-key":(yield Me.Supplier.get(this._options.apiKey))!=null?yield Me.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Me.RUNTIME.type,"X-Fern-Runtime-Version":Me.RUNTIME.version},contentType:"application/json",queryParameters:l,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(c.ok)return c.body;if(c.error.reason==="status-code")switch(c.error.statusCode){case 422:throw new Cu.UnprocessableEntityError(c.error.body);default:throw new ft.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new ft.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new ft.ElevenLabsTimeoutError;case"unknown":throw new ft.ElevenLabsError({message:c.error.errorMessage})}})}get(e,t){var n;return ju(this,void 0,void 0,function*(){const s=yield Me.fetcher({url:(0,ku.default)((n=yield Me.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Au.ElevenLabsEnvironment.Production,`v1/history/${encodeURIComponent(e)}`),method:"GET",headers:{"xi-api-key":(yield Me.Supplier.get(this._options.apiKey))!=null?yield Me.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Me.RUNTIME.type,"X-Fern-Runtime-Version":Me.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Cu.UnprocessableEntityError(s.error.body);default:throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ft.ElevenLabsTimeoutError;case"unknown":throw new ft.ElevenLabsError({message:s.error.errorMessage})}})}delete(e,t){var n;return ju(this,void 0,void 0,function*(){const s=yield Me.fetcher({url:(0,ku.default)((n=yield Me.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Au.ElevenLabsEnvironment.Production,`v1/history/${encodeURIComponent(e)}`),method:"DELETE",headers:{"xi-api-key":(yield Me.Supplier.get(this._options.apiKey))!=null?yield Me.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Me.RUNTIME.type,"X-Fern-Runtime-Version":Me.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Cu.UnprocessableEntityError(s.error.body);default:throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ft.ElevenLabsTimeoutError;case"unknown":throw new ft.ElevenLabsError({message:s.error.errorMessage})}})}getAudio(e,t){var n;return ju(this,void 0,void 0,function*(){const s=yield Me.fetcher({url:(0,ku.default)((n=yield Me.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Au.ElevenLabsEnvironment.Production,`v1/history/${encodeURIComponent(e)}/audio`),method:"GET",headers:{"xi-api-key":(yield Me.Supplier.get(this._options.apiKey))!=null?yield Me.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Me.RUNTIME.type,"X-Fern-Runtime-Version":Me.RUNTIME.version},contentType:"application/json",responseType:"streaming",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Cu.UnprocessableEntityError(s.error.body);default:throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ft.ElevenLabsTimeoutError;case"unknown":throw new ft.ElevenLabsError({message:s.error.errorMessage})}})}download(e,t){var n;return ju(this,void 0,void 0,function*(){const s=yield Me.fetcher({url:(0,ku.default)((n=yield Me.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Au.ElevenLabsEnvironment.Production,"v1/history/download"),method:"POST",headers:{"xi-api-key":(yield Me.Supplier.get(this._options.apiKey))!=null?yield Me.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Me.RUNTIME.type,"X-Fern-Runtime-Version":Me.RUNTIME.version},contentType:"application/json",body:e,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(!s.ok){if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Cu.UnprocessableEntityError(s.error.body);default:throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ft.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ft.ElevenLabsTimeoutError;case"unknown":throw new ft.ElevenLabsError({message:s.error.errorMessage})}}})}}Am.History=iM;var Fm={},aM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Um=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&aM(e,r,t);return oM(e,r),e},lM=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},cM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.TextToSoundEffects=void 0;const uM=Um(bt),Go=Um(nr),dM=Um(Vt),fM=cM(fr),dh=Um(yt);class hM{constructor(e={}){this._options=e}convert(e,t){var n;return lM(this,void 0,void 0,function*(){const s=yield Go.fetcher({url:(0,fM.default)((n=yield Go.Supplier.get(this._options.environment))!==null&&n!==void 0?n:uM.ElevenLabsEnvironment.Production,"v1/sound-generation"),method:"POST",headers:{"xi-api-key":(yield Go.Supplier.get(this._options.apiKey))!=null?yield Go.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Go.RUNTIME.type,"X-Fern-Runtime-Version":Go.RUNTIME.version},contentType:"application/json",body:e,responseType:"streaming",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new dM.UnprocessableEntityError(s.error.body);default:throw new dh.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new dh.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new dh.ElevenLabsTimeoutError;case"unknown":throw new dh.ElevenLabsError({message:s.error.errorMessage})}})}}Fm.TextToSoundEffects=hM;var Bm={},pM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$m=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pM(e,r,t);return mM(e,r),e},tS=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},xM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bm,"__esModule",{value:!0});Bm.Samples=void 0;const rS=$m(bt),Hr=$m(nr),nS=$m(Vt),sS=xM(fr),pi=$m(yt);class gM{constructor(e={}){this._options=e}delete(e,t,n){var s;return tS(this,void 0,void 0,function*(){const i=yield Hr.fetcher({url:(0,sS.default)((s=yield Hr.Supplier.get(this._options.environment))!==null&&s!==void 0?s:rS.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}/samples/${encodeURIComponent(t)}`),method:"DELETE",headers:{"xi-api-key":(yield Hr.Supplier.get(this._options.apiKey))!=null?yield Hr.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Hr.RUNTIME.type,"X-Fern-Runtime-Version":Hr.RUNTIME.version},contentType:"application/json",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new nS.UnprocessableEntityError(i.error.body);default:throw new pi.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new pi.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new pi.ElevenLabsTimeoutError;case"unknown":throw new pi.ElevenLabsError({message:i.error.errorMessage})}})}getAudio(e,t,n){var s;return tS(this,void 0,void 0,function*(){const i=yield Hr.fetcher({url:(0,sS.default)((s=yield Hr.Supplier.get(this._options.environment))!==null&&s!==void 0?s:rS.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}/samples/${encodeURIComponent(t)}/audio`),method:"GET",headers:{"xi-api-key":(yield Hr.Supplier.get(this._options.apiKey))!=null?yield Hr.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Hr.RUNTIME.type,"X-Fern-Runtime-Version":Hr.RUNTIME.version},contentType:"application/json",responseType:"streaming",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new nS.UnprocessableEntityError(i.error.body);default:throw new pi.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new pi.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new pi.ElevenLabsTimeoutError;case"unknown":throw new pi.ElevenLabsError({message:i.error.errorMessage})}})}}Bm.Samples=gM;var zm={},yM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Vm=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yM(e,r,t);return bM(e,r),e},fh=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},hh=w&&w.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t},vM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zm,"__esModule",{value:!0});zm.TextToSpeech=void 0;const ph=Vm(bt),Je=Vm(nr),mh=Vm(Vt),xh=vM(fr),Kt=Vm(yt);class wM{constructor(e={}){this._options=e}convert(e,t,n){var s;return fh(this,void 0,void 0,function*(){const{enable_logging:i,optimize_streaming_latency:a,output_format:l}=t,c=hh(t,["enable_logging","optimize_streaming_latency","output_format"]),u={};i!=null&&(u.enable_logging=i.toString()),a!=null&&(u.optimize_streaming_latency=a),l!=null&&(u.output_format=l);const d=yield Je.fetcher({url:(0,xh.default)((s=yield Je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:ph.ElevenLabsEnvironment.Production,`v1/text-to-speech/${encodeURIComponent(e)}`),method:"POST",headers:{"xi-api-key":(yield Je.Supplier.get(this._options.apiKey))!=null?yield Je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Je.RUNTIME.type,"X-Fern-Runtime-Version":Je.RUNTIME.version},contentType:"application/json",queryParameters:u,body:c,responseType:"streaming",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(d.ok)return d.body;if(d.error.reason==="status-code")switch(d.error.statusCode){case 422:throw new mh.UnprocessableEntityError(d.error.body);default:throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.body})}switch(d.error.reason){case"non-json":throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.rawBody});case"timeout":throw new Kt.ElevenLabsTimeoutError;case"unknown":throw new Kt.ElevenLabsError({message:d.error.errorMessage})}})}convertWithTimstamps(e,t,n){var s;return fh(this,void 0,void 0,function*(){const{enable_logging:i,optimize_streaming_latency:a,output_format:l}=t,c=hh(t,["enable_logging","optimize_streaming_latency","output_format"]),u={};i!=null&&(u.enable_logging=i.toString()),a!=null&&(u.optimize_streaming_latency=a),l!=null&&(u.output_format=l);const d=yield Je.fetcher({url:(0,xh.default)((s=yield Je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:ph.ElevenLabsEnvironment.Production,`v1/text-to-speech/${encodeURIComponent(e)}/with-timestamps`),method:"POST",headers:{"xi-api-key":(yield Je.Supplier.get(this._options.apiKey))!=null?yield Je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Je.RUNTIME.type,"X-Fern-Runtime-Version":Je.RUNTIME.version},contentType:"application/json",queryParameters:u,body:c,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(d.ok)return d.body;if(d.error.reason==="status-code")switch(d.error.statusCode){case 422:throw new mh.UnprocessableEntityError(d.error.body);default:throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.body})}switch(d.error.reason){case"non-json":throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.rawBody});case"timeout":throw new Kt.ElevenLabsTimeoutError;case"unknown":throw new Kt.ElevenLabsError({message:d.error.errorMessage})}})}convertAsStream(e,t,n){var s;return fh(this,void 0,void 0,function*(){const{enable_logging:i,optimize_streaming_latency:a,output_format:l}=t,c=hh(t,["enable_logging","optimize_streaming_latency","output_format"]),u={};i!=null&&(u.enable_logging=i.toString()),a!=null&&(u.optimize_streaming_latency=a),l!=null&&(u.output_format=l);const d=yield Je.fetcher({url:(0,xh.default)((s=yield Je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:ph.ElevenLabsEnvironment.Production,`v1/text-to-speech/${encodeURIComponent(e)}/stream`),method:"POST",headers:{"xi-api-key":(yield Je.Supplier.get(this._options.apiKey))!=null?yield Je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Je.RUNTIME.type,"X-Fern-Runtime-Version":Je.RUNTIME.version},contentType:"application/json",queryParameters:u,body:c,responseType:"streaming",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(d.ok)return d.body;if(d.error.reason==="status-code")switch(d.error.statusCode){case 422:throw new mh.UnprocessableEntityError(d.error.body);default:throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.body})}switch(d.error.reason){case"non-json":throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.rawBody});case"timeout":throw new Kt.ElevenLabsTimeoutError;case"unknown":throw new Kt.ElevenLabsError({message:d.error.errorMessage})}})}streamWithTimestamps(e,t,n){var s;return fh(this,void 0,void 0,function*(){const{enable_logging:i,optimize_streaming_latency:a,output_format:l}=t,c=hh(t,["enable_logging","optimize_streaming_latency","output_format"]),u={};i!=null&&(u.enable_logging=i.toString()),a!=null&&(u.optimize_streaming_latency=a),l!=null&&(u.output_format=l);const d=yield Je.fetcher({url:(0,xh.default)((s=yield Je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:ph.ElevenLabsEnvironment.Production,`v1/text-to-speech/${encodeURIComponent(e)}/stream/with-timestamps`),method:"POST",headers:{"xi-api-key":(yield Je.Supplier.get(this._options.apiKey))!=null?yield Je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Je.RUNTIME.type,"X-Fern-Runtime-Version":Je.RUNTIME.version},contentType:"application/json",queryParameters:u,body:c,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(!d.ok){if(d.error.reason==="status-code")switch(d.error.statusCode){case 422:throw new mh.UnprocessableEntityError(d.error.body);default:throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.body})}switch(d.error.reason){case"non-json":throw new Kt.ElevenLabsError({statusCode:d.error.statusCode,body:d.error.rawBody});case"timeout":throw new Kt.ElevenLabsTimeoutError;case"unknown":throw new Kt.ElevenLabsError({message:d.error.errorMessage})}}})}}zm.TextToSpeech=wM;var Hm={},_M=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),SM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Gm=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_M(e,r,t);return SM(e,r),e},iS=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},NM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hm,"__esModule",{value:!0});Hm.SpeechToSpeech=void 0;const aS=Gm(bt),pr=Gm(nr),oS=Gm(Vt),lS=NM(fr),mi=Gm(yt);class EM{constructor(e={}){this._options=e}convert(e,t,n){var s;return iS(this,void 0,void 0,function*(){const i={};t.enable_logging!=null&&(i.enable_logging=t.enable_logging),t.optimize_streaming_latency!=null&&(i.optimize_streaming_latency=t.optimize_streaming_latency),t.output_format!=null&&(i.output_format=t.output_format);const a=new pr.FormDataWrapper;yield a.append("audio",t.audio),t.model_id!=null&&(yield a.append("model_id",t.model_id)),t.voice_settings!=null&&(yield a.append("voice_settings",t.voice_settings)),t.seed!=null&&(yield a.append("seed",t.seed.toString()));const l=a.getRequest(),c=yield pr.fetcher({url:(0,lS.default)((s=yield pr.Supplier.get(this._options.environment))!==null&&s!==void 0?s:aS.ElevenLabsEnvironment.Production,`v1/speech-to-speech/${encodeURIComponent(e)}`),method:"POST",headers:Object.assign({"xi-api-key":(yield pr.Supplier.get(this._options.apiKey))!=null?yield pr.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":pr.RUNTIME.type,"X-Fern-Runtime-Version":pr.RUNTIME.version},yield l.getHeaders()),queryParameters:i,body:yield l.getBody(),responseType:"streaming",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(c.ok)return c.body;if(c.error.reason==="status-code")switch(c.error.statusCode){case 422:throw new oS.UnprocessableEntityError(c.error.body);default:throw new mi.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new mi.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new mi.ElevenLabsTimeoutError;case"unknown":throw new mi.ElevenLabsError({message:c.error.errorMessage})}})}convertAsStream(e,t,n){var s;return iS(this,void 0,void 0,function*(){const i={};t.enable_logging!=null&&(i.enable_logging=t.enable_logging),t.optimize_streaming_latency!=null&&(i.optimize_streaming_latency=t.optimize_streaming_latency),t.output_format!=null&&(i.output_format=t.output_format);const a=new pr.FormDataWrapper;yield a.append("audio",t.audio),t.model_id!=null&&(yield a.append("model_id",t.model_id)),t.voice_settings!=null&&(yield a.append("voice_settings",t.voice_settings)),t.seed!=null&&(yield a.append("seed",t.seed.toString()));const l=a.getRequest(),c=yield pr.fetcher({url:(0,lS.default)((s=yield pr.Supplier.get(this._options.environment))!==null&&s!==void 0?s:aS.ElevenLabsEnvironment.Production,`v1/speech-to-speech/${encodeURIComponent(e)}/stream`),method:"POST",headers:Object.assign({"xi-api-key":(yield pr.Supplier.get(this._options.apiKey))!=null?yield pr.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":pr.RUNTIME.type,"X-Fern-Runtime-Version":pr.RUNTIME.version},yield l.getHeaders()),queryParameters:i,body:yield l.getBody(),responseType:"streaming",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(c.ok)return c.body;if(c.error.reason==="status-code")switch(c.error.statusCode){case 422:throw new oS.UnprocessableEntityError(c.error.body);default:throw new mi.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new mi.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new mi.ElevenLabsTimeoutError;case"unknown":throw new mi.ElevenLabsError({message:c.error.errorMessage})}})}}Hm.SpeechToSpeech=EM;var Km={},jM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wm=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jM(e,r,t);return AM(e,r),e},Xg=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},CM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Km,"__esModule",{value:!0});Km.VoiceGeneration=void 0;const Jg=Wm(bt),vt=Wm(nr),cS=Wm(Vt),Qg=CM(fr),Gr=Wm(yt);class kM{constructor(e={}){this._options=e}generateParameters(e){var t;return Xg(this,void 0,void 0,function*(){const n=yield vt.fetcher({url:(0,Qg.default)((t=yield vt.Supplier.get(this._options.environment))!==null&&t!==void 0?t:Jg.ElevenLabsEnvironment.Production,"v1/voice-generation/generate-voice/parameters"),method:"GET",headers:{"xi-api-key":(yield vt.Supplier.get(this._options.apiKey))!=null?yield vt.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":vt.RUNTIME.type,"X-Fern-Runtime-Version":vt.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")throw new Gr.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body});switch(n.error.reason){case"non-json":throw new Gr.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new Gr.ElevenLabsTimeoutError;case"unknown":throw new Gr.ElevenLabsError({message:n.error.errorMessage})}})}generate(e,t){var n;return Xg(this,void 0,void 0,function*(){const s=yield vt.fetcher({url:(0,Qg.default)((n=yield vt.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Jg.ElevenLabsEnvironment.Production,"v1/voice-generation/generate-voice"),method:"POST",headers:{"xi-api-key":(yield vt.Supplier.get(this._options.apiKey))!=null?yield vt.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":vt.RUNTIME.type,"X-Fern-Runtime-Version":vt.RUNTIME.version},contentType:"application/json",body:e,responseType:"streaming",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new cS.UnprocessableEntityError(s.error.body);default:throw new Gr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Gr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Gr.ElevenLabsTimeoutError;case"unknown":throw new Gr.ElevenLabsError({message:s.error.errorMessage})}})}createAPreviouslyGeneratedVoice(e,t){var n;return Xg(this,void 0,void 0,function*(){const s=yield vt.fetcher({url:(0,Qg.default)((n=yield vt.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Jg.ElevenLabsEnvironment.Production,"v1/voice-generation/create-voice"),method:"POST",headers:{"xi-api-key":(yield vt.Supplier.get(this._options.apiKey))!=null?yield vt.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":vt.RUNTIME.type,"X-Fern-Runtime-Version":vt.RUNTIME.version},contentType:"application/json",body:e,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new cS.UnprocessableEntityError(s.error.body);default:throw new Gr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Gr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Gr.ElevenLabsTimeoutError;case"unknown":throw new Gr.ElevenLabsError({message:s.error.errorMessage})}})}}Km.VoiceGeneration=kM;var Xm={},PM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),TM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jm=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&PM(e,r,t);return TM(e,r),e},uS=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},RM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.User=void 0;const dS=Jm(bt),Kr=Jm(nr),fS=Jm(Vt),hS=RM(fr),xi=Jm(yt);class IM{constructor(e={}){this._options=e}getSubscription(e){var t;return uS(this,void 0,void 0,function*(){const n=yield Kr.fetcher({url:(0,hS.default)((t=yield Kr.Supplier.get(this._options.environment))!==null&&t!==void 0?t:dS.ElevenLabsEnvironment.Production,"v1/user/subscription"),method:"GET",headers:{"xi-api-key":(yield Kr.Supplier.get(this._options.apiKey))!=null?yield Kr.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Kr.RUNTIME.type,"X-Fern-Runtime-Version":Kr.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")switch(n.error.statusCode){case 422:throw new fS.UnprocessableEntityError(n.error.body);default:throw new xi.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new xi.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new xi.ElevenLabsTimeoutError;case"unknown":throw new xi.ElevenLabsError({message:n.error.errorMessage})}})}get(e){var t;return uS(this,void 0,void 0,function*(){const n=yield Kr.fetcher({url:(0,hS.default)((t=yield Kr.Supplier.get(this._options.environment))!==null&&t!==void 0?t:dS.ElevenLabsEnvironment.Production,"v1/user"),method:"GET",headers:{"xi-api-key":(yield Kr.Supplier.get(this._options.apiKey))!=null?yield Kr.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Kr.RUNTIME.type,"X-Fern-Runtime-Version":Kr.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")switch(n.error.statusCode){case 422:throw new fS.UnprocessableEntityError(n.error.body);default:throw new xi.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new xi.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new xi.ElevenLabsTimeoutError;case"unknown":throw new xi.ElevenLabsError({message:n.error.errorMessage})}})}}Xm.User=IM;var Qm={},OM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),MM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ym=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&OM(e,r,t);return MM(e,r),e},xn=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},LM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.Voices=void 0;const gn=Ym(bt),re=Ym(nr),Hn=Ym(Vt),yn=LM(fr),me=Ym(yt);class DM{constructor(e={}){this._options=e}getAll(e){var t;return xn(this,void 0,void 0,function*(){const n=yield re.fetcher({url:(0,yn.default)((t=yield re.Supplier.get(this._options.environment))!==null&&t!==void 0?t:gn.ElevenLabsEnvironment.Production,"v1/voices"),method:"GET",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")switch(n.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(n.error.body);default:throw new me.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:n.error.errorMessage})}})}getDefaultSettings(e){var t;return xn(this,void 0,void 0,function*(){const n=yield re.fetcher({url:(0,yn.default)((t=yield re.Supplier.get(this._options.environment))!==null&&t!==void 0?t:gn.ElevenLabsEnvironment.Production,"v1/voices/settings/default"),method:"GET",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")throw new me.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body});switch(n.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:n.error.errorMessage})}})}getSettings(e,t){var n;return xn(this,void 0,void 0,function*(){const s=yield re.fetcher({url:(0,yn.default)((n=yield re.Supplier.get(this._options.environment))!==null&&n!==void 0?n:gn.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}/settings`),method:"GET",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(s.error.body);default:throw new me.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:s.error.errorMessage})}})}get(e,t={},n){var s;return xn(this,void 0,void 0,function*(){const{with_settings:i}=t,a={};i!=null&&(a.with_settings=i.toString());const l=yield re.fetcher({url:(0,yn.default)((s=yield re.Supplier.get(this._options.environment))!==null&&s!==void 0?s:gn.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}`),method:"GET",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",queryParameters:a,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(l.ok)return l.body;if(l.error.reason==="status-code")switch(l.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(l.error.body);default:throw new me.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:l.error.errorMessage})}})}delete(e,t){var n;return xn(this,void 0,void 0,function*(){const s=yield re.fetcher({url:(0,yn.default)((n=yield re.Supplier.get(this._options.environment))!==null&&n!==void 0?n:gn.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}`),method:"DELETE",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(s.error.body);default:throw new me.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:s.error.errorMessage})}})}editSettings(e,t,n){var s;return xn(this,void 0,void 0,function*(){const i=yield re.fetcher({url:(0,yn.default)((s=yield re.Supplier.get(this._options.environment))!==null&&s!==void 0?s:gn.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}/settings/edit`),method:"POST",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",body:t,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(i.error.body);default:throw new me.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:i.error.errorMessage})}})}add(e,t){var n;return xn(this,void 0,void 0,function*(){const s=new re.FormDataWrapper;yield s.append("name",e.name);for(const l of e.files)yield s.append("files",l);e.description!=null&&(yield s.append("description",e.description)),e.labels!=null&&(yield s.append("labels",e.labels));const i=s.getRequest(),a=yield re.fetcher({url:(0,yn.default)((n=yield re.Supplier.get(this._options.environment))!==null&&n!==void 0?n:gn.ElevenLabsEnvironment.Production,"v1/voices/add"),method:"POST",headers:Object.assign({"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},yield i.getHeaders()),body:yield i.getBody(),timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(a.error.body);default:throw new me.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:a.error.errorMessage})}})}edit(e,t,n){var s;return xn(this,void 0,void 0,function*(){const i=new re.FormDataWrapper;if(yield i.append("name",t.name),t.files!=null)for(const c of t.files)yield i.append("files",c);t.description!=null&&(yield i.append("description",t.description)),t.labels!=null&&(yield i.append("labels",t.labels));const a=i.getRequest(),l=yield re.fetcher({url:(0,yn.default)((s=yield re.Supplier.get(this._options.environment))!==null&&s!==void 0?s:gn.ElevenLabsEnvironment.Production,`v1/voices/${encodeURIComponent(e)}/edit`),method:"POST",headers:Object.assign({"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},yield a.getHeaders()),body:yield a.getBody(),timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(l.ok)return l.body;if(l.error.reason==="status-code")switch(l.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(l.error.body);default:throw new me.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:l.error.errorMessage})}})}addSharingVoice(e,t,n,s){var i;return xn(this,void 0,void 0,function*(){const a=yield re.fetcher({url:(0,yn.default)((i=yield re.Supplier.get(this._options.environment))!==null&&i!==void 0?i:gn.ElevenLabsEnvironment.Production,`v1/voices/add/${encodeURIComponent(e)}/${encodeURIComponent(t)}`),method:"POST",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",body:n,timeoutMs:(s==null?void 0:s.timeoutInSeconds)!=null?s.timeoutInSeconds*1e3:6e4,maxRetries:s==null?void 0:s.maxRetries,abortSignal:s==null?void 0:s.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(a.error.body);default:throw new me.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:a.error.errorMessage})}})}getShared(e={},t){var n;return xn(this,void 0,void 0,function*(){const{page_size:s,category:i,gender:a,age:l,accent:c,language:u,search:d,use_cases:f,descriptives:h,featured:p,reader_app_enabled:g,owner_id:x,sort:_,page:b}=e,y={};s!=null&&(y.page_size=s.toString()),i!=null&&(y.category=i),a!=null&&(y.gender=a),l!=null&&(y.age=l),c!=null&&(y.accent=c),u!=null&&(y.language=u),d!=null&&(y.search=d),f!=null&&(Array.isArray(f)?y.use_cases=f.map(E=>E):y.use_cases=f),h!=null&&(Array.isArray(h)?y.descriptives=h.map(E=>E):y.descriptives=h),p!=null&&(y.featured=p.toString()),g!=null&&(y.reader_app_enabled=g.toString()),x!=null&&(y.owner_id=x),_!=null&&(y.sort=_),b!=null&&(y.page=b.toString());const m=yield re.fetcher({url:(0,yn.default)((n=yield re.Supplier.get(this._options.environment))!==null&&n!==void 0?n:gn.ElevenLabsEnvironment.Production,"v1/shared-voices"),method:"GET",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",queryParameters:y,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(m.ok)return m.body;if(m.error.reason==="status-code")switch(m.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(m.error.body);default:throw new me.ElevenLabsError({statusCode:m.error.statusCode,body:m.error.body})}switch(m.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:m.error.statusCode,body:m.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:m.error.errorMessage})}})}getAProfilePage(e,t){var n;return xn(this,void 0,void 0,function*(){const s=yield re.fetcher({url:(0,yn.default)((n=yield re.Supplier.get(this._options.environment))!==null&&n!==void 0?n:gn.ElevenLabsEnvironment.Production,`profile/${encodeURIComponent(e)}`),method:"GET",headers:{"xi-api-key":(yield re.Supplier.get(this._options.apiKey))!=null?yield re.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":re.RUNTIME.type,"X-Fern-Runtime-Version":re.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Hn.UnprocessableEntityError(s.error.body);default:throw new me.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new me.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new me.ElevenLabsTimeoutError;case"unknown":throw new me.ElevenLabsError({message:s.error.errorMessage})}})}}Qm.Voices=DM;var Zm={},FM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),UM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qm=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&FM(e,r,t);return UM(e,r),e},Gn=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},BM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.Projects=void 0;const Kn=qm(bt),ue=qm(nr),Wn=qm(Vt),Xn=BM(fr),ye=qm(yt);class $M{constructor(e={}){this._options=e}getAll(e){var t;return Gn(this,void 0,void 0,function*(){const n=yield ue.fetcher({url:(0,Xn.default)((t=yield ue.Supplier.get(this._options.environment))!==null&&t!==void 0?t:Kn.ElevenLabsEnvironment.Production,"v1/projects"),method:"GET",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")switch(n.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(n.error.body);default:throw new ye.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:n.error.errorMessage})}})}add(e,t){var n;return Gn(this,void 0,void 0,function*(){const s=new ue.FormDataWrapper;if(yield s.append("name",e.name),yield s.append("default_title_voice_id",e.default_title_voice_id),yield s.append("default_paragraph_voice_id",e.default_paragraph_voice_id),yield s.append("default_model_id",e.default_model_id),e.from_url!=null&&(yield s.append("from_url",e.from_url)),e.from_document!=null&&(yield s.append("from_document",e.from_document)),e.quality_preset!=null&&(yield s.append("quality_preset",e.quality_preset)),e.title!=null&&(yield s.append("title",e.title)),e.author!=null&&(yield s.append("author",e.author)),e.isbn_number!=null&&(yield s.append("isbn_number",e.isbn_number)),e.acx_volume_normalization!=null&&(yield s.append("acx_volume_normalization",e.acx_volume_normalization.toString())),e.volume_normalization!=null&&(yield s.append("volume_normalization",e.volume_normalization.toString())),e.pronunciation_dictionary_locators!=null)for(const l of e.pronunciation_dictionary_locators)yield s.append("pronunciation_dictionary_locators",l);e.callback_url!=null&&(yield s.append("callback_url",e.callback_url));const i=s.getRequest(),a=yield ue.fetcher({url:(0,Xn.default)((n=yield ue.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Kn.ElevenLabsEnvironment.Production,"v1/projects/add"),method:"POST",headers:Object.assign({"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},yield i.getHeaders()),body:yield i.getBody(),timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(a.error.body);default:throw new ye.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:a.error.errorMessage})}})}get(e,t){var n;return Gn(this,void 0,void 0,function*(){const s=yield ue.fetcher({url:(0,Xn.default)((n=yield ue.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}`),method:"GET",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(s.error.body);default:throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:s.error.errorMessage})}})}editBasicProjectInfo(e,t,n){var s;return Gn(this,void 0,void 0,function*(){const i=yield ue.fetcher({url:(0,Xn.default)((s=yield ue.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}`),method:"POST",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",body:t,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(i.error.body);default:throw new ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:i.error.errorMessage})}})}delete(e,t){var n;return Gn(this,void 0,void 0,function*(){const s=yield ue.fetcher({url:(0,Xn.default)((n=yield ue.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}`),method:"DELETE",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(s.error.body);default:throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:s.error.errorMessage})}})}convert(e,t){var n;return Gn(this,void 0,void 0,function*(){const s=yield ue.fetcher({url:(0,Xn.default)((n=yield ue.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/convert`),method:"POST",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(s.error.body);default:throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:s.error.errorMessage})}})}getSnapshots(e,t){var n;return Gn(this,void 0,void 0,function*(){const s=yield ue.fetcher({url:(0,Xn.default)((n=yield ue.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/snapshots`),method:"GET",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(s.error.body);default:throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:s.error.errorMessage})}})}streamAudio(e,t,n={},s){var i;return Gn(this,void 0,void 0,function*(){const a=yield ue.fetcher({url:(0,Xn.default)((i=yield ue.Supplier.get(this._options.environment))!==null&&i!==void 0?i:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/snapshots/${encodeURIComponent(t)}/stream`),method:"POST",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",body:n,responseType:"streaming",timeoutMs:(s==null?void 0:s.timeoutInSeconds)!=null?s.timeoutInSeconds*1e3:6e4,maxRetries:s==null?void 0:s.maxRetries,abortSignal:s==null?void 0:s.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(a.error.body);default:throw new ye.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:a.error.errorMessage})}})}streamArchive(e,t,n){var s;return Gn(this,void 0,void 0,function*(){const i=yield ue.fetcher({url:(0,Xn.default)((s=yield ue.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/snapshots/${encodeURIComponent(t)}/archive`),method:"POST",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(!i.ok){if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(i.error.body);default:throw new ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:i.error.errorMessage})}}})}updatePronunciationDictionaries(e,t,n){var s;return Gn(this,void 0,void 0,function*(){const i=yield ue.fetcher({url:(0,Xn.default)((s=yield ue.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Kn.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/update-pronunciation-dictionaries`),method:"POST",headers:{"xi-api-key":(yield ue.Supplier.get(this._options.apiKey))!=null?yield ue.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ue.RUNTIME.type,"X-Fern-Runtime-Version":ue.RUNTIME.version},contentType:"application/json",body:t,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Wn.UnprocessableEntityError(i.error.body);default:throw new ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ye.ElevenLabsTimeoutError;case"unknown":throw new ye.ElevenLabsError({message:i.error.errorMessage})}})}}Zm.Projects=$M;var ex={},zM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),VM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tx=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&zM(e,r,t);return VM(e,r),e},Ko=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},HM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ex,"__esModule",{value:!0});ex.Chapters=void 0;const Wo=tx(bt),je=tx(nr),Xo=tx(Vt),Jo=HM(fr),Qe=tx(yt);class GM{constructor(e={}){this._options=e}getAll(e,t){var n;return Ko(this,void 0,void 0,function*(){const s=yield je.fetcher({url:(0,Jo.default)((n=yield je.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Wo.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/chapters`),method:"GET",headers:{"xi-api-key":(yield je.Supplier.get(this._options.apiKey))!=null?yield je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":je.RUNTIME.type,"X-Fern-Runtime-Version":je.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Xo.UnprocessableEntityError(s.error.body);default:throw new Qe.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Qe.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Qe.ElevenLabsTimeoutError;case"unknown":throw new Qe.ElevenLabsError({message:s.error.errorMessage})}})}get(e,t,n){var s;return Ko(this,void 0,void 0,function*(){const i=yield je.fetcher({url:(0,Jo.default)((s=yield je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Wo.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/chapters/${encodeURIComponent(t)}`),method:"GET",headers:{"xi-api-key":(yield je.Supplier.get(this._options.apiKey))!=null?yield je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":je.RUNTIME.type,"X-Fern-Runtime-Version":je.RUNTIME.version},contentType:"application/json",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Xo.UnprocessableEntityError(i.error.body);default:throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Qe.ElevenLabsTimeoutError;case"unknown":throw new Qe.ElevenLabsError({message:i.error.errorMessage})}})}delete(e,t,n){var s;return Ko(this,void 0,void 0,function*(){const i=yield je.fetcher({url:(0,Jo.default)((s=yield je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Wo.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/chapters/${encodeURIComponent(t)}`),method:"DELETE",headers:{"xi-api-key":(yield je.Supplier.get(this._options.apiKey))!=null?yield je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":je.RUNTIME.type,"X-Fern-Runtime-Version":je.RUNTIME.version},contentType:"application/json",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Xo.UnprocessableEntityError(i.error.body);default:throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Qe.ElevenLabsTimeoutError;case"unknown":throw new Qe.ElevenLabsError({message:i.error.errorMessage})}})}convert(e,t,n){var s;return Ko(this,void 0,void 0,function*(){const i=yield je.fetcher({url:(0,Jo.default)((s=yield je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Wo.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/chapters/${encodeURIComponent(t)}/convert`),method:"POST",headers:{"xi-api-key":(yield je.Supplier.get(this._options.apiKey))!=null?yield je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":je.RUNTIME.type,"X-Fern-Runtime-Version":je.RUNTIME.version},contentType:"application/json",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Xo.UnprocessableEntityError(i.error.body);default:throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Qe.ElevenLabsTimeoutError;case"unknown":throw new Qe.ElevenLabsError({message:i.error.errorMessage})}})}getAllSnapshots(e,t,n){var s;return Ko(this,void 0,void 0,function*(){const i=yield je.fetcher({url:(0,Jo.default)((s=yield je.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Wo.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/chapters/${encodeURIComponent(t)}/snapshots`),method:"GET",headers:{"xi-api-key":(yield je.Supplier.get(this._options.apiKey))!=null?yield je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":je.RUNTIME.type,"X-Fern-Runtime-Version":je.RUNTIME.version},contentType:"application/json",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Xo.UnprocessableEntityError(i.error.body);default:throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Qe.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Qe.ElevenLabsTimeoutError;case"unknown":throw new Qe.ElevenLabsError({message:i.error.errorMessage})}})}streamSnapshot(e,t,n,s={},i){var a;return Ko(this,void 0,void 0,function*(){const l=yield je.fetcher({url:(0,Jo.default)((a=yield je.Supplier.get(this._options.environment))!==null&&a!==void 0?a:Wo.ElevenLabsEnvironment.Production,`v1/projects/${encodeURIComponent(e)}/chapters/${encodeURIComponent(t)}/snapshots/${encodeURIComponent(n)}/stream`),method:"POST",headers:{"xi-api-key":(yield je.Supplier.get(this._options.apiKey))!=null?yield je.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":je.RUNTIME.type,"X-Fern-Runtime-Version":je.RUNTIME.version},contentType:"application/json",body:s,timeoutMs:(i==null?void 0:i.timeoutInSeconds)!=null?i.timeoutInSeconds*1e3:6e4,maxRetries:i==null?void 0:i.maxRetries,abortSignal:i==null?void 0:i.abortSignal});if(!l.ok){if(l.error.reason==="status-code")switch(l.error.statusCode){case 422:throw new Xo.UnprocessableEntityError(l.error.body);default:throw new Qe.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new Qe.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new Qe.ElevenLabsTimeoutError;case"unknown":throw new Qe.ElevenLabsError({message:l.error.errorMessage})}}})}}ex.Chapters=GM;var rx={},KM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),WM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nx=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&KM(e,r,t);return WM(e,r),e},Pu=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},XM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rx,"__esModule",{value:!0});rx.Dubbing=void 0;const Tu=nx(bt),Oe=nx(nr),Ru=nx(Vt),Iu=XM(fr),ht=nx(yt);class JM{constructor(e={}){this._options=e}dubAVideoOrAnAudioFile(e,t){var n;return Pu(this,void 0,void 0,function*(){const s=new Oe.FormDataWrapper;e.mode!=null&&(yield s.append("mode",e.mode)),e.file!=null&&(yield s.append("file",e.file)),e.csv_file!=null&&(yield s.append("csv_file",e.csv_file)),e.foreground_audio_file!=null&&(yield s.append("foreground_audio_file",e.foreground_audio_file)),e.background_audio_file!=null&&(yield s.append("background_audio_file",e.background_audio_file)),e.name!=null&&(yield s.append("name",e.name)),e.source_url!=null&&(yield s.append("source_url",e.source_url)),e.source_lang!=null&&(yield s.append("source_lang",e.source_lang)),yield s.append("target_lang",e.target_lang),e.num_speakers!=null&&(yield s.append("num_speakers",e.num_speakers.toString())),e.watermark!=null&&(yield s.append("watermark",e.watermark.toString())),e.start_time!=null&&(yield s.append("start_time",e.start_time.toString())),e.end_time!=null&&(yield s.append("end_time",e.end_time.toString())),e.highest_resolution!=null&&(yield s.append("highest_resolution",e.highest_resolution.toString())),e.dubbing_studio!=null&&(yield s.append("dubbing_studio",e.dubbing_studio.toString()));const i=s.getRequest(),a=yield Oe.fetcher({url:(0,Iu.default)((n=yield Oe.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Tu.ElevenLabsEnvironment.Production,"v1/dubbing"),method:"POST",headers:Object.assign({"xi-api-key":(yield Oe.Supplier.get(this._options.apiKey))!=null?yield Oe.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Oe.RUNTIME.type,"X-Fern-Runtime-Version":Oe.RUNTIME.version},yield i.getHeaders()),body:yield i.getBody(),timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new Ru.UnprocessableEntityError(a.error.body);default:throw new ht.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new ht.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new ht.ElevenLabsTimeoutError;case"unknown":throw new ht.ElevenLabsError({message:a.error.errorMessage})}})}getDubbingProjectMetadata(e,t){var n;return Pu(this,void 0,void 0,function*(){const s=yield Oe.fetcher({url:(0,Iu.default)((n=yield Oe.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Tu.ElevenLabsEnvironment.Production,`v1/dubbing/${encodeURIComponent(e)}`),method:"GET",headers:{"xi-api-key":(yield Oe.Supplier.get(this._options.apiKey))!=null?yield Oe.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Oe.RUNTIME.type,"X-Fern-Runtime-Version":Oe.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Ru.UnprocessableEntityError(s.error.body);default:throw new ht.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ht.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ht.ElevenLabsTimeoutError;case"unknown":throw new ht.ElevenLabsError({message:s.error.errorMessage})}})}deleteDubbingProject(e,t){var n;return Pu(this,void 0,void 0,function*(){const s=yield Oe.fetcher({url:(0,Iu.default)((n=yield Oe.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Tu.ElevenLabsEnvironment.Production,`v1/dubbing/${encodeURIComponent(e)}`),method:"DELETE",headers:{"xi-api-key":(yield Oe.Supplier.get(this._options.apiKey))!=null?yield Oe.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Oe.RUNTIME.type,"X-Fern-Runtime-Version":Oe.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new Ru.UnprocessableEntityError(s.error.body);default:throw new ht.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new ht.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new ht.ElevenLabsTimeoutError;case"unknown":throw new ht.ElevenLabsError({message:s.error.errorMessage})}})}getDubbedFile(e,t,n){var s;return Pu(this,void 0,void 0,function*(){const i=yield Oe.fetcher({url:(0,Iu.default)((s=yield Oe.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Tu.ElevenLabsEnvironment.Production,`v1/dubbing/${encodeURIComponent(e)}/audio/${encodeURIComponent(t)}`),method:"GET",headers:{"xi-api-key":(yield Oe.Supplier.get(this._options.apiKey))!=null?yield Oe.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Oe.RUNTIME.type,"X-Fern-Runtime-Version":Oe.RUNTIME.version},contentType:"application/json",responseType:"streaming",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new Ru.UnprocessableEntityError(i.error.body);default:throw new ht.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ht.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ht.ElevenLabsTimeoutError;case"unknown":throw new ht.ElevenLabsError({message:i.error.errorMessage})}})}getTranscriptForDub(e,t,n={},s){var i;return Pu(this,void 0,void 0,function*(){const{format_type:a}=n,l={};a!=null&&(l.format_type=a);const c=yield Oe.fetcher({url:(0,Iu.default)((i=yield Oe.Supplier.get(this._options.environment))!==null&&i!==void 0?i:Tu.ElevenLabsEnvironment.Production,`v1/dubbing/${encodeURIComponent(e)}/transcript/${encodeURIComponent(t)}`),method:"GET",headers:{"xi-api-key":(yield Oe.Supplier.get(this._options.apiKey))!=null?yield Oe.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Oe.RUNTIME.type,"X-Fern-Runtime-Version":Oe.RUNTIME.version},contentType:"application/json",queryParameters:l,timeoutMs:(s==null?void 0:s.timeoutInSeconds)!=null?s.timeoutInSeconds*1e3:6e4,maxRetries:s==null?void 0:s.maxRetries,abortSignal:s==null?void 0:s.abortSignal});if(c.ok)return c.body;if(c.error.reason==="status-code")switch(c.error.statusCode){case 422:throw new Ru.UnprocessableEntityError(c.error.body);default:throw new ht.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new ht.ElevenLabsError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new ht.ElevenLabsTimeoutError;case"unknown":throw new ht.ElevenLabsError({message:c.error.errorMessage})}})}}rx.Dubbing=JM;var sx={},QM=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YM=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ix=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&QM(e,r,t);return YM(e,r),e},ZM=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},qM=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sx,"__esModule",{value:!0});sx.Models=void 0;const eL=ix(bt),Qo=ix(nr),tL=ix(Vt),rL=qM(fr),gh=ix(yt);class nL{constructor(e={}){this._options=e}getAll(e){var t;return ZM(this,void 0,void 0,function*(){const n=yield Qo.fetcher({url:(0,rL.default)((t=yield Qo.Supplier.get(this._options.environment))!==null&&t!==void 0?t:eL.ElevenLabsEnvironment.Production,"v1/models"),method:"GET",headers:{"xi-api-key":(yield Qo.Supplier.get(this._options.apiKey))!=null?yield Qo.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":Qo.RUNTIME.type,"X-Fern-Runtime-Version":Qo.RUNTIME.version},contentType:"application/json",timeoutMs:(e==null?void 0:e.timeoutInSeconds)!=null?e.timeoutInSeconds*1e3:6e4,maxRetries:e==null?void 0:e.maxRetries,abortSignal:e==null?void 0:e.abortSignal});if(n.ok)return n.body;if(n.error.reason==="status-code")switch(n.error.statusCode){case 422:throw new tL.UnprocessableEntityError(n.error.body);default:throw new gh.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new gh.ElevenLabsError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new gh.ElevenLabsTimeoutError;case"unknown":throw new gh.ElevenLabsError({message:n.error.errorMessage})}})}}sx.Models=nL;var ax={},sL=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iL=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ox=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sL(e,r,t);return iL(e,r),e},aL=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},oL=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ax,"__esModule",{value:!0});ax.AudioNative=void 0;const lL=ox(bt),ba=ox(nr),cL=ox(Vt),uL=oL(fr),yh=ox(yt);class dL{constructor(e={}){this._options=e}create(e,t){var n;return aL(this,void 0,void 0,function*(){const s=new ba.FormDataWrapper;yield s.append("name",e.name),e.image!=null&&(yield s.append("image",e.image)),e.author!=null&&(yield s.append("author",e.author)),e.title!=null&&(yield s.append("title",e.title)),e.small!=null&&(yield s.append("small",e.small.toString())),e.text_color!=null&&(yield s.append("text_color",e.text_color)),e.background_color!=null&&(yield s.append("background_color",e.background_color)),e.sessionization!=null&&(yield s.append("sessionization",e.sessionization.toString())),e.voice_id!=null&&(yield s.append("voice_id",e.voice_id)),e.model_id!=null&&(yield s.append("model_id",e.model_id)),e.file!=null&&(yield s.append("file",e.file)),e.auto_convert!=null&&(yield s.append("auto_convert",e.auto_convert.toString()));const i=s.getRequest(),a=yield ba.fetcher({url:(0,uL.default)((n=yield ba.Supplier.get(this._options.environment))!==null&&n!==void 0?n:lL.ElevenLabsEnvironment.Production,"v1/audio-native"),method:"POST",headers:Object.assign({"xi-api-key":(yield ba.Supplier.get(this._options.apiKey))!=null?yield ba.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":ba.RUNTIME.type,"X-Fern-Runtime-Version":ba.RUNTIME.version},yield i.getHeaders()),body:yield i.getBody(),timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new cL.UnprocessableEntityError(a.error.body);default:throw new yh.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new yh.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new yh.ElevenLabsTimeoutError;case"unknown":throw new yh.ElevenLabsError({message:a.error.errorMessage})}})}}ax.AudioNative=dL;var lx={},fL=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hL=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cx=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fL(e,r,t);return hL(e,r),e},Yo=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},pL=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lx,"__esModule",{value:!0});lx.PronunciationDictionary=void 0;const Zo=cx(bt),_e=cx(nr),qo=cx(Vt),el=pL(fr),Ye=cx(yt);class mL{constructor(e={}){this._options=e}addFromFile(e,t){var n;return Yo(this,void 0,void 0,function*(){const s=new _e.FormDataWrapper;yield s.append("name",e.name),e.file!=null&&(yield s.append("file",e.file)),e.description!=null&&(yield s.append("description",e.description)),e.workspace_access!=null&&(yield s.append("workspace_access",e.workspace_access));const i=s.getRequest(),a=yield _e.fetcher({url:(0,el.default)((n=yield _e.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Zo.ElevenLabsEnvironment.Production,"v1/pronunciation-dictionaries/add-from-file"),method:"POST",headers:Object.assign({"xi-api-key":(yield _e.Supplier.get(this._options.apiKey))!=null?yield _e.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":_e.RUNTIME.type,"X-Fern-Runtime-Version":_e.RUNTIME.version},yield i.getHeaders()),body:yield i.getBody(),timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(a.ok)return a.body;if(a.error.reason==="status-code")switch(a.error.statusCode){case 422:throw new qo.UnprocessableEntityError(a.error.body);default:throw new Ye.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Ye.ElevenLabsError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Ye.ElevenLabsTimeoutError;case"unknown":throw new Ye.ElevenLabsError({message:a.error.errorMessage})}})}addRulesToThePronunciationDictionary(e,t,n){var s;return Yo(this,void 0,void 0,function*(){const i=yield _e.fetcher({url:(0,el.default)((s=yield _e.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Zo.ElevenLabsEnvironment.Production,`v1/pronunciation-dictionaries/${encodeURIComponent(e)}/add-rules`),method:"POST",headers:{"xi-api-key":(yield _e.Supplier.get(this._options.apiKey))!=null?yield _e.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":_e.RUNTIME.type,"X-Fern-Runtime-Version":_e.RUNTIME.version},contentType:"application/json",body:t,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new qo.UnprocessableEntityError(i.error.body);default:throw new Ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ye.ElevenLabsTimeoutError;case"unknown":throw new Ye.ElevenLabsError({message:i.error.errorMessage})}})}removeRulesFromThePronunciationDictionary(e,t,n){var s;return Yo(this,void 0,void 0,function*(){const i=yield _e.fetcher({url:(0,el.default)((s=yield _e.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Zo.ElevenLabsEnvironment.Production,`v1/pronunciation-dictionaries/${encodeURIComponent(e)}/remove-rules`),method:"POST",headers:{"xi-api-key":(yield _e.Supplier.get(this._options.apiKey))!=null?yield _e.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":_e.RUNTIME.type,"X-Fern-Runtime-Version":_e.RUNTIME.version},contentType:"application/json",body:t,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new qo.UnprocessableEntityError(i.error.body);default:throw new Ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ye.ElevenLabsTimeoutError;case"unknown":throw new Ye.ElevenLabsError({message:i.error.errorMessage})}})}download(e,t,n){var s;return Yo(this,void 0,void 0,function*(){const i=yield _e.fetcher({url:(0,el.default)((s=yield _e.Supplier.get(this._options.environment))!==null&&s!==void 0?s:Zo.ElevenLabsEnvironment.Production,`v1/pronunciation-dictionaries/${encodeURIComponent(e)}/${encodeURIComponent(t)}/download`),method:"GET",headers:{"xi-api-key":(yield _e.Supplier.get(this._options.apiKey))!=null?yield _e.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":_e.RUNTIME.type,"X-Fern-Runtime-Version":_e.RUNTIME.version},contentType:"application/json",responseType:"text",timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:6e4,maxRetries:n==null?void 0:n.maxRetries,abortSignal:n==null?void 0:n.abortSignal});if(i.ok)return i.body;if(i.error.reason==="status-code")switch(i.error.statusCode){case 422:throw new qo.UnprocessableEntityError(i.error.body);default:throw new Ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ye.ElevenLabsError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ye.ElevenLabsTimeoutError;case"unknown":throw new Ye.ElevenLabsError({message:i.error.errorMessage})}})}get(e,t){var n;return Yo(this,void 0,void 0,function*(){const s=yield _e.fetcher({url:(0,el.default)((n=yield _e.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Zo.ElevenLabsEnvironment.Production,`v1/pronunciation-dictionaries/${encodeURIComponent(e)}/`),method:"GET",headers:{"xi-api-key":(yield _e.Supplier.get(this._options.apiKey))!=null?yield _e.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":_e.RUNTIME.type,"X-Fern-Runtime-Version":_e.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new qo.UnprocessableEntityError(s.error.body);default:throw new Ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Ye.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Ye.ElevenLabsTimeoutError;case"unknown":throw new Ye.ElevenLabsError({message:s.error.errorMessage})}})}getAll(e={},t){var n;return Yo(this,void 0,void 0,function*(){const{cursor:s,page_size:i}=e,a={};s!=null&&(a.cursor=s),i!=null&&(a.page_size=i.toString());const l=yield _e.fetcher({url:(0,el.default)((n=yield _e.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Zo.ElevenLabsEnvironment.Production,"v1/pronunciation-dictionaries/"),method:"GET",headers:{"xi-api-key":(yield _e.Supplier.get(this._options.apiKey))!=null?yield _e.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":_e.RUNTIME.type,"X-Fern-Runtime-Version":_e.RUNTIME.version},contentType:"application/json",queryParameters:a,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(l.ok)return l.body;if(l.error.reason==="status-code")switch(l.error.statusCode){case 422:throw new qo.UnprocessableEntityError(l.error.body);default:throw new Ye.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new Ye.ElevenLabsError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new Ye.ElevenLabsTimeoutError;case"unknown":throw new Ye.ElevenLabsError({message:l.error.errorMessage})}})}}lx.PronunciationDictionary=mL;var ux={},xL=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gL=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dx=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xL(e,r,t);return gL(e,r),e},Yg=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},yL=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ux,"__esModule",{value:!0});ux.Workspace=void 0;const Zg=dx(bt),wt=dx(nr),qg=dx(Vt),ey=yL(fr),Wr=dx(yt);class bL{constructor(e={}){this._options=e}inviteUser(e,t){var n;return Yg(this,void 0,void 0,function*(){const s=yield wt.fetcher({url:(0,ey.default)((n=yield wt.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Zg.ElevenLabsEnvironment.Production,"v1/workspace/invites/add"),method:"POST",headers:{"xi-api-key":(yield wt.Supplier.get(this._options.apiKey))!=null?yield wt.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":wt.RUNTIME.type,"X-Fern-Runtime-Version":wt.RUNTIME.version},contentType:"application/json",body:e,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new qg.UnprocessableEntityError(s.error.body);default:throw new Wr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Wr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Wr.ElevenLabsTimeoutError;case"unknown":throw new Wr.ElevenLabsError({message:s.error.errorMessage})}})}deleteExistingInvitation(e,t){var n;return Yg(this,void 0,void 0,function*(){const s=yield wt.fetcher({url:(0,ey.default)((n=yield wt.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Zg.ElevenLabsEnvironment.Production,"v1/workspace/invites"),method:"DELETE",headers:{"xi-api-key":(yield wt.Supplier.get(this._options.apiKey))!=null?yield wt.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":wt.RUNTIME.type,"X-Fern-Runtime-Version":wt.RUNTIME.version},contentType:"application/json",body:e,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new qg.UnprocessableEntityError(s.error.body);default:throw new Wr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Wr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Wr.ElevenLabsTimeoutError;case"unknown":throw new Wr.ElevenLabsError({message:s.error.errorMessage})}})}updateMember(e,t){var n;return Yg(this,void 0,void 0,function*(){const s=yield wt.fetcher({url:(0,ey.default)((n=yield wt.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Zg.ElevenLabsEnvironment.Production,"v1/workspace/members"),method:"POST",headers:{"xi-api-key":(yield wt.Supplier.get(this._options.apiKey))!=null?yield wt.Supplier.get(this._options.apiKey):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"elevenlabs","X-Fern-SDK-Version":"0.8.2","X-Fern-Runtime":wt.RUNTIME.type,"X-Fern-Runtime-Version":wt.RUNTIME.version},contentType:"application/json",body:e,timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:6e4,maxRetries:t==null?void 0:t.maxRetries,abortSignal:t==null?void 0:t.abortSignal});if(s.ok)return s.body;if(s.error.reason==="status-code")switch(s.error.statusCode){case 422:throw new qg.UnprocessableEntityError(s.error.body);default:throw new Wr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Wr.ElevenLabsError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Wr.ElevenLabsTimeoutError;case"unknown":throw new Wr.ElevenLabsError({message:s.error.errorMessage})}})}}ux.Workspace=bL;Object.defineProperty(jm,"__esModule",{value:!0});jm.ElevenLabsClient=void 0;const vL=Am,wL=Fm,_L=Bm,SL=zm,NL=Hm,EL=Km,jL=Xm,AL=Qm,CL=Zm,kL=ex,PL=rx,TL=sx,RL=ax,IL=lx,OL=ux;let ML=class{constructor(e={}){this._options=e}get history(){var e;return(e=this._history)!==null&&e!==void 0?e:this._history=new vL.History(this._options)}get textToSoundEffects(){var e;return(e=this._textToSoundEffects)!==null&&e!==void 0?e:this._textToSoundEffects=new wL.TextToSoundEffects(this._options)}get samples(){var e;return(e=this._samples)!==null&&e!==void 0?e:this._samples=new _L.Samples(this._options)}get textToSpeech(){var e;return(e=this._textToSpeech)!==null&&e!==void 0?e:this._textToSpeech=new SL.TextToSpeech(this._options)}get speechToSpeech(){var e;return(e=this._speechToSpeech)!==null&&e!==void 0?e:this._speechToSpeech=new NL.SpeechToSpeech(this._options)}get voiceGeneration(){var e;return(e=this._voiceGeneration)!==null&&e!==void 0?e:this._voiceGeneration=new EL.VoiceGeneration(this._options)}get user(){var e;return(e=this._user)!==null&&e!==void 0?e:this._user=new jL.User(this._options)}get voices(){var e;return(e=this._voices)!==null&&e!==void 0?e:this._voices=new AL.Voices(this._options)}get projects(){var e;return(e=this._projects)!==null&&e!==void 0?e:this._projects=new CL.Projects(this._options)}get chapters(){var e;return(e=this._chapters)!==null&&e!==void 0?e:this._chapters=new kL.Chapters(this._options)}get dubbing(){var e;return(e=this._dubbing)!==null&&e!==void 0?e:this._dubbing=new PL.Dubbing(this._options)}get models(){var e;return(e=this._models)!==null&&e!==void 0?e:this._models=new TL.Models(this._options)}get audioNative(){var e;return(e=this._audioNative)!==null&&e!==void 0?e:this._audioNative=new RL.AudioNative(this._options)}get pronunciationDictionary(){var e;return(e=this._pronunciationDictionary)!==null&&e!==void 0?e:this._pronunciationDictionary=new IL.PronunciationDictionary(this._options)}get workspace(){var e;return(e=this._workspace)!==null&&e!==void 0?e:this._workspace=new OL.Workspace(this._options)}};jm.ElevenLabsClient=ML;var LL={},DL=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),FL=w&&w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UL=w&&w.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&DL(e,r,t);return FL(e,r),e},BL=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Em,"__esModule",{value:!0});Em.ElevenLabsClient=void 0;const $L=jm,pS=UL(yt);class zL extends $L.ElevenLabsClient{constructor(e={}){var t;const n=(t=e.apiKey)!==null&&t!==void 0?t:LL.ELEVENLABS_API_KEY;if(n==null)throw new pS.ElevenLabsError({message:"Please pass in your ElevenLabs API Key or export ELEVENLABS_API_KEY in your environment."});super({apiKey:n})}generate(e,t={}){var n,s;return BL(this,void 0,void 0,function*(){const i=(n=e.voice)!==null&&n!==void 0?n:"Bella",a=HL(i)?i:(s=(yield this.voices.getAll()).voices.filter(l=>l.name===i)[0])===null||s===void 0?void 0:s.voice_id;if(a==null)throw new pS.ElevenLabsError({message:`${i} is not a valid voice name`});return VL(e)?yield this.textToSpeech.convertAsStream(a,e,t):yield this.textToSpeech.convert(a,e,t)})}}Em.ElevenLabsClient=zL;function VL(r){return r.stream!=null}function HL(r){return/^[a-zA-Z0-9]{20}$/.test(r)}var fx={},GL=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},KL=w&&w.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=r[i]&&function(a){return new Promise(function(l,c){a=r[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}},wA=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fx,"__esModule",{value:!0});fx.play=void 0;const WL=wA(Io),mS=su,xS=au,XL=wA(Io);function JL(r){var e,t,n,s,i,a;return GL(this,void 0,void 0,function*(){if(xS.RUNTIME.type!=="node")throw new mS.ElevenLabsError({message:`This function is only supported in node environments. ${xS.RUNTIME.type} is not supported`});if(!(0,WL.default)("ffplay"))throw new mS.ElevenLabsError({message:`ffplay from ffmpeg not found, necessary to play audio. 
            On mac you can install it with 'brew install ffmpeg'. 
            On linux and windows you can install it from https://ffmpeg.org/`});const l=(0,XL.default)("ffplay",["-autoexit","-","-nodisp"]);try{for(e=KL(r);t=yield e.next(),!t.done;){const c=t.value;(i=l.stdin)===null||i===void 0||i.write(c)}}catch(c){n={error:c}}finally{try{t&&!t.done&&(s=e.return)&&(yield s.call(e))}finally{if(n)throw n.error}}(a=l.stdin)===null||a===void 0||a.end(),yield l})}fx.play=JL;var hx={},QL=w&&w.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},YL=w&&w.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=r[i]&&function(a){return new Promise(function(l,c){a=r[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}},_A=w&&w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hx,"__esModule",{value:!0});hx.stream=void 0;const ZL=_A(Io),gS=su,yS=au,qL=_A(Io);function eD(r){var e,t,n,s,i,a;return QL(this,void 0,void 0,function*(){if(yS.RUNTIME.type!=="node")throw new gS.ElevenLabsError({message:`This function is only supported in node environments. ${yS.RUNTIME.type} is not supported`});if(!(0,ZL.default)("mpv"))throw new gS.ElevenLabsError({message:`mpv not found, necessary to stream audio."
            On mac you can install it with 'brew install mpv'.
            On linux and windows you can install it from https://mpv.io/`});const l=(0,qL.default)("mpv",["--no-cache","--no-terminal","--","fd://0"]);try{for(e=YL(r);t=yield e.next(),!t.done;){const c=t.value;(i=l.stdin)===null||i===void 0||i.write(c)}}catch(c){n={error:c}}finally{try{t&&!t.done&&(s=e.return)&&(yield s.call(e))}finally{if(n)throw n.error}}(a=l.stdin)===null||a===void 0||a.end(),yield l})}hx.stream=eD;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.stream=r.play=r.ElevenLabsClient=void 0;var e=Em;Object.defineProperty(r,"ElevenLabsClient",{enumerable:!0,get:function(){return e.ElevenLabsClient}});var t=fx;Object.defineProperty(r,"play",{enumerable:!0,get:function(){return t.play}});var n=hx;Object.defineProperty(r,"stream",{enumerable:!0,get:function(){return n.stream}})})(z6);(function(r){var e=w&&w.__createBinding||(Object.create?function(l,c,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,d,f)}:function(l,c,u,d){d===void 0&&(d=u),l[d]=c[u]}),t=w&&w.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),n=w&&w.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&e(c,l,u);return t(c,l),c},s=w&&w.__exportStar||function(l,c){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&e(c,l,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.ElevenLabsTimeoutError=r.ElevenLabsError=r.ElevenLabsEnvironment=r.ElevenLabs=void 0,r.ElevenLabs=n(Vt),s(z6,r);var i=bt;Object.defineProperty(r,"ElevenLabsEnvironment",{enumerable:!0,get:function(){return i.ElevenLabsEnvironment}});var a=yt;Object.defineProperty(r,"ElevenLabsError",{enumerable:!0,get:function(){return a.ElevenLabsError}}),Object.defineProperty(r,"ElevenLabsTimeoutError",{enumerable:!0,get:function(){return a.ElevenLabsTimeoutError}})})(Jj);const tD=new Jj.ElevenLabsClient({apiKey:"sk_47d3cba3958a16d74f91785c8e6e816450b8afe258882bcc"}),yd=[{voice_id:"pNInz6obpgDQGcFmaJgB",name:"Adam",category:"english",description:"Deep, warm American English voice",languages:["en-US","en-CA"],accent:"American",gender:"male"},{voice_id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",category:"english",description:"Gentle, caring British English voice",languages:["en-GB","en-AU"],accent:"British",gender:"female"},{voice_id:"ErXwobaYiN019PkySvjV",name:"Antoni",category:"english",description:"Clear, professional American English",languages:["en-US"],accent:"American",gender:"male"},{voice_id:"MF3mGyEYCl7XYWbV9V6O",name:"Elli",category:"english",description:"Warm, friendly American English",languages:["en-US"],accent:"American",gender:"female"},{voice_id:"VR6AewLTigWG4xSOukaG",name:"Arnold",category:"spanish",description:"Confident Mexican Spanish voice",languages:["es-MX","es-US"],accent:"Mexican",gender:"male"},{voice_id:"pqHfZKP75CvOlQylNhV4",name:"Bill",category:"spanish",description:"Professional Argentinian Spanish",languages:["es-AR","es-ES"],accent:"Argentinian",gender:"male"},{voice_id:"g5CIjZEefAph4nQFvHAz",name:"Ethan",category:"french",description:"Elegant Parisian French voice",languages:["fr-FR"],accent:"Parisian",gender:"male"},{voice_id:"cgSgspJ2msm6clMCkdW9",name:"Sarah",category:"french",description:"Warm Canadian French voice",languages:["fr-CA"],accent:"Canadian",gender:"female"},{voice_id:"yoZ06aMxZJJ28mfd3POQ",name:"Sam",category:"german",description:"Clear, professional German voice",languages:["de-DE"],accent:"Standard German",gender:"male"},{voice_id:"AZnzlk1XvdvUeBnXmlld",name:"Domi",category:"italian",description:"Expressive Italian voice",languages:["it-IT"],accent:"Standard Italian",gender:"male"},{voice_id:"onwK4e9ZLuTAKqWW03F9",name:"Daniel",category:"portuguese",description:"Warm Brazilian Portuguese",languages:["pt-BR"],accent:"Brazilian",gender:"male"},{voice_id:"XrExE9yKIg1WjnnlVkGX",name:"Matilda",category:"chinese",description:"Clear Mandarin Chinese voice",languages:["zh-CN"],accent:"Beijing",gender:"female"},{voice_id:"bVMeCyTHy58xNoL34h3p",name:"Jeremy",category:"japanese",description:"Professional Japanese voice",languages:["ja-JP"],accent:"Tokyo",gender:"male"},{voice_id:"flq6f7yk4E4fJM5XTYuZ",name:"Michael",category:"hindi",description:"Clear Hindi voice with English accent",languages:["hi-IN","en-IN"],accent:"Indian",gender:"male"},{voice_id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",category:"arabic",description:"Professional Arabic voice",languages:["ar-SA","ar-EG"],accent:"Modern Standard",gender:"male"},{voice_id:"ThT5KcBeYPX3keUQqHPh",name:"Dorothy",category:"nigerian",description:"Nigerian English with local accent",languages:["en-NG","ig-NG","yo-NG"],accent:"Nigerian",gender:"female"},{voice_id:"CYw3kZ02Hs0563khs1Fj",name:"Marcus",category:"kenyan",description:"Kenyan English with Swahili influence",languages:["en-KE","sw-KE"],accent:"Kenyan",gender:"male"}],Ks=[{code:"en-US",name:"English (US)",flag:"🇺🇸",family:"Germanic",speakers:"380M"},{code:"en-GB",name:"English (UK)",flag:"🇬🇧",family:"Germanic",speakers:"67M"},{code:"en-AU",name:"English (Australia)",flag:"🇦🇺",family:"Germanic",speakers:"25M"},{code:"en-CA",name:"English (Canada)",flag:"🇨🇦",family:"Germanic",speakers:"30M"},{code:"en-IN",name:"English (India)",flag:"🇮🇳",family:"Germanic",speakers:"125M"},{code:"en-NG",name:"English (Nigeria)",flag:"🇳🇬",family:"Germanic",speakers:"79M"},{code:"en-KE",name:"English (Kenya)",flag:"🇰🇪",family:"Germanic",speakers:"2.7M"},{code:"en-ZA",name:"English (South Africa)",flag:"🇿🇦",family:"Germanic",speakers:"4.9M"},{code:"es-ES",name:"Español (España)",flag:"🇪🇸",family:"Romance",speakers:"47M"},{code:"es-MX",name:"Español (México)",flag:"🇲🇽",family:"Romance",speakers:"129M"},{code:"es-AR",name:"Español (Argentina)",flag:"🇦🇷",family:"Romance",speakers:"45M"},{code:"es-CO",name:"Español (Colombia)",flag:"🇨🇴",family:"Romance",speakers:"50M"},{code:"es-US",name:"Español (Estados Unidos)",flag:"🇺🇸",family:"Romance",speakers:"41M"},{code:"fr-FR",name:"Français (France)",flag:"🇫🇷",family:"Romance",speakers:"67M"},{code:"fr-CA",name:"Français (Canada)",flag:"🇨🇦",family:"Romance",speakers:"7M"},{code:"fr-BE",name:"Français (Belgique)",flag:"🇧🇪",family:"Romance",speakers:"4M"},{code:"fr-CH",name:"Français (Suisse)",flag:"🇨🇭",family:"Romance",speakers:"2M"},{code:"de-DE",name:"Deutsch (Deutschland)",flag:"🇩🇪",family:"Germanic",speakers:"83M"},{code:"de-AT",name:"Deutsch (Österreich)",flag:"🇦🇹",family:"Germanic",speakers:"9M"},{code:"de-CH",name:"Deutsch (Schweiz)",flag:"🇨🇭",family:"Germanic",speakers:"5M"},{code:"it-IT",name:"Italiano",flag:"🇮🇹",family:"Romance",speakers:"65M"},{code:"pt-BR",name:"Português (Brasil)",flag:"🇧🇷",family:"Romance",speakers:"215M"},{code:"pt-PT",name:"Português (Portugal)",flag:"🇵🇹",family:"Romance",speakers:"10M"},{code:"zh-CN",name:"中文 (简体)",flag:"🇨🇳",family:"Sino-Tibetan",speakers:"918M"},{code:"zh-TW",name:"中文 (繁體)",flag:"🇹🇼",family:"Sino-Tibetan",speakers:"23M"},{code:"zh-HK",name:"中文 (香港)",flag:"🇭🇰",family:"Sino-Tibetan",speakers:"7M"},{code:"ja-JP",name:"日本語",flag:"🇯🇵",family:"Japonic",speakers:"125M"},{code:"ko-KR",name:"한국어",flag:"🇰🇷",family:"Koreanic",speakers:"77M"},{code:"hi-IN",name:"हिन्दी",flag:"🇮🇳",family:"Indo-European",speakers:"602M"},{code:"bn-BD",name:"বাংলা (Bangladesh)",flag:"🇧🇩",family:"Indo-European",speakers:"265M"},{code:"ta-IN",name:"தமிழ்",flag:"🇮🇳",family:"Dravidian",speakers:"78M"},{code:"te-IN",name:"తెలుగు",flag:"🇮🇳",family:"Dravidian",speakers:"96M"},{code:"mr-IN",name:"मराठी",flag:"🇮🇳",family:"Indo-European",speakers:"83M"},{code:"gu-IN",name:"ગુજરાતી",flag:"🇮🇳",family:"Indo-European",speakers:"56M"},{code:"pa-IN",name:"ਪੰਜਾਬੀ",flag:"🇮🇳",family:"Indo-European",speakers:"113M"},{code:"ar-SA",name:"العربية (السعودية)",flag:"🇸🇦",family:"Semitic",speakers:"34M"},{code:"ar-EG",name:"العربية (مصر)",flag:"🇪🇬",family:"Semitic",speakers:"104M"},{code:"ar-AE",name:"العربية (الإمارات)",flag:"🇦🇪",family:"Semitic",speakers:"9M"},{code:"sw-KE",name:"Kiswahili",flag:"🇰🇪",family:"Niger-Congo",speakers:"16M"},{code:"am-ET",name:"አማርኛ",flag:"🇪🇹",family:"Semitic",speakers:"57M"},{code:"yo-NG",name:"Yorùbá",flag:"🇳🇬",family:"Niger-Congo",speakers:"46M"},{code:"ig-NG",name:"Igbo",flag:"🇳🇬",family:"Niger-Congo",speakers:"27M"},{code:"ha-NG",name:"Hausa",flag:"🇳🇬",family:"Afro-Asiatic",speakers:"70M"},{code:"zu-ZA",name:"isiZulu",flag:"🇿🇦",family:"Niger-Congo",speakers:"12M"},{code:"xh-ZA",name:"isiXhosa",flag:"🇿🇦",family:"Niger-Congo",speakers:"8M"},{code:"af-ZA",name:"Afrikaans",flag:"🇿🇦",family:"Germanic",speakers:"7M"},{code:"th-TH",name:"ไทย",flag:"🇹🇭",family:"Kra-Dai",speakers:"69M"},{code:"vi-VN",name:"Tiếng Việt",flag:"🇻🇳",family:"Austroasiatic",speakers:"95M"},{code:"id-ID",name:"Bahasa Indonesia",flag:"🇮🇩",family:"Austronesian",speakers:"199M"},{code:"ms-MY",name:"Bahasa Melayu",flag:"🇲🇾",family:"Austronesian",speakers:"19M"},{code:"tl-PH",name:"Filipino",flag:"🇵🇭",family:"Austronesian",speakers:"45M"},{code:"ru-RU",name:"Русский",flag:"🇷🇺",family:"Indo-European",speakers:"258M"},{code:"pl-PL",name:"Polski",flag:"🇵🇱",family:"Indo-European",speakers:"45M"},{code:"uk-UA",name:"Українська",flag:"🇺🇦",family:"Indo-European",speakers:"40M"},{code:"cs-CZ",name:"Čeština",flag:"🇨🇿",family:"Indo-European",speakers:"10M"},{code:"sv-SE",name:"Svenska",flag:"🇸🇪",family:"Germanic",speakers:"10M"},{code:"no-NO",name:"Norsk",flag:"🇳🇴",family:"Germanic",speakers:"5M"},{code:"da-DK",name:"Dansk",flag:"🇩🇰",family:"Germanic",speakers:"6M"},{code:"fi-FI",name:"Suomi",flag:"🇫🇮",family:"Uralic",speakers:"5M"},{code:"tr-TR",name:"Türkçe",flag:"🇹🇷",family:"Turkic",speakers:"88M"},{code:"he-IL",name:"עברית",flag:"🇮🇱",family:"Semitic",speakers:"9M"},{code:"fa-IR",name:"فارسی",flag:"🇮🇷",family:"Indo-European",speakers:"70M"},{code:"ur-PK",name:"اردو",flag:"🇵🇰",family:"Indo-European",speakers:"70M"}],ty={"en-NG":{commonPhrases:["How far?","No wahala","I dey fine","Wetin dey happen?"],numberFormats:["naira","kobo","million naira","billion naira"],bankTerms:["GTBank","First Bank","Access Bank","Zenith Bank","UBA"]},"en-KE":{commonPhrases:["Mambo vipi?","Poa","Sawa sawa","Hakuna matata"],numberFormats:["shilling","bob","million shillings"],bankTerms:["KCB","Equity Bank","Cooperative Bank","Standard Chartered"]},"en-IN":{commonPhrases:["Namaste","Acha","Theek hai","Kya haal hai?"],numberFormats:["rupee","paisa","lakh","crore"],bankTerms:["SBI","HDFC","ICICI","Axis Bank","PNB"]},"es-MX":{commonPhrases:["¿Qué tal?","Está bien","No hay problema","¿Cómo estás?"],numberFormats:["peso","centavo","millón de pesos"],bankTerms:["BBVA","Santander","Banorte","Citibanamex"]},"fr-CA":{commonPhrases:["Salut","Ça va?","Pas de problème","Comment allez-vous?"],numberFormats:["dollar canadien","cent","million de dollars"],bankTerms:["RBC","TD","Banque Nationale","Desjardins"]},"zh-CN":{commonPhrases:["你好","没问题","怎么样?","很好"],numberFormats:["元","角","分","万元","亿元"],bankTerms:["中国银行","工商银行","建设银行","农业银行"]}};class rD{constructor(){this.apiKey="sk_47d3cba3958a16d74f91785c8e6e816450b8afe258882bcc"}async generateSpeech(e,t="pNInz6obpgDQGcFmaJgB",n={}){try{const s=yd.find(l=>l.voice_id===t),i=(s==null?void 0:s.languages.length)>1;return await tD.generate({voice:t,text:e,model_id:i?"eleven_multilingual_v2":"eleven_monolingual_v1",voice_settings:{stability:n.stability||(i?.6:.5),similarity_boost:n.similarity_boost||.8,style:n.style||0,use_speaker_boost:n.use_speaker_boost||!0}})}catch(s){throw console.error("Error generating speech:",s),new Error("Failed to generate speech")}}createAudioUrl(e){const t=new Blob([e],{type:"audio/mpeg"});return URL.createObjectURL(t)}getVoicesByLanguage(e){return yd.filter(t=>t.languages.some(n=>n.startsWith(e.split("-")[0])||n===e))}getRecommendedVoice(e,t){const n=this.getVoicesByLanguage(e);if(t){const s=n.filter(i=>i.gender===t);if(s.length>0)return s[0]}return n[0]||null}startVoiceRecognition(e,t,n="en-US",s){if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return t("Speech recognition not supported in this browser"),null;const i=window.SpeechRecognition||window.webkitSpeechRecognition,a=new i;return a.continuous=!1,a.interimResults=!0,a.lang=n,a.maxAlternatives=3,n.startsWith("en-")&&(a.grammars=this.createGrammarForLanguage(n)),a.onresult=l=>{let c="";for(let u=l.resultIndex;u<l.results.length;u++){const d=l.results[u][0].transcript;l.results[u].isFinal&&(c+=d)}if(c){const u=this.processCulturalContext(c,n,s);e(u)}},a.onerror=l=>{t(`Speech recognition error: ${l.error}`)},a.start(),a}createGrammarForLanguage(e){if(!("webkitSpeechGrammarList"in window)&&!("SpeechGrammarList"in window))return;const t=window.SpeechGrammarList||window.webkitSpeechGrammarList,n=new t,s=ty[e];if(s){const i=`#JSGF V1.0; grammar financial; public <financial> = ${s.bankTerms.join(" | ")} | ${s.numberFormats.join(" | ")};`;n.addFromString(i,1)}return n}processCulturalContext(e,t,n){let s=e.trim();const i=ty[t];return i&&(i.commonPhrases.forEach(a=>{const l=new RegExp(a,"gi");l.test(s)&&(s=s.replace(l,a))}),i.numberFormats.forEach(a=>{const l=new RegExp(`\\b\\d+\\s*${a}`,"gi");s=s.replace(l,c=>c.toLowerCase().replace(/\s+/g," "))})),n==="asset_name"?s=this.processAssetName(s,t):n==="financial_value"?s=this.processFinancialValue(s,t):n==="location"&&(s=this.processLocation(s,t)),s}processAssetName(e,t){let n=e.replace(/\b\w/g,s=>s.toUpperCase());return t.startsWith("en-NG")?(n=n.replace(/\bgtb\b/gi,"GTBank"),n=n.replace(/\bfirst bank\b/gi,"First Bank"),n=n.replace(/\baccess\b/gi,"Access Bank")):t.startsWith("en-KE")?(n=n.replace(/\bkcb\b/gi,"KCB Bank"),n=n.replace(/\bequity\b/gi,"Equity Bank")):t.startsWith("en-IN")&&(n=n.replace(/\bsbi\b/gi,"State Bank of India"),n=n.replace(/\bhdfc\b/gi,"HDFC Bank")),n}processFinancialValue(e,t){let n=e;return t.startsWith("en-NG")?(n=n.replace(/\b(\d+)\s*(naira|NGN)\b/gi,"₦$1"),n=n.replace(/\b(\d+)\s*million\s*naira\b/gi,"₦$1,000,000"),n=n.replace(/\b(\d+)\s*billion\s*naira\b/gi,"₦$1,000,000,000")):t.startsWith("en-KE")?(n=n.replace(/\b(\d+)\s*(shilling|KES|bob)\b/gi,"KSh $1"),n=n.replace(/\b(\d+)\s*million\s*shilling/gi,"KSh $1,000,000")):t.startsWith("en-IN")?(n=n.replace(/\b(\d+)\s*(rupee|INR)\b/gi,"₹$1"),n=n.replace(/\b(\d+)\s*lakh\b/gi,"₹$1,00,000"),n=n.replace(/\b(\d+)\s*crore\b/gi,"₹$1,00,00,000")):t.startsWith("es-")?(n=n.replace(/\b(\d+)\s*(peso|MXN)\b/gi,"$$$1"),n=n.replace(/\b(\d+)\s*millón\s*peso/gi,"$$$1,000,000")):t.startsWith("zh-")&&(n=n.replace(/\b(\d+)\s*(元|CNY)\b/gi,"¥$1"),n=n.replace(/\b(\d+)\s*万\s*元/gi,"¥$1,0000")),n}processLocation(e,t){let n=e.replace(/\b\w/g,s=>s.toUpperCase());return t.startsWith("en-NG")?(n=n.replace(/\blagos\b/gi,"Lagos"),n=n.replace(/\babuja\b/gi,"Abuja"),n=n.replace(/\bvictoria island\b/gi,"Victoria Island")):t.startsWith("en-KE")&&(n=n.replace(/\bnairobi\b/gi,"Nairobi"),n=n.replace(/\bmombasa\b/gi,"Mombasa")),n}async translateText(e,t){var i;return((i={en:{es:`[ES] ${e}`,fr:`[FR] ${e}`,de:`[DE] ${e}`,zh:`[ZH] ${e}`,hi:`[HI] ${e}`,ar:`[AR] ${e}`}}["en"])==null?void 0:i[t])||e}async generateMultilingualMessage(e,t,n={}){const s=[];for(const i of t)try{const a=n[i],l=a?yd.find(f=>f.voice_id===a):this.getRecommendedVoice(i);if(!l){console.warn(`No voice available for language: ${i}`);continue}const c=i.startsWith("en")?e:await this.translateText(e,i.split("-")[0]),u=await this.generateSpeech(c,l.voice_id,{language:i}),d=this.createAudioUrl(u);s.push({language:i,audioUrl:d,voiceUsed:l.name})}catch(a){console.error(`Error generating message for ${i}:`,a)}return s}getLanguageFamily(e){const t=Ks.find(n=>n.code===e);return(t==null?void 0:t.family)||"Unknown"}getCulturalContext(e){return ty[e]||null}}const cn=new rD,nD=({onFieldUpdate:r,currentValues:e})=>{const[t,n]=M.useState(!1),[s,i]=M.useState(null),[a,l]=M.useState("en-US"),[c,u]=M.useState(!1),[d,f]=M.useState(!1),[h,p]=M.useState(Ks),[g,x]=M.useState(""),[_,b]=M.useState([]),[y,m]=M.useState(""),[E,S]=M.useState(!1),[N,k]=M.useState(null),R=M.useRef(null),U=M.useRef(null),B=M.useRef(null),J={name:"Asset Name",location:"Platform/Institution",value:"Estimated Value",instructions:"Additional Notes",accountInfo:"Account Information",accessInstructions:"Access Instructions"};M.useEffect(()=>{const P=cn.getVoicesByLanguage(a);b(P),P.length>0&&m(P[0].voice_id);const F=cn.getCulturalContext(a);k(F)},[a]),M.useEffect(()=>{function P(F){U.current&&!U.current.contains(F.target)&&f(!1),B.current&&!B.current.contains(F.target)&&S(!1)}return document.addEventListener("mousedown",P),()=>{document.addEventListener("mousedown",P)}},[]),M.useEffect(()=>{if(g){const P=Ks.filter(F=>F.name.toLowerCase().includes(g.toLowerCase())||F.code.toLowerCase().includes(g.toLowerCase())||F.family.toLowerCase().includes(g.toLowerCase()));p(P)}else p(Ks)},[g]);const Q=P=>{i(P),u(!0);const F=cn.startVoiceRecognition(T=>{const W=oe(T,P);r(P,W),n(!1),i(null),u(!1)},T=>{console.error("Voice recognition error:",T),n(!1),i(null),u(!1)},a,P);F&&(R.current=F,n(!0)),u(!1)},Y=()=>{R.current&&(R.current.stop(),n(!1),i(null))},oe=(P,F)=>{let T=P.trim();switch(F){case"name":N?T=cn.processAssetName(T,a):T=T.replace(/\b\w/g,W=>W.toUpperCase());break;case"value":N?T=cn.processFinancialValue(T,a):(T=T.replace(/\b(\d+)\s*(thousand|k)\b/gi,"$1,000"),T=T.replace(/\b(\d+)\s*(million|m)\b/gi,"$1,000,000"),T=T.replace(/\bdollar(s)?\b/gi,"$"));break;case"location":N?T=cn.processLocation(T,a):T=T.replace(/\b(bank|credit union|investment|brokerage)\b/gi,W=>W.charAt(0).toUpperCase()+W.slice(1).toLowerCase());break;default:T=T.charAt(0).toUpperCase()+T.slice(1),!T.endsWith(".")&&!T.endsWith("!")&&!T.endsWith("?")&&(T+=".");break}return T},A=P=>{var T;if(N&&N.commonPhrases){const W=a.split("-")[0],G={en:{name:"What would you like to call this asset? For example, 'Primary Checking Account' or 'Family Home'",location:"Where is this asset located? For example, 'Chase Bank' or 'Safety Deposit Box 123'",value:"What's the estimated value? You can say 'fifty thousand dollars' or 'priceless'",instructions:"Any additional notes or instructions for your beneficiaries?",accountInfo:"Please provide account numbers, reference information, or identifying details",accessInstructions:"How should your beneficiaries access this asset? Include login steps or contact information"},es:{name:"¿Cómo quieres llamar a este activo? Por ejemplo, 'Cuenta Corriente Principal' o 'Casa Familiar'",location:"¿Dónde está ubicado este activo? Por ejemplo, 'Banco Santander' o 'Caja de Seguridad 123'",value:"¿Cuál es el valor estimado? Puedes decir 'cincuenta mil pesos' o 'invaluable'",instructions:"¿Alguna nota o instrucción adicional para tus beneficiarios?",accountInfo:"Por favor proporciona números de cuenta, información de referencia o detalles de identificación",accessInstructions:"¿Cómo deberían tus beneficiarios acceder a este activo? Incluye pasos de inicio de sesión o información de contacto"},fr:{name:"Comment voulez-vous appeler cet actif? Par exemple, 'Compte Courant Principal' ou 'Maison Familiale'",location:"Où se trouve cet actif? Par exemple, 'Banque BNP Paribas' ou 'Coffre-fort 123'",value:"Quelle est la valeur estimée? Vous pouvez dire 'cinquante mille euros' ou 'inestimable'",instructions:"Des notes ou instructions supplémentaires pour vos bénéficiaires?",accountInfo:"Veuillez fournir les numéros de compte, les informations de référence ou les détails d'identification",accessInstructions:"Comment vos bénéficiaires devraient-ils accéder à cet actif? Incluez les étapes de connexion ou les coordonnées"},de:{name:"Wie möchten Sie diesen Vermögenswert nennen? Zum Beispiel 'Hauptgirokonto' oder 'Familienhaus'",location:"Wo befindet sich dieser Vermögenswert? Zum Beispiel 'Deutsche Bank' oder 'Schließfach 123'",value:"Was ist der geschätzte Wert? Sie können 'fünfzigtausend Euro' oder 'unbezahlbar' sagen",instructions:"Zusätzliche Hinweise oder Anweisungen für Ihre Begünstigten?",accountInfo:"Bitte geben Sie Kontonummern, Referenzinformationen oder Identifikationsdetails an",accessInstructions:"Wie sollten Ihre Begünstigten auf diesen Vermögenswert zugreifen? Fügen Sie Anmeldeschritte oder Kontaktinformationen hinzu"},zh:{name:"您想如何称呼这项资产？例如，'主要支票账户'或'家庭住宅'",location:"这项资产位于哪里？例如，'中国银行'或'保险箱123'",value:"估计价值是多少？您可以说'五万元'或'无价'",instructions:"对受益人有什么额外的说明或指示吗？",accountInfo:"请提供账号、参考信息或识别详情",accessInstructions:"您的受益人应如何访问此资产？包括登录步骤或联系信息"},hi:{name:"आप इस संपत्ति को क्या नाम देना चाहेंगे? उदाहरण के लिए, 'प्राथमिक चेकिंग खाता' या 'पारिवारिक घर'",location:"यह संपत्ति कहां स्थित है? उदाहरण के लिए, 'स्टेट बैंक ऑफ इंडिया' या 'लॉकर 123'",value:"अनुमानित मूल्य क्या है? आप कह सकते हैं 'पचास हजार रुपये' या 'अमूल्य'",instructions:"आपके लाभार्थियों के लिए कोई अतिरिक्त नोट्स या निर्देश?",accountInfo:"कृपया खाता संख्या, संदर्भ जानकारी या पहचान विवरण प्रदान करें",accessInstructions:"आपके लाभार्थियों को इस संपत्ति तक कैसे पहुंचना चाहिए? लॉगिन चरण या संपर्क जानकारी शामिल करें"},ar:{name:"ماذا تريد أن تسمي هذا الأصل؟ على سبيل المثال، 'حساب جاري رئيسي' أو 'منزل العائلة'",location:"أين يقع هذا الأصل؟ على سبيل المثال، 'البنك الأهلي' أو 'خزنة الأمانات 123'",value:"ما هي القيمة التقديرية؟ يمكنك أن تقول 'خمسين ألف ريال' أو 'لا تقدر بثمن'",instructions:"أي ملاحظات أو تعليمات إضافية للمستفيدين؟",accountInfo:"يرجى تقديم أرقام الحسابات أو معلومات مرجعية أو تفاصيل التعريف",accessInstructions:"كيف ينبغي للمستفيدين الوصول إلى هذا الأصل؟ قم بتضمين خطوات تسجيل الدخول أو معلومات الاتصال"}};return((T=G[W])==null?void 0:T[P])||G.en[P]}return{name:"What would you like to call this asset? For example, 'Primary Checking Account' or 'Family Home'",location:"Where is this asset located? For example, 'Chase Bank' or 'Safety Deposit Box 123'",value:"What's the estimated value? You can say 'fifty thousand dollars' or 'priceless'",instructions:"Any additional notes or instructions for your beneficiaries?",accountInfo:"Please provide account numbers, reference information, or identifying details",accessInstructions:"How should your beneficiaries access this asset? Include login steps or contact information"}[P]||"Please speak your input"},O=P=>{const F=Ks.find(T=>T.code===P);return F?`${F.flag} ${F.name}`:P},Z=({fieldName:P})=>o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>t&&s===P?Y():Q(P),disabled:t&&s!==P,className:`p-2 rounded-lg transition-all duration-200 ${t&&s===P?"bg-red-100 text-red-600 animate-pulse":c&&s===P?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"} ${t&&s!==P?"opacity-50 cursor-not-allowed":""}`,title:A(P),children:c&&s===P?o.jsx(Eb,{className:"w-4 h-4 animate-spin"}):t&&s===P?o.jsx(vj,{className:"w-4 h-4"}):o.jsx(Lc,{className:"w-4 h-4"})}),t&&s===P&&o.jsxs("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-3 py-1 rounded-lg text-xs whitespace-nowrap",children:["Listening in ",O(a).split(" ")[0],"..."]})]});return o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center space-x-2",children:[o.jsx(W0,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"Multilingual Voice-Powered Asset Entry"})]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Speak in your preferred language to add asset information"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",ref:U,children:[o.jsxs("button",{onClick:()=>{f(!d),S(!1)},className:"flex items-center space-x-2 px-3 py-2 border border-slate-300 rounded-lg text-sm hover:bg-slate-50 transition-colors",disabled:t,children:[o.jsx($p,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:O(a)})]}),d&&o.jsxs("div",{className:"absolute right-0 mt-1 w-72 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[o.jsx("div",{className:"p-2",children:o.jsx("input",{type:"text",placeholder:"Search languages...",value:g,onChange:P=>x(P.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{className:"max-h-64 overflow-y-auto p-1",children:h.map(P=>o.jsxs("button",{onClick:()=>{l(P.code),f(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center space-x-2 hover:bg-slate-100 ${a===P.code?"bg-blue-50 text-blue-700":""}`,children:[o.jsx("span",{className:"text-lg",children:P.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{children:P.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:[P.family," • ",P.speakers," speakers"]})]}),a===P.code&&o.jsx(Qs,{className:"w-4 h-4 text-blue-600"})]},P.code))})]})]}),o.jsxs("div",{className:"relative",ref:B,children:[o.jsxs("button",{onClick:()=>{S(!E),f(!1)},className:"flex items-center space-x-2 px-3 py-2 border border-slate-300 rounded-lg text-sm hover:bg-slate-50 transition-colors",disabled:t,children:[o.jsx(W0,{className:"w-4 h-4 text-purple-600"}),o.jsx("span",{children:"Voice"})]}),E&&o.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:o.jsx("div",{className:"max-h-64 overflow-y-auto p-1",children:_.length>0?_.map(P=>o.jsxs("button",{onClick:()=>{m(P.voice_id),S(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center space-x-2 hover:bg-slate-100 ${y===P.voice_id?"bg-purple-50 text-purple-700":""}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{children:P.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:[P.gender," • ",P.accent||P.category]})]}),y===P.voice_id&&o.jsx(Qs,{className:"w-4 h-4 text-purple-600"})]},P.voice_id)):o.jsx("div",{className:"p-3 text-sm text-slate-500 text-center",children:"No voices available for this language"})})})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(J).map(([P,F])=>o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:F}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:e[P],onChange:T=>r(P,T.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:`Enter ${F.toLowerCase()} or use voice input`}),o.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:o.jsx(Z,{fieldName:P})})]})]})},P))}),t&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),o.jsxs("span",{className:"text-sm text-red-700 font-medium",children:['Recording for "',J[s],'" in ',O(a)]})]}),o.jsx("p",{className:"text-xs text-red-600 mt-1",children:A(s)})]}),N&&o.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsxs("h4",{className:"text-sm font-medium text-purple-900 mb-2",children:[a.split("-")[1]," Cultural Context Enabled"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-purple-800",children:[N.bankTerms&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Common Banks:"})," ",N.bankTerms.join(", ")]}),N.numberFormats&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Currency Format:"})," ",N.numberFormats.join(", ")]})]})]}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Multilingual Voice Input Tips:"}),o.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[o.jsx("li",{children:"• Speak clearly in your selected language"}),o.jsx("li",{children:"• Use natural expressions and currency formats for your region"}),o.jsx("li",{children:'• For values, use your local currency format (e.g., "fifty thousand naira", "5 lakh rupees")'}),o.jsx("li",{children:"• Click the microphone again to stop recording"}),o.jsx("li",{children:"• Switch languages anytime using the language selector"})]})]})]})},sD=({onSave:r,onClose:e,initialText:t="",title:n="Record Voice Message"})=>{const[s,i]=M.useState(!1),[a,l]=M.useState(t),[c,u]=M.useState(yd[0].voice_id),[d,f]=M.useState("en-US"),[h,p]=M.useState(!1),[g,x]=M.useState(null),[_,b]=M.useState(!1),[y,m]=M.useState(!1),[E,S]=M.useState(["en-US"]),[N,k]=M.useState([]),[R,U]=M.useState(null),[B,J]=M.useState(!1),[Q,Y]=M.useState(Ks),[oe,A]=M.useState(""),[O,Z]=M.useState([]),[P,F]=M.useState(!1),[T,W]=M.useState(!1),G=M.useRef(null),pe=M.useRef(null),X=M.useRef(null),he=M.useRef(null);M.useEffect(()=>{const te=cn.getVoicesByLanguage(d);Z(te),te.length>0&&u(te[0].voice_id)},[d]),M.useEffect(()=>{if(oe){const te=Ks.filter(Pe=>Pe.name.toLowerCase().includes(oe.toLowerCase())||Pe.code.toLowerCase().includes(oe.toLowerCase())||Pe.family.toLowerCase().includes(oe.toLowerCase()));Y(te)}else Y(Ks)},[oe]),M.useEffect(()=>{function te(Pe){X.current&&!X.current.contains(Pe.target)&&J(!1),he.current&&!he.current.contains(Pe.target)&&F(!1)}return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]);const le=()=>{W(!0);const te=cn.startVoiceRecognition(Pe=>{l(Vr=>Vr+" "+Pe),i(!1),W(!1)},Pe=>{console.error("Voice recognition error:",Pe),i(!1),W(!1)},d);te&&(pe.current=te,i(!0)),W(!1)},$e=()=>{pe.current&&(pe.current.stop(),i(!1))},bs=async()=>{if(a.trim()){p(!0);try{if(y&&E.length>0){const te={};E.forEach(Vr=>{const H1=cn.getRecommendedVoice(Vr);H1&&(te[Vr]=H1.voice_id)});const Pe=await cn.generateMultilingualMessage(a,E,te);k(Pe),Pe.length>0&&(x(Pe[0].audioUrl),f(E[0]))}else{const te=await cn.generateSpeech(a,c,{stability:.5,similarity_boost:.8,use_speaker_boost:!0,language:d}),Pe=cn.createAudioUrl(te);x(Pe),k([])}}catch(te){console.error("Error generating audio:",te),alert("Failed to generate audio. Please check your ElevenLabs API key.")}finally{p(!1)}}},zr=te=>{if(G.current)if(te&&y){const Pe=N.find(Vr=>Vr.language===te);Pe&&(G.current.src=Pe.audioUrl,G.current.play(),b(!0),U(te))}else g&&(_?(G.current.pause(),b(!1),U(null)):(G.current.src=g,G.current.play(),b(!0),U(d)))},z=()=>{b(!1),U(null)},q=()=>{l(""),x(null),b(!1),k([]),U(null)},ce=()=>{a.trim()&&g&&r({text:a,audioUrl:g,voiceId:c,language:d})},fe=te=>{E.includes(te)?E.length>1&&S(Pe=>Pe.filter(Vr=>Vr!==te)):S(Pe=>[...Pe,te])},Xe=te=>{const Pe=Ks.find(Vr=>Vr.code===te);return Pe?`${Pe.flag} ${Pe.name}`:te},fi=te=>{const Pe=yd.find(Vr=>Vr.voice_id===te);return Pe?`${Pe.name} (${Pe.gender})`:te};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900",children:n}),o.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Create a multilingual voice message for your beneficiaries"})]}),o.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:o.jsx(_o,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900",children:"Choose Voice"}),o.jsxs("div",{className:"relative",ref:he,children:[o.jsxs("button",{onClick:()=>{F(!P),J(!1)},className:"flex items-center space-x-2 px-3 py-1 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors text-sm",disabled:s,children:[o.jsx(W0,{className:"w-4 h-4"}),o.jsx("span",{children:fi(c)})]}),P&&o.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:o.jsx("div",{className:"max-h-64 overflow-y-auto p-1",children:O.length>0?O.map(te=>o.jsxs("button",{onClick:()=>{u(te.voice_id),F(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center space-x-2 hover:bg-slate-100 ${c===te.voice_id?"bg-slate-100 text-slate-900":""}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{children:te.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:[te.gender," • ",te.accent||te.category]})]}),c===te.voice_id&&o.jsx(Qs,{className:"w-4 h-4 text-blue-600"})]},te.voice_id)):o.jsx("div",{className:"p-3 text-sm text-slate-500 text-center",children:"No voices available for this language"})})})]})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900",children:"Language Options"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>m(!y),className:`flex items-center space-x-2 px-3 py-1 rounded-lg text-sm transition-colors ${y?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[o.jsx(n_,{className:"w-4 h-4"}),o.jsx("span",{children:"Multilingual"})]}),o.jsxs("div",{className:"relative",ref:X,children:[o.jsxs("button",{onClick:()=>{J(!B),F(!1)},className:"flex items-center space-x-2 px-3 py-1 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors text-sm",disabled:s,children:[o.jsx($p,{className:"w-4 h-4"}),o.jsx("span",{children:Xe(d)})]}),B&&o.jsxs("div",{className:"absolute right-0 mt-1 w-72 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[o.jsx("div",{className:"p-2",children:o.jsx("input",{type:"text",placeholder:"Search languages...",value:oe,onChange:te=>A(te.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{className:"max-h-64 overflow-y-auto p-1",children:Q.map(te=>o.jsxs("button",{onClick:()=>{y?fe(te.code):(f(te.code),J(!1))},className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center space-x-2 hover:bg-slate-100 ${y?E.includes(te.code)?"bg-blue-50 text-blue-700":"":d===te.code?"bg-blue-50 text-blue-700":""}`,children:[o.jsx("span",{className:"text-lg",children:te.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{children:te.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:[te.family," • ",te.speakers," speakers"]})]}),(y?E.includes(te.code):d===te.code)&&o.jsx(Qs,{className:"w-4 h-4 text-blue-600"})]},te.code))})]})]})]})]}),y&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(n_,{className:"w-4 h-4 text-blue-600"}),o.jsx("h4",{className:"font-medium text-blue-900",children:"Multilingual Mode"})]}),o.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Your message will be translated and generated in these languages:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(te=>o.jsxs("div",{className:"flex items-center space-x-1 bg-white px-2 py-1 rounded-lg border border-blue-200 text-sm",children:[o.jsx("span",{children:Xe(te)}),o.jsx("button",{onClick:()=>fe(te),className:"text-red-500 hover:text-red-700",disabled:E.length<=1,children:"×"})]},te))})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900",children:"Message Text"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:s?$e:le,className:`flex items-center space-x-2 px-3 py-1 rounded-lg text-sm transition-colors ${s?"bg-red-100 text-red-700":T?"bg-blue-100 text-blue-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[T?o.jsx(Eb,{className:"w-4 h-4 animate-spin"}):s?o.jsx(vj,{className:"w-4 h-4"}):o.jsx(Lc,{className:"w-4 h-4"}),o.jsx("span",{children:T?"Processing...":s?"Stop":"Voice Input"})]}),o.jsx("button",{onClick:q,className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(_o,{className:"w-4 h-4"})})]})]}),o.jsx("textarea",{value:a,onChange:te=>l(te.target.value),rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:`Type your message in ${Xe(d).split(" ")[1]} or use voice input...`})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:bs,disabled:!a.trim()||h,className:"flex items-center space-x-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 disabled:bg-slate-400 transition-colors",children:h?o.jsxs(o.Fragment,{children:[o.jsx(Eb,{className:"w-5 h-5 animate-spin"}),o.jsxs("span",{children:["Generating",y?" Multilingual":""," Audio..."]})]}):o.jsxs(o.Fragment,{children:[o.jsx(W0,{className:"w-5 h-5"}),o.jsxs("span",{children:["Generate ",y?"Multilingual ":"","Audio"]})]})}),g&&!y&&o.jsxs("button",{onClick:()=>zr(),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[_?o.jsx(Sb,{className:"w-4 h-4"}):o.jsx(Nb,{className:"w-4 h-4"}),o.jsx("span",{children:_?"Pause":"Play"})]})]}),N.length>0&&o.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Multilingual Audio"}),o.jsx("div",{className:"space-y-2",children:N.map((te,Pe)=>o.jsx("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-slate-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>zr(te.language),className:`p-2 rounded-full ${R===te.language&&_?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:R===te.language&&_?o.jsx(Sb,{className:"w-4 h-4"}):o.jsx(Nb,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900",children:Xe(te.language)}),o.jsxs("div",{className:"text-xs text-slate-500",children:["Voice: ",te.voiceUsed]})]})]})},Pe))})]}),o.jsx("audio",{ref:G,onEnded:z,className:"hidden"}),o.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-slate-200",children:[o.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:ce,disabled:!a.trim()||!g,className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 disabled:bg-slate-400 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(_j,{className:"w-4 h-4"}),o.jsxs("span",{children:["Save ",y?"Multilingual ":"","Voice Message"]})]})]})]})]})})};function SA(r,e){return function(){return r.apply(e,arguments)}}const{toString:iD}=Object.prototype,{getPrototypeOf:u1}=Object,{iterator:px,toStringTag:NA}=Symbol,mx=(r=>e=>{const t=iD.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Bn=r=>(r=r.toLowerCase(),e=>mx(e)===r),xx=r=>e=>typeof e===r,{isArray:ou}=Array,Vd=xx("undefined");function aD(r){return r!==null&&!Vd(r)&&r.constructor!==null&&!Vd(r.constructor)&&Er(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const EA=Bn("ArrayBuffer");function oD(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&EA(r.buffer),e}const lD=xx("string"),Er=xx("function"),jA=xx("number"),gx=r=>r!==null&&typeof r=="object",cD=r=>r===!0||r===!1,t0=r=>{if(mx(r)!=="object")return!1;const e=u1(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NA in r)&&!(px in r)},uD=Bn("Date"),dD=Bn("File"),fD=Bn("Blob"),hD=Bn("FileList"),pD=r=>gx(r)&&Er(r.pipe),mD=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Er(r.append)&&((e=mx(r))==="formdata"||e==="object"&&Er(r.toString)&&r.toString()==="[object FormData]"))},xD=Bn("URLSearchParams"),[gD,yD,bD,vD]=["ReadableStream","Request","Response","Headers"].map(Bn),wD=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tf(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),ou(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),a=i.length;let l;for(n=0;n<a;n++)l=i[n],e.call(null,r[l],l,r)}}function AA(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const Fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CA=r=>!Vd(r)&&r!==Fa;function Vb(){const{caseless:r}=CA(this)&&this||{},e={},t=(n,s)=>{const i=r&&AA(e,s)||s;t0(e[i])&&t0(n)?e[i]=Vb(e[i],n):t0(n)?e[i]=Vb({},n):ou(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Tf(arguments[n],t);return e}const _D=(r,e,t,{allOwnKeys:n}={})=>(Tf(e,(s,i)=>{t&&Er(s)?r[i]=SA(s,t):r[i]=s},{allOwnKeys:n}),r),SD=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ND=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},ED=(r,e,t,n)=>{let s,i,a;const l={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)a=s[i],(!n||n(a,r,e))&&!l[a]&&(e[a]=r[a],l[a]=!0);r=t!==!1&&u1(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},jD=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},AD=r=>{if(!r)return null;if(ou(r))return r;let e=r.length;if(!jA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},CD=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&u1(Uint8Array)),kD=(r,e)=>{const n=(r&&r[px]).call(r);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},PD=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},TD=Bn("HTMLFormElement"),RD=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),bS=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),ID=Bn("RegExp"),kA=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Tf(t,(s,i)=>{let a;(a=e(s,i,r))!==!1&&(n[i]=a||s)}),Object.defineProperties(r,n)},OD=r=>{kA(r,(e,t)=>{if(Er(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Er(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},MD=(r,e)=>{const t={},n=s=>{s.forEach(i=>{t[i]=!0})};return ou(r)?n(r):n(String(r).split(e)),t},LD=()=>{},DD=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function FD(r){return!!(r&&Er(r.append)&&r[NA]==="FormData"&&r[px])}const UD=r=>{const e=new Array(10),t=(n,s)=>{if(gx(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=ou(n)?[]:{};return Tf(n,(a,l)=>{const c=t(a,s+1);!Vd(c)&&(i[l]=c)}),e[s]=void 0,i}}return n};return t(r,0)},BD=Bn("AsyncFunction"),$D=r=>r&&(gx(r)||Er(r))&&Er(r.then)&&Er(r.catch),PA=((r,e)=>r?setImmediate:e?((t,n)=>(Fa.addEventListener("message",({source:s,data:i})=>{s===Fa&&i===t&&n.length&&n.shift()()},!1),s=>{n.push(s),Fa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Er(Fa.postMessage)),zD=typeof queueMicrotask<"u"?queueMicrotask.bind(Fa):typeof process<"u"&&process.nextTick||PA,VD=r=>r!=null&&Er(r[px]),D={isArray:ou,isArrayBuffer:EA,isBuffer:aD,isFormData:mD,isArrayBufferView:oD,isString:lD,isNumber:jA,isBoolean:cD,isObject:gx,isPlainObject:t0,isReadableStream:gD,isRequest:yD,isResponse:bD,isHeaders:vD,isUndefined:Vd,isDate:uD,isFile:dD,isBlob:fD,isRegExp:ID,isFunction:Er,isStream:pD,isURLSearchParams:xD,isTypedArray:CD,isFileList:hD,forEach:Tf,merge:Vb,extend:_D,trim:wD,stripBOM:SD,inherits:ND,toFlatObject:ED,kindOf:mx,kindOfTest:Bn,endsWith:jD,toArray:AD,forEachEntry:kD,matchAll:PD,isHTMLForm:TD,hasOwnProperty:bS,hasOwnProp:bS,reduceDescriptors:kA,freezeMethods:OD,toObjectSet:MD,toCamelCase:RD,noop:LD,toFiniteNumber:DD,findKey:AA,global:Fa,isContextDefined:CA,isSpecCompliantForm:FD,toJSONObject:UD,isAsyncFn:BD,isThenable:$D,setImmediate:PA,asap:zD,isIterable:VD};function ge(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}D.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const TA=ge.prototype,RA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{RA[r]={value:r}});Object.defineProperties(ge,RA);Object.defineProperty(TA,"isAxiosError",{value:!0});ge.from=(r,e,t,n,s,i)=>{const a=Object.create(TA);return D.toFlatObject(r,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ge.call(a,r.message,e,t,n,s),a.cause=r,a.name=r.name,i&&Object.assign(a,i),a};const HD=null;function Hb(r){return D.isPlainObject(r)||D.isArray(r)}function IA(r){return D.endsWith(r,"[]")?r.slice(0,-2):r}function vS(r,e,t){return r?r.concat(e).map(function(s,i){return s=IA(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function GD(r){return D.isArray(r)&&!r.some(Hb)}const KD=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function yx(r,e,t){if(!D.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=D.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!D.isUndefined(_[x])});const n=t.metaTokens,s=t.visitor||d,i=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(D.isDate(g))return g.toISOString();if(D.isBoolean(g))return g.toString();if(!c&&D.isBlob(g))throw new ge("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(g)||D.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,x,_){let b=g;if(g&&!_&&typeof g=="object"){if(D.endsWith(x,"{}"))x=n?x:x.slice(0,-2),g=JSON.stringify(g);else if(D.isArray(g)&&GD(g)||(D.isFileList(g)||D.endsWith(x,"[]"))&&(b=D.toArray(g)))return x=IA(x),b.forEach(function(m,E){!(D.isUndefined(m)||m===null)&&e.append(a===!0?vS([x],E,i):a===null?x:x+"[]",u(m))}),!1}return Hb(g)?!0:(e.append(vS(_,x,i),u(g)),!1)}const f=[],h=Object.assign(KD,{defaultVisitor:d,convertValue:u,isVisitable:Hb});function p(g,x){if(!D.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),D.forEach(g,function(b,y){(!(D.isUndefined(b)||b===null)&&s.call(e,b,D.isString(y)?y.trim():y,x,h))===!0&&p(b,x?x.concat(y):[y])}),f.pop()}}if(!D.isObject(r))throw new TypeError("data must be an object");return p(r),e}function wS(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function d1(r,e){this._pairs=[],r&&yx(r,this,e)}const OA=d1.prototype;OA.append=function(e,t){this._pairs.push([e,t])};OA.toString=function(e){const t=e?function(n){return e.call(this,n,wS)}:wS;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function WD(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MA(r,e,t){if(!e)return r;const n=t&&t.encode||WD;D.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=D.isURLSearchParams(e)?e.toString():new d1(e,t).toString(n),i){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class _S{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(n){n!==null&&e(n)})}}const LA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XD=typeof URLSearchParams<"u"?URLSearchParams:d1,JD=typeof FormData<"u"?FormData:null,QD=typeof Blob<"u"?Blob:null,YD={isBrowser:!0,classes:{URLSearchParams:XD,FormData:JD,Blob:QD},protocols:["http","https","file","blob","url","data"]},f1=typeof window<"u"&&typeof document<"u",Gb=typeof navigator=="object"&&navigator||void 0,ZD=f1&&(!Gb||["ReactNative","NativeScript","NS"].indexOf(Gb.product)<0),qD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eF=f1&&window.location.href||"http://localhost",tF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:f1,hasStandardBrowserEnv:ZD,hasStandardBrowserWebWorkerEnv:qD,navigator:Gb,origin:eF},Symbol.toStringTag,{value:"Module"})),er={...tF,...YD};function rF(r,e){return yx(r,new er.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,i){return er.isNode&&D.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function nF(r){return D.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sF(r){const e={},t=Object.keys(r);let n;const s=t.length;let i;for(n=0;n<s;n++)i=t[n],e[i]=r[i];return e}function DA(r){function e(t,n,s,i){let a=t[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=t.length;return a=!a&&D.isArray(s)?s.length:a,c?(D.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!D.isObject(s[a]))&&(s[a]=[]),e(t,n,s[a],i)&&D.isArray(s[a])&&(s[a]=sF(s[a])),!l)}if(D.isFormData(r)&&D.isFunction(r.entries)){const t={};return D.forEachEntry(r,(n,s)=>{e(nF(n),s,t,0)}),t}return null}function iF(r,e,t){if(D.isString(r))try{return(e||JSON.parse)(r),D.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const Rf={transitional:LA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=D.isObject(e);if(i&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return s?JSON.stringify(DA(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rF(e,this.formSerializer).toString();if((l=D.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yx(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),iF(e)):e}],transformResponse:[function(e){const t=this.transitional||Rf.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(n&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?ge.from(l,ge.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],r=>{Rf.headers[r]={}});const aF=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oF=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!t||e[t]&&aF[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},SS=Symbol("internals");function Ou(r){return r&&String(r).trim().toLowerCase()}function r0(r){return r===!1||r==null?r:D.isArray(r)?r.map(r0):String(r)}function lF(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const cF=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ry(r,e,t,n,s){if(D.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!D.isString(e)){if(D.isString(n))return e.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(e)}}function uF(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function dF(r,e){const t=D.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}class jr{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(l,c,u){const d=Ou(c);if(!d)throw new Error("header name must be a non-empty string");const f=D.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=r0(l))}const a=(l,c)=>D.forEach(l,(u,d)=>i(u,d,c));if(D.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(D.isString(e)&&(e=e.trim())&&!cF(e))a(oF(e),t);else if(D.isObject(e)&&D.isIterable(e)){let l={},c,u;for(const d of e){if(!D.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?D.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=Ou(e),e){const n=D.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return lF(s);if(D.isFunction(t))return t.call(this,s,n);if(D.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ou(e),e){const n=D.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ry(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function i(a){if(a=Ou(a),a){const l=D.findKey(n,a);l&&(!t||ry(n,n[l],l,t))&&(delete n[l],s=!0)}}return D.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];(!e||ry(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return D.forEach(this,(s,i)=>{const a=D.findKey(n,i);if(a){t[a]=r0(s),delete t[i];return}const l=e?uF(i):String(i).trim();l!==i&&delete t[i],t[l]=r0(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return D.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&D.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[SS]=this[SS]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Ou(a);n[l]||(dF(s,a),n[l]=!0)}return D.isArray(e)?e.forEach(i):i(e),this}}jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(jr.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});D.freezeMethods(jr);function ny(r,e){const t=this||Rf,n=e||t,s=jr.from(n.headers);let i=n.data;return D.forEach(r,function(l){i=l.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function FA(r){return!!(r&&r.__CANCEL__)}function lu(r,e,t){ge.call(this,r??"canceled",ge.ERR_CANCELED,e,t),this.name="CanceledError"}D.inherits(lu,ge,{__CANCEL__:!0});function UA(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new ge("Request failed with status code "+t.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fF(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function hF(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];a||(a=u),t[s]=c,n[s]=u;let f=i,h=0;for(;f!==s;)h+=t[f++],f=f%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),u-a<e)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function pF(r,e){let t=0,n=1e3/e,s,i;const a=(u,d=Date.now())=>{t=d,s=null,i&&(clearTimeout(i),i=null),r.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-t;f>=n?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const ep=(r,e,t=3)=>{let n=0;const s=hF(50,250);return pF(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),d=a<=l;n=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(f)},t)},NS=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},ES=r=>(...e)=>D.asap(()=>r(...e)),mF=er.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,er.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,xF=er.hasStandardBrowserEnv?{write(r,e,t,n,s,i){const a=[r+"="+encodeURIComponent(e)];D.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),D.isString(n)&&a.push("path="+n),D.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gF(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function yF(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function BA(r,e,t){let n=!gF(e);return r&&(n||t==!1)?yF(r,e):e}const jS=r=>r instanceof jr?{...r}:r;function No(r,e){e=e||{};const t={};function n(u,d,f,h){return D.isPlainObject(u)&&D.isPlainObject(d)?D.merge.call({caseless:h},u,d):D.isPlainObject(d)?D.merge({},d):D.isArray(d)?d.slice():d}function s(u,d,f,h){if(D.isUndefined(d)){if(!D.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!D.isUndefined(d))return n(void 0,d)}function a(u,d){if(D.isUndefined(d)){if(!D.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in r)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(jS(u),jS(d),f,!0)};return D.forEach(Object.keys(Object.assign({},r,e)),function(d){const f=c[d]||s,h=f(r[d],e[d],d);D.isUndefined(h)&&f!==l||(t[d]=h)}),t}const $A=r=>{const e=No({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;e.headers=a=jr.from(a),e.url=MA(BA(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(D.isFormData(t)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(er.hasStandardBrowserEnv&&(n&&D.isFunction(n)&&(n=n(e)),n||n!==!1&&mF(e.url))){const u=s&&i&&xF.read(i);u&&a.set(s,u)}return e},bF=typeof XMLHttpRequest<"u",vF=bF&&function(r){return new Promise(function(t,n){const s=$A(r);let i=s.data;const a=jr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,g;function x(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function b(){if(!_)return;const m=jr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:m,config:r,request:_};UA(function(k){t(k),x()},function(k){n(k),x()},S),_=null}"onloadend"in _?_.onloadend=b:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(b)},_.onabort=function(){_&&(n(new ge("Request aborted",ge.ECONNABORTED,r,_)),_=null)},_.onerror=function(){n(new ge("Network Error",ge.ERR_NETWORK,r,_)),_=null},_.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||LA;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),n(new ge(E,S.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,r,_)),_=null},i===void 0&&a.setContentType(null),"setRequestHeader"in _&&D.forEach(a.toJSON(),function(E,S){_.setRequestHeader(S,E)}),D.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),l&&l!=="json"&&(_.responseType=s.responseType),u&&([h,g]=ep(u,!0),_.addEventListener("progress",h)),c&&_.upload&&([f,p]=ep(c),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=m=>{_&&(n(!m||m.type?new lu(null,r,_):m),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=fF(s.url);if(y&&er.protocols.indexOf(y)===-1){n(new ge("Unsupported protocol "+y+":",ge.ERR_BAD_REQUEST,r));return}_.send(i||null)})},wF=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ge?d:new lu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const l=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),r=null)};r.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>D.asap(l),c}},_F=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},SF=async function*(r,e){for await(const t of NF(r))yield*_F(t,e)},NF=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},AS=(r,e,t,n)=>{const s=SF(r,e);let i=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(t){let h=i+=f;t(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},bx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zA=bx&&typeof ReadableStream=="function",EF=bx&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),VA=(r,...e)=>{try{return!!r(...e)}catch{return!1}},jF=zA&&VA(()=>{let r=!1;const e=new Request(er.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),CS=64*1024,Kb=zA&&VA(()=>D.isReadableStream(new Response("").body)),tp={stream:Kb&&(r=>r.body)};bx&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!tp[e]&&(tp[e]=D.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new ge(`Response type '${e}' is not supported`,ge.ERR_NOT_SUPPORT,n)})})})(new Response);const AF=async r=>{if(r==null)return 0;if(D.isBlob(r))return r.size;if(D.isSpecCompliantForm(r))return(await new Request(er.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(D.isArrayBufferView(r)||D.isArrayBuffer(r))return r.byteLength;if(D.isURLSearchParams(r)&&(r=r+""),D.isString(r))return(await EF(r)).byteLength},CF=async(r,e)=>{const t=D.toFiniteNumber(r.getContentLength());return t??AF(e)},kF=bx&&(async r=>{let{url:e,method:t,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=$A(r);u=u?(u+"").toLowerCase():"text";let p=wF([s,i&&i.toAbortSignal()],a),g;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let _;try{if(c&&jF&&t!=="get"&&t!=="head"&&(_=await CF(d,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(D.isFormData(n)&&(N=S.headers.get("content-type"))&&d.setContentType(N),S.body){const[k,R]=NS(_,ep(ES(c)));n=AS(S.body,CS,k,R)}}D.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;g=new Request(e,{...h,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let y=await fetch(g,h);const m=Kb&&(u==="stream"||u==="response");if(Kb&&(l||m&&x)){const S={};["status","statusText","headers"].forEach(U=>{S[U]=y[U]});const N=D.toFiniteNumber(y.headers.get("content-length")),[k,R]=l&&NS(N,ep(ES(l),!0))||[];y=new Response(AS(y.body,CS,k,()=>{R&&R(),x&&x()}),S)}u=u||"text";let E=await tp[D.findKey(tp,u)||"text"](y,r);return!m&&x&&x(),await new Promise((S,N)=>{UA(S,N,{data:E,headers:jr.from(y.headers),status:y.status,statusText:y.statusText,config:r,request:g})})}catch(b){throw x&&x(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,r,g),{cause:b.cause||b}):ge.from(b,b&&b.code,r,g)}}),Wb={http:HD,xhr:vF,fetch:kF};D.forEach(Wb,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const kS=r=>`- ${r}`,PF=r=>D.isFunction(r)||r===null||r===!1,HA={getAdapter:r=>{r=D.isArray(r)?r:[r];const{length:e}=r;let t,n;const s={};for(let i=0;i<e;i++){t=r[i];let a;if(n=t,!PF(t)&&(n=Wb[(a=String(t)).toLowerCase()],n===void 0))throw new ge(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(kS).join(`
`):" "+kS(i[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Wb};function sy(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new lu(null,r)}function PS(r){return sy(r),r.headers=jr.from(r.headers),r.data=ny.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),HA.getAdapter(r.adapter||Rf.adapter)(r).then(function(n){return sy(r),n.data=ny.call(r,r.transformResponse,n),n.headers=jr.from(n.headers),n},function(n){return FA(n)||(sy(r),n&&n.response&&(n.response.data=ny.call(r,r.transformResponse,n.response),n.response.headers=jr.from(n.response.headers))),Promise.reject(n)})}const GA="1.10.0",vx={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{vx[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const TS={};vx.transitional=function(e,t,n){function s(i,a){return"[Axios v"+GA+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(e===!1)throw new ge(s(a," has been removed"+(t?" in "+t:"")),ge.ERR_DEPRECATED);return t&&!TS[a]&&(TS[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,l):!0}};vx.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function TF(r,e,t){if(typeof r!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const l=r[i],c=l===void 0||a(l,i,r);if(c!==!0)throw new ge("option "+i+" must be "+c,ge.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ge("Unknown option "+i,ge.ERR_BAD_OPTION)}}const n0={assertOptions:TF,validators:vx},Jn=n0.validators;class po{constructor(e){this.defaults=e||{},this.interceptors={request:new _S,response:new _S}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=No(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;n!==void 0&&n0.assertOptions(n,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),s!=null&&(D.isFunction(s)?t.paramsSerializer={serialize:s}:n0.assertOptions(s,{encode:Jn.function,serialize:Jn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),n0.assertOptions(t,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&D.merge(i.common,i[t.method]);i&&D.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),t.headers=jr.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const g=[PS.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),h=g.length,d=Promise.resolve(t);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let p=t;for(f=0;f<h;){const g=l[f++],x=l[f++];try{p=g(p)}catch(_){x.call(this,_);break}}try{d=PS.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=No(this.defaults,e);const t=BA(e.baseURL,e.url,e.allowAbsoluteUrls);return MA(t,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){po.prototype[e]=function(t,n){return this.request(No(n||{},{method:e,url:t,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(e){function t(n){return function(i,a,l){return this.request(No(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}po.prototype[e]=t(),po.prototype[e+"Form"]=t(!0)});class h1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,l){n.reason||(n.reason=new lu(i,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new h1(function(s){e=s}),cancel:e}}}function RF(r){return function(t){return r.apply(null,t)}}function IF(r){return D.isObject(r)&&r.isAxiosError===!0}const Xb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xb).forEach(([r,e])=>{Xb[e]=r});function KA(r){const e=new po(r),t=SA(po.prototype.request,e);return D.extend(t,po.prototype,e,{allOwnKeys:!0}),D.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return KA(No(r,s))},t}const Be=KA(Rf);Be.Axios=po;Be.CanceledError=lu;Be.CancelToken=h1;Be.isCancel=FA;Be.VERSION=GA;Be.toFormData=yx;Be.AxiosError=ge;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=RF;Be.isAxiosError=IF;Be.mergeConfig=No;Be.AxiosHeaders=jr;Be.formToJSON=r=>DA(D.isHTMLForm(r)?new FormData(r):r);Be.getAdapter=HA.getAdapter;Be.HttpStatusCode=Xb;Be.default=Be;const gi="https://tavusapi.com/v2",iy=[{id:"nigerian",label:"Nigerian",region:"West Africa",subgroups:["Igbo","Yoruba","Hausa","Fulani"]},{id:"ghanaian",label:"Ghanaian",region:"West Africa",subgroups:["Akan","Ewe","Ga"]},{id:"kenyan",label:"Kenyan",region:"East Africa",subgroups:["Kikuyu","Luo","Maasai"]},{id:"ethiopian",label:"Ethiopian",region:"East Africa",subgroups:["Amhara","Oromo","Tigray"]},{id:"south_african",label:"South African",region:"Southern Africa",subgroups:["Zulu","Xhosa","Afrikaner"]},{id:"african_american",label:"African American",region:"Americas",subgroups:["Southern","Northern","Caribbean"]},{id:"chinese",label:"Chinese",region:"East Asia",subgroups:["Han","Cantonese","Mandarin"]},{id:"indian",label:"Indian",region:"South Asia",subgroups:["Tamil","Bengali","Punjabi","Gujarati"]},{id:"japanese",label:"Japanese",region:"East Asia",subgroups:["Traditional","Modern"]},{id:"korean",label:"Korean",region:"East Asia",subgroups:["Traditional","Contemporary"]},{id:"filipino",label:"Filipino",region:"Southeast Asia",subgroups:["Tagalog","Cebuano","Ilocano"]},{id:"vietnamese",label:"Vietnamese",region:"Southeast Asia",subgroups:["Northern","Southern"]},{id:"thai",label:"Thai",region:"Southeast Asia",subgroups:["Central","Northern","Southern"]},{id:"arab",label:"Arab",region:"Middle East",subgroups:["Lebanese","Egyptian","Saudi","Palestinian"]},{id:"persian",label:"Persian/Iranian",region:"Middle East",subgroups:["Traditional","Modern"]},{id:"turkish",label:"Turkish",region:"Middle East/Europe",subgroups:["Anatolian","Ottoman"]},{id:"mexican",label:"Mexican",region:"North America",subgroups:["Northern","Central","Southern"]},{id:"puerto_rican",label:"Puerto Rican",region:"Caribbean",subgroups:["Traditional","Contemporary"]},{id:"colombian",label:"Colombian",region:"South America",subgroups:["Coastal","Andean"]},{id:"brazilian",label:"Brazilian",region:"South America",subgroups:["Afro-Brazilian","European-Brazilian"]},{id:"italian",label:"Italian",region:"Southern Europe",subgroups:["Northern","Southern","Sicilian"]},{id:"irish",label:"Irish",region:"Western Europe",subgroups:["Traditional","Modern"]},{id:"german",label:"German",region:"Central Europe",subgroups:["Bavarian","Prussian"]},{id:"scandinavian",label:"Scandinavian",region:"Northern Europe",subgroups:["Norwegian","Swedish","Danish"]},{id:"native_american",label:"Native American",region:"Americas",subgroups:["Plains","Woodland","Southwest"]},{id:"aboriginal_australian",label:"Aboriginal Australian",region:"Oceania",subgroups:["Traditional","Contemporary"]},{id:"maori",label:"Māori",region:"Oceania",subgroups:["Traditional","Contemporary"]}],ay=[{id:"loving_mother",label:"Loving Mother",description:"Warm, nurturing, protective"},{id:"wise_father",label:"Wise Father",description:"Strong, guiding, supportive"},{id:"caring_grandmother",label:"Caring Grandmother",description:"Gentle, wise, storytelling"},{id:"respected_grandfather",label:"Respected Grandfather",description:"Dignified, experienced, patient"},{id:"community_elder",label:"Community Elder",description:"Respected, wise, traditional"},{id:"spiritual_guide",label:"Spiritual Guide",description:"Peaceful, enlightened, comforting"},{id:"cultural_keeper",label:"Cultural Keeper",description:"Traditional, knowledgeable, proud"},{id:"family_matriarch",label:"Family Matriarch",description:"Strong, organizing, protective"},{id:"family_patriarch",label:"Family Patriarch",description:"Authoritative, caring, responsible"},{id:"successful_professional",label:"Successful Professional",description:"Confident, accomplished, polished"},{id:"creative_artist",label:"Creative Artist",description:"Expressive, passionate, inspiring"},{id:"community_leader",label:"Community Leader",description:"Charismatic, responsible, inspiring"},{id:"educator_mentor",label:"Educator/Mentor",description:"Patient, knowledgeable, encouraging"},{id:"gentle_soul",label:"Gentle Soul",description:"Soft-spoken, kind, peaceful"},{id:"strong_warrior",label:"Strong Warrior",description:"Resilient, brave, determined"},{id:"joyful_spirit",label:"Joyful Spirit",description:"Happy, optimistic, energetic"},{id:"wise_sage",label:"Wise Sage",description:"Thoughtful, philosophical, calm"}],oy=[{id:"traditional_formal",label:"Traditional Formal",description:"Classic, dignified, respectful"},{id:"cultural_traditional",label:"Cultural Traditional",description:"Heritage clothing, cultural symbols"},{id:"religious_modest",label:"Religious/Modest",description:"Respectful, covered, spiritual"},{id:"modern_professional",label:"Modern Professional",description:"Business attire, polished, contemporary"},{id:"casual_comfortable",label:"Casual Comfortable",description:"Relaxed, approachable, everyday"},{id:"elegant_sophisticated",label:"Elegant Sophisticated",description:"Refined, graceful, upscale"},{id:"african_inspired",label:"African Inspired",description:"Kente, dashiki, traditional patterns"},{id:"asian_traditional",label:"Asian Traditional",description:"Kimono, hanbok, qipao, sari"},{id:"latin_vibrant",label:"Latin Vibrant",description:"Colorful, festive, cultural"},{id:"middle_eastern_elegant",label:"Middle Eastern Elegant",description:"Flowing, modest, beautiful"}],bh=[{id:"natural_afro",label:"Natural Afro",cultural:["african","african_american"]},{id:"braids_traditional",label:"Traditional Braids",cultural:["african","african_american"]},{id:"locs_dreadlocks",label:"Locs/Dreadlocks",cultural:["african","african_american","caribbean"]},{id:"cornrows",label:"Cornrows",cultural:["african","african_american"]},{id:"bantu_knots",label:"Bantu Knots",cultural:["african"]},{id:"head_wrap",label:"Head Wrap/Gele",cultural:["african","african_american"]},{id:"traditional_bun",label:"Traditional Bun",cultural:["chinese","japanese","korean"]},{id:"long_straight",label:"Long Straight",cultural:["asian"]},{id:"modern_asian_cut",label:"Modern Asian Cut",cultural:["asian"]},{id:"short_professional",label:"Short Professional",cultural:["universal"]},{id:"medium_layered",label:"Medium Layered",cultural:["universal"]},{id:"long_curly",label:"Long Curly",cultural:["universal"]},{id:"pixie_cut",label:"Pixie Cut",cultural:["universal"]},{id:"bob_cut",label:"Bob Cut",cultural:["universal"]},{id:"hijab_modest",label:"Hijab/Modest Covering",cultural:["muslim","middle_eastern"]},{id:"turban_sikh",label:"Turban",cultural:["sikh","indian"]},{id:"kippah_orthodox",label:"With Kippah",cultural:["jewish"]}];class OF{constructor(){this.apiKey="8bf17914e4eb47d68a50284b56172f2c",this.headers={"x-api-key":this.apiKey,"Content-Type":"application/json"}}isConfigured(){return!!this.apiKey}async getReplicas(){try{return(await Be.get(`${gi}/replicas`,{headers:this.headers})).data.data||[]}catch(e){throw console.error("Error fetching replicas:",e),new Error("Failed to fetch replicas")}}async getReplica(e){try{return(await Be.get(`${gi}/replicas/${e}`,{headers:this.headers})).data}catch(t){throw console.error("Error fetching replica:",t),new Error("Failed to fetch replica")}}async createReplica(e){try{const t=new FormData;return t.append("replica_name",e.replica_name),e.callback_url&&t.append("callback_url",e.callback_url),e.train_video_file?t.append("train_video_file",e.train_video_file):e.train_video_url&&t.append("train_video_url",e.train_video_url),e.photo_reference&&t.append("photo_reference",e.photo_reference),e.identity_profile&&t.append("identity_profile",JSON.stringify(e.identity_profile)),e.representation_preferences&&t.append("representation_preferences",JSON.stringify(e.representation_preferences)),(await Be.post(`${gi}/replicas`,t,{headers:{"x-api-key":this.apiKey,"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error creating replica:",t),new Error("Failed to create replica")}}async deleteReplica(e){try{await Be.delete(`${gi}/replicas/${e}`,{headers:this.headers})}catch(t){throw console.error("Error deleting replica:",t),new Error("Failed to delete replica")}}async createVideo(e){try{return(await Be.post(`${gi}/videos`,e,{headers:this.headers})).data}catch(t){throw console.error("Error creating video:",t),new Error("Failed to create video")}}async getVideo(e){try{return(await Be.get(`${gi}/videos/${e}`,{headers:this.headers})).data}catch(t){throw console.error("Error fetching video:",t),new Error("Failed to fetch video")}}async getVideos(){try{return(await Be.get(`${gi}/videos`,{headers:this.headers})).data.data||[]}catch(e){throw console.error("Error fetching videos:",e),new Error("Failed to fetch videos")}}async deleteVideo(e){try{await Be.delete(`${gi}/videos/${e}`,{headers:this.headers})}catch(t){throw console.error("Error deleting video:",t),new Error("Failed to delete video")}}async generateCulturalInheritanceMessage(e,t,n,s,i="loved one",a){const l=this.createCulturalInheritanceScript(t,n,s,i,a);return this.createVideo({replica_id:e,script:l,video_name:`Cultural Heritage Message for ${t} - ${n}`,properties:{voice_settings:{stability:.7,similarity_boost:.8,style:.2},max_video_length:300,identity_enhancement:{cultural_context:a==null?void 0:a.identity,emotional_tone:"warm_familial",representation_style:"authentic_cultural"}}})}createCulturalInheritanceScript(e,t,n,s,i){let a=`Hello ${e}`,l="",c="With all my love";if(i)switch(i.identity){case"igbo":a=`Ndewo ${e}`,l="As our Igbo ancestors taught us, family wealth is meant to be shared and preserved for future generations. ",c="Chineke gozie gi (May God bless you)";break;case"yoruba":a=`Bawo ${e}`,l="In our Yoruba tradition, we believe that what we leave behind speaks to our legacy. ",c="Olorun a bukun e (May God bless you)";break;case"chinese":l="Following our family traditions of honoring our ancestors and caring for future generations, ",c="May you prosper and honor our family name";break;case"mexican":a=`Hola mi querido/a ${e}`,l="Como nos enseñaron nuestros antepasados, la familia es lo más importante. ",c="Con todo mi amor y bendiciones";break;case"arab":a=`As-salamu alaykum ${e}`,l="In our tradition, we believe that what we leave for our children is a trust from Allah. ",c="Barakallahu feeki/feek (May Allah bless you)";break}return`${a},

If you're watching this message, it means I'm no longer with you, but I wanted to make sure you received this important information about ${t}.

${l}${n}

This asset represents not just financial value, but our family's journey, our struggles, and our hopes for the future. I want you to know that I've carefully planned for it to be passed on to you, carrying with it all the love and wisdom of our ancestors.

Please follow the instructions I've provided, and don't hesitate to reach out to our family attorney or financial advisor if you need any help. Remember to honor our traditions while building your own path forward.

You mean the world to me, ${e}, and I hope this helps secure your future while keeping our family's values alive.

${c},
Your ${s}`}async createPhotoBasedAvatar(e,t,n){return this.createReplica({replica_name:`Photo Avatar - ${t.cultural_identity}`,photo_reference:e,identity_profile:t,representation_preferences:{creation_method:"photo_generation",cultural_identity:t.cultural_identity,visual_style:n}})}async waitForVideoCompletion(e,t=3e5,n=1e4){const s=Date.now();for(;Date.now()-s<t;){const i=await this.getVideo(e);if(i.status==="completed")return i;if(i.status==="failed")throw new Error("Video generation failed");await new Promise(a=>setTimeout(a,n))}throw new Error("Video generation timed out")}}const va=new OF,MF=({onSelectionComplete:r,onClose:e})=>{var U,B,J;const[t,n]=M.useState(1),[s,i]=M.useState("video_training"),[a,l]=M.useState(""),[c,u]=M.useState(""),[d,f]=M.useState(""),[h,p]=M.useState(""),[g,x]=M.useState(""),[_,b]=M.useState(null),[y,m]=M.useState(null),E=Q=>{var oe;const Y=(oe=Q.target.files)==null?void 0:oe[0];if(Y){b(Y);const A=new FileReader;A.onload=O=>{var Z;m((Z=O.target)==null?void 0:Z.result)},A.readAsDataURL(Y)}},S=()=>a?bh.filter(Q=>Q.cultural.includes(a)||Q.cultural.includes("universal")):bh,N=()=>{const Q=iy.find(P=>P.id===a),Y=ay.find(P=>P.id===c),oe=oy.find(P=>P.id===d),A=bh.find(P=>P.id===h),O={cultural_identity:Q==null?void 0:Q.label,representation_style:Y==null?void 0:Y.label,clothing_style:oe==null?void 0:oe.label,hairstyle:A==null?void 0:A.label,custom_description:g};r(O,{creation_method:s,cultural_identity:a,role_representation:c,visual_style:d},_||void 0)},k=[{id:1,title:"Choose Creation Method",description:"How would you like to create your avatar?"},{id:2,title:"Cultural Identity",description:"Select your cultural background and heritage"},{id:3,title:"Role Representation",description:"How would you like to be represented?"},{id:4,title:"Visual Style",description:"Choose your appearance and style preferences"},{id:5,title:"Final Touches",description:"Add any additional customizations"}],R=()=>{var Q,Y,oe,A;switch(t){case 1:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx("button",{onClick:()=>i("video_training"),className:`p-6 border-2 rounded-xl text-left transition-all ${s==="video_training"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Xh,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:"Video Training (Recommended)"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Upload a 2-5 minute video of yourself speaking. Most accurate representation."})]})]})}),o.jsx("button",{onClick:()=>i("photo_generation"),className:`p-6 border-2 rounded-xl text-left transition-all ${s==="photo_generation"?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(K0,{className:"w-8 h-8 text-purple-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:"Photo Generation"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Upload your photo and we'll create an avatar that looks like you."})]})]})}),o.jsx("button",{onClick:()=>i("preset_selection"),className:`p-6 border-2 rounded-xl text-left transition-all ${s==="preset_selection"?"border-green-500 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(wj,{className:"w-8 h-8 text-green-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:"Preset Selection"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Choose from culturally representative preset avatars."})]})]})})]}),s==="photo_generation"&&o.jsxs("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-purple-900 mb-3",children:"Upload Your Photo"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"photo-upload"}),o.jsxs("label",{htmlFor:"photo-upload",className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 cursor-pointer transition-colors",children:[o.jsx(K0,{className:"w-4 h-4"}),o.jsx("span",{children:"Choose Photo"})]}),y&&o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border-2 border-purple-300",children:o.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"})})]}),o.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Best results with clear, front-facing photos with good lighting"})]})]});case 2:return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:iy.map(O=>o.jsx("button",{onClick:()=>l(O.id),className:`p-4 border-2 rounded-lg text-left transition-all ${a===O.id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($p,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-slate-900",children:O.label}),o.jsx("p",{className:"text-xs text-slate-600",children:O.region}),O.subgroups.length>0&&o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[O.subgroups.slice(0,3).join(", "),O.subgroups.length>3&&"..."]})]})]})},O.id))}),o.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Why this matters:"})," Selecting your cultural identity helps us create an avatar that authentically represents your heritage, including appropriate facial features, skin tone, and cultural elements."]})})]});case 3:return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:ay.map(O=>o.jsx("button",{onClick:()=>u(O.id),className:`p-4 border-2 rounded-lg text-left transition-all ${c===O.id?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ni,{className:"w-5 h-5 text-purple-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-slate-900",children:O.label}),o.jsx("p",{className:"text-xs text-slate-600 mt-1",children:O.description})]})]})},O.id))}),o.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-purple-800",children:[o.jsx("strong",{children:"Express yourself:"})," Choose how you want to be remembered and represented to your beneficiaries. This affects your avatar's demeanor, posture, and overall presence."]})})]});case 4:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Clothing & Style"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:oy.map(O=>o.jsxs("button",{onClick:()=>f(O.id),className:`p-3 border-2 rounded-lg text-left transition-all ${d===O.id?"border-green-500 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:[o.jsx("h3",{className:"font-medium text-slate-900 text-sm",children:O.label}),o.jsx("p",{className:"text-xs text-slate-600 mt-1",children:O.description})]},O.id))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Hairstyle"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-48 overflow-y-auto",children:S().map(O=>o.jsxs("button",{onClick:()=>p(O.id),className:`p-3 border-2 rounded-lg text-left transition-all ${h===O.id?"border-orange-500 bg-orange-50":"border-slate-200 hover:border-slate-300"}`,children:[o.jsx("h3",{className:"font-medium text-slate-900 text-sm",children:O.label}),o.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Cultural: ",O.cultural.join(", ")]})]},O.id))})]})]});case 5:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Additional Description (Optional)"}),o.jsx("textarea",{value:g,onChange:O=>x(O.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe any specific features, expressions, or characteristics you'd like your avatar to have..."})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Your Avatar Profile"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Creation Method:"})," ",s.replace("_"," ")]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Cultural Identity:"})," ",((Q=iy.find(O=>O.id===a))==null?void 0:Q.label)||"Not selected"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Role:"})," ",((Y=ay.find(O=>O.id===c))==null?void 0:Y.label)||"Not selected"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Style:"})," ",((oe=oy.find(O=>O.id===d))==null?void 0:oe.label)||"Not selected"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Hairstyle:"})," ",((A=bh.find(O=>O.id===h))==null?void 0:A.label)||"Not selected"]}),_&&o.jsxs("div",{children:[o.jsx("strong",{children:"Photo:"})," ",_.name]})]})]})]});default:return null}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Create Your Avatar Identity"}),o.jsxs("p",{className:"text-slate-600 mt-1",children:["Step ",t," of ",k.length,": ",(U=k[t-1])==null?void 0:U.title]})]}),o.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"×"})]}),o.jsx("div",{className:"px-6 py-4 bg-slate-50",children:o.jsx("div",{className:"flex items-center space-x-2",children:k.map((Q,Y)=>o.jsxs(Dv.Fragment,{children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${t>=Q.id?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:Q.id}),Y<k.length-1&&o.jsx("div",{className:`flex-1 h-1 rounded ${t>Q.id?"bg-blue-600":"bg-slate-200"}`})]},Q.id))})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:(B=k[t-1])==null?void 0:B.title}),o.jsx("p",{className:"text-slate-600",children:(J=k[t-1])==null?void 0:J.description})]}),R(),o.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200 mt-6",children:[o.jsx("button",{onClick:()=>n(Math.max(1,t-1)),disabled:t===1,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:e,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),t<k.length?o.jsx("button",{onClick:()=>n(t+1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"}):o.jsx("button",{onClick:N,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Create Avatar"})]})]})]})]})})},LF=({onSave:r,onClose:e,beneficiaryName:t,assetName:n,title:s="Create Avatar Message"})=>{const[i,a]=M.useState([]),[l,c]=M.useState(""),[u,d]=M.useState(""),[f,h]=M.useState(!1),[p,g]=M.useState(null),[x,_]=M.useState(!1),[b,y]=M.useState(!1),[m,E]=M.useState(!1),[S,N]=M.useState(!1),[k,R]=M.useState(""),[U,B]=M.useState(null),J=M.useRef(null),Q=M.useRef(null);M.useEffect(()=>{Y()},[]),M.useEffect(()=>{t&&n&&oe()},[t,n]);const Y=async()=>{try{if(!va.isConfigured())return;const X=await va.getReplicas();if(a(X),X.length>0){const he=X.find(le=>le.status==="ready");he&&c(he.replica_id)}else E(!0)}catch(X){console.error("Error loading replicas:",X)}},oe=()=>{if(!t||!n)return;const X=`Hello ${t},

If you're watching this message, it means I'm no longer with you, but I wanted to make sure you received this important information about ${n}.

This asset holds special significance, and I've carefully planned for it to be passed on to you. Please follow the instructions I've provided in your Heritage Vault, and don't hesitate to reach out to our family attorney or financial advisor if you need any help.

You mean the world to me, ${t}, and I hope this helps secure your future. Take care of yourself and remember that I love you.

With all my love.`;d(X)},A=X=>{var le;const he=(le=X.target.files)==null?void 0:le[0];he&&B(he)},O=async(X,he,le)=>{N(!0);try{let $e;he.creation_method==="photo_generation"&&le?$e={replica_name:`${X.cultural_identity} Avatar`,photo_reference:le,identity_profile:X,representation_preferences:he}:he.creation_method==="video_training"&&U?$e={replica_name:`${X.cultural_identity} Heritage Avatar`,train_video_file:U,identity_profile:X,representation_preferences:he}:$e={replica_name:`${X.cultural_identity} Preset Avatar`,identity_profile:X,representation_preferences:he};const bs=await va.createReplica($e);await Y(),E(!1),y(!1),alert("Avatar created successfully! It may take a few minutes to process.")}catch($e){console.error("Error creating avatar:",$e),alert("Failed to create avatar. Please try again.")}finally{N(!1)}},Z=async()=>{if(!(!k.trim()||!U)){N(!0);try{const X=await va.createReplica({replica_name:k,train_video_file:U});await Y(),y(!1),R(""),B(null),alert("Replica created successfully! It may take a few minutes to process.")}catch(X){console.error("Error creating replica:",X),alert("Failed to create replica. Please try again.")}finally{N(!1)}}},P=async()=>{if(!(!l||!u.trim())){h(!0);try{const X=await va.createVideo({replica_id:l,script:u,video_name:`Heritage Message - ${n||"Personal Message"}`,properties:{voice_settings:{stability:.7,similarity_boost:.8,style:.2}}}),he=await va.waitForVideoCompletion(X.video_id);g(he)}catch(X){console.error("Error generating video:",X),alert("Failed to generate video. Please try again.")}finally{h(!1)}}},F=()=>{J.current&&(p!=null&&p.stream_url)&&(x?(J.current.pause(),_(!1)):(J.current.play(),_(!0)))},T=()=>{_(!1)},W=()=>{p&&l&&r({videoId:p.video_id,script:u,replicaId:l,beneficiary:t,assetName:n})},G=X=>{switch(X){case"ready":return o.jsx(Dt,{className:"w-4 h-4 text-green-600"});case"processing":return o.jsx(od,{className:"w-4 h-4 text-blue-600 animate-spin"});case"failed":return o.jsx(ca,{className:"w-4 h-4 text-red-600"});default:return o.jsx(kt,{className:"w-4 h-4 text-slate-600"})}},pe=X=>{const he=X.identity_profile;return{name:X.name,description:he?`${he.cultural_identity||"Custom"} • ${he.representation_style||"Personal"}`:"Standard Avatar",culturalInfo:(he==null?void 0:he.cultural_identity)||null}};return va.isConfigured()?o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Create a personalized video message with your culturally-aware AI avatar"})]}),o.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:o.jsx(_o,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[b?o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Xh,{className:"w-6 h-6 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create Your Avatar (Traditional Method)"})]}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Upload a short video (2-5 minutes) of yourself speaking clearly to the camera."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Avatar Name"}),o.jsx("input",{type:"text",value:k,onChange:X=>R(X.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., My Heritage Avatar"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Training Video"}),o.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center",children:[o.jsx("input",{ref:Q,type:"file",accept:"video/*",onChange:A,className:"hidden"}),U?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ld,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"text-sm text-slate-700",children:U.name}),o.jsx("button",{onClick:()=>B(null),className:"p-1 text-slate-400 hover:text-red-600",children:o.jsx(_o,{className:"w-4 h-4"})})]}):o.jsxs("div",{children:[o.jsx(K0,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Upload your training video"}),o.jsx("button",{onClick:()=>{var X;return(X=Q.current)==null?void 0:X.click()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:Z,disabled:!k.trim()||!U||S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400 transition-colors flex items-center justify-center space-x-2",children:S?o.jsxs(o.Fragment,{children:[o.jsx(od,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Creating..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Xh,{className:"w-4 h-4"}),o.jsx("span",{children:"Create Avatar"})]})})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900",children:"Choose Your Avatar"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 px-3 py-1 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-lg hover:from-purple-200 hover:to-pink-200 transition-colors text-sm",children:[o.jsx(wj,{className:"w-4 h-4"}),o.jsx("span",{children:"Create Cultural Avatar"})]}),o.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[o.jsx(Xh,{className:"w-4 h-4"}),o.jsx("span",{children:"Video Training"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map(X=>{const he=pe(X);return o.jsxs("button",{onClick:()=>c(X.replica_id),disabled:X.status!=="ready",className:`flex items-center space-x-3 p-4 border-2 rounded-lg transition-all text-left ${l===X.replica_id?"border-purple-500 bg-purple-50":X.status==="ready"?"border-slate-200 hover:border-slate-300":"border-slate-200 opacity-50 cursor-not-allowed"}`,children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full flex items-center justify-center",children:o.jsx(kt,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium text-slate-900",children:he.name}),G(X.status)]}),o.jsx("p",{className:"text-xs text-slate-600",children:he.description}),o.jsx("p",{className:"text-xs text-slate-500 capitalize",children:X.status})]})]},X.replica_id)})}),i.length===0&&o.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-300 rounded-lg",children:[o.jsx(kt,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No Avatars Yet"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first culturally-representative avatar"}),o.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-colors",children:"Create Cultural Avatar"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-3",children:"Message Script"}),o.jsx("textarea",{value:u,onChange:X=>d(X.target.value),rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Write your heartfelt message here..."}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Keep your message under 2 minutes for best results. Speak naturally and from the heart."})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:P,disabled:!l||!u.trim()||f,className:"flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-slate-400 transition-colors",children:f?o.jsxs(o.Fragment,{children:[o.jsx(od,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Generating Video..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ld,{className:"w-5 h-5"}),o.jsx("span",{children:"Generate Avatar Video"})]})}),p&&o.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[x?o.jsx(Sb,{className:"w-4 h-4"}):o.jsx(Nb,{className:"w-4 h-4"}),o.jsx("span",{children:x?"Pause":"Preview"})]})]}),p&&o.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Generated Video"}),o.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:o.jsx("video",{ref:J,src:p.stream_url||p.download_url,onEnded:T,className:"w-full h-full object-cover",controls:!0})})]})]}),!b&&!m&&o.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-slate-200",children:[o.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:W,disabled:!p,className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 disabled:bg-slate-400 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(_j,{className:"w-4 h-4"}),o.jsx("span",{children:"Save Avatar Message"})]})]})]})]}),m&&o.jsx(MF,{onSelectionComplete:O,onClose:()=>E(!1)})]}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 text-center",children:[o.jsx(ld,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Tavus Not Configured"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"To use avatar messages, please add your Tavus API key to your environment variables."}),o.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:"Close"})]})})},DF=({contacts:r,onAdd:e,onClose:t})=>{const[n,s]=M.useState({name:"",category:"financial",type:"",value:"",location:"",instructions:"",beneficiaries:[],accountInfo:"",accessInstructions:"",requiredDocuments:"",voiceMessages:[],avatarMessages:[]}),[i,a]=M.useState(!1),[l,c]=M.useState(!1),[u,d]=M.useState(""),f=[{id:"financial",label:"Financial",icon:Bp},{id:"property",label:"Property",icon:Cw},{id:"digital",label:"Digital",icon:Pw},{id:"personal",label:"Personal",icon:ni},{id:"legal",label:"Legal",icon:Dn}],h={financial:["Bank Account","Investment Account","Retirement Account (401k/IRA)","Crypto Wallet","Brokerage Account","Money Market Account","Certificate of Deposit","Savings Account","Other Financial Asset"],property:["Real Estate - Primary Residence","Real Estate - Investment Property","Land/Vacant Lot","Vehicle","Boat/Watercraft","Other Property"],digital:["Cloud Storage Account","Social Media Account","Email Account","Digital Photos/Videos","Domain Names","Digital Subscriptions","NFTs/Digital Collectibles","Other Digital Asset"],personal:["Jewelry","Gold/Precious Metals","Art/Collectibles","Antiques","Family Heirlooms","Other Personal Items"],legal:["Will/Testament","Trust Documents","Power of Attorney","Insurance Policies","Legal Contracts","Other Legal Documents"]},p=(S,N)=>{s(k=>({...k,[S]:N}))},g=S=>{S.preventDefault();const N=[n.instructions,n.accountInfo?`Account Information: ${n.accountInfo}`:"",n.accessInstructions?`Access Instructions: ${n.accessInstructions}`:"",n.requiredDocuments?`Required Documents: ${n.requiredDocuments}`:""].filter(Boolean).join(`

`),k=n.voiceMessages.length>0?`

Voice Messages:
${n.voiceMessages.map((U,B)=>`${B+1}. ${U.text} (${U.language})`).join(`
`)}`:"",R=n.avatarMessages.length>0?`

Avatar Messages:
${n.avatarMessages.map((U,B)=>`${B+1}. Video ID: ${U.videoId} - ${U.script.substring(0,100)}...`).join(`
`)}`:"";e({...n,instructions:N+k+R}),t()},x=(S,N)=>{s(N?{...n,beneficiaries:[...n.beneficiaries,S]}:{...n,beneficiaries:n.beneficiaries.filter(k=>k!==S)})},_=S=>{d(S),a(!0)},b=S=>{const N={...S,id:Date.now().toString()};s(k=>({...k,voiceMessages:[...k.voiceMessages,N]})),a(!1)},y=S=>{const N={...S,id:Date.now().toString(),assetName:n.name||"Asset"};s(k=>({...k,avatarMessages:[...k.avatarMessages,N]})),c(!1)},m=S=>{s(N=>({...N,voiceMessages:N.voiceMessages.filter(k=>k.id!==S)}))},E=S=>{s(N=>({...N,avatarMessages:N.avatarMessages.filter(k=>k.id!==S)}))};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[o.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Add New Asset"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Secure your legacy with AI-powered voice and video messages"})]}),o.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:o.jsx(Jh,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-3",children:"Asset Category *"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:f.map(S=>{const N=S.icon;return o.jsxs("button",{type:"button",onClick:()=>s({...n,category:S.id,type:""}),className:`flex flex-col items-center space-y-3 p-4 border-2 rounded-xl transition-all duration-200 ${n.category===S.id?"border-slate-900 bg-slate-50 shadow-md":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[o.jsx(N,{className:`w-6 h-6 ${n.category===S.id?"text-slate-900":"text-slate-600"}`}),o.jsx("span",{className:`text-sm font-medium ${n.category===S.id?"text-slate-900":"text-slate-700"}`,children:S.label})]},S.id)})})]}),o.jsx(nD,{onFieldUpdate:p,currentValues:{name:n.name,location:n.location,value:n.value,instructions:n.instructions,accountInfo:n.accountInfo,accessInstructions:n.accessInstructions}}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Asset Type *"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{required:!0,value:n.type,onChange:S=>s({...n,type:S.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent appearance-none bg-white",children:[o.jsx("option",{value:"",children:"Select asset type..."}),h[n.category].map(S=>o.jsx("option",{value:S,children:S},S))]}),o.jsx(pj,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Required Documents"}),o.jsx("textarea",{value:n.requiredDocuments,onChange:S=>s({...n,requiredDocuments:S.target.value}),rows:2,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Death certificate, ID, legal documents needed for access..."})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center space-x-2",children:[o.jsx(bj,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{children:"Voice Messages"})]}),o.jsxs("button",{type:"button",onClick:()=>_("Personal Voice Message"),className:"flex items-center space-x-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[o.jsx(Lc,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Voice"})]})]}),n.voiceMessages.length>0?o.jsx("div",{className:"space-y-3",children:n.voiceMessages.map((S,N)=>o.jsx("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-slate-700 mb-2",children:S.text}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("audio",{controls:!0,className:"h-8",children:o.jsx("source",{src:S.audioUrl,type:"audio/mpeg"})}),o.jsx("span",{className:"text-xs text-slate-500",children:S.language.toUpperCase()})]})]}),o.jsx("button",{type:"button",onClick:()=>m(S.id),className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(Jh,{className:"w-4 h-4"})})]})},S.id))}):o.jsx("p",{className:"text-sm text-slate-600 text-center py-4",children:"No voice messages yet. Add a personal audio message for your beneficiaries."})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center space-x-2",children:[o.jsx(ld,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"Avatar Messages"})]}),o.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[o.jsx(ld,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Avatar"})]})]}),n.avatarMessages.length>0?o.jsx("div",{className:"space-y-3",children:n.avatarMessages.map((S,N)=>o.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm text-slate-700 mb-2",children:[S.script.substring(0,100),"..."]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:["Video ID: ",S.videoId.substring(0,8),"..."]})})]}),o.jsx("button",{type:"button",onClick:()=>E(S.id),className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(Jh,{className:"w-4 h-4"})})]})},S.id))}):o.jsx("p",{className:"text-sm text-slate-600 text-center py-4",children:"No avatar messages yet. Create a personalized video message with your AI avatar."})]})]})]}),r.length>0&&o.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-4",children:"Assign Beneficiaries"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-40 overflow-y-auto",children:r.map(S=>o.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.beneficiaries.includes(S.name),onChange:N=>x(S.name,N.target.checked),className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-sm font-medium text-slate-900",children:S.name}),o.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",S.relationship,")"]})]})]},S.id))})]}),o.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-slate-200",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 hover:border-slate-400 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium shadow-lg hover:shadow-xl",children:"Add Asset with AI Messages"})]})]})]}),i&&o.jsx(sD,{title:u,onSave:b,onClose:()=>a(!1)}),l&&o.jsx(LF,{onSave:y,onClose:()=>c(!1),assetName:n.name,title:"Create Avatar Message for Asset"})]})},FF=({contacts:r,existingConditions:e=[],onSave:t,onClose:n})=>{const[s,i]=M.useState(e),a=[{id:"time_delay",label:"Time Delay",icon:gt,description:"Release after a specified number of days"},{id:"death_certificate",label:"Death Certificate",icon:qe,description:"Require official death certificate verification"},{id:"legal_verification",label:"Legal Verification",icon:qe,description:"Require legal professional verification"},{id:"multi_party_approval",label:"Multi-Party Approval",icon:Fn,description:"Require approval from multiple designated parties"},{id:"specific_date",label:"Specific Date",icon:Js,description:"Release on a predetermined date"},{id:"age_requirement",label:"Age Requirement",icon:Wh,description:"Beneficiary must reach a certain age"}],l=f=>{const h={id:Date.now().toString(),type:f,description:"",parameters:{},status:"pending",createdDate:new Date().toISOString().split("T")[0]};i([...s,h])},c=(f,h)=>{i(s.map(p=>p&&p.id===f?{...p,...h}:p).filter(Boolean))},u=f=>{i(s.filter(h=>h&&h.id!==f))},d=f=>{var g,x,_,b,y;if(!f)return null;const h=a.find(m=>m.id===f.type),p=(h==null?void 0:h.icon)||gt;return o.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(p,{className:"w-5 h-5 text-slate-600"}),o.jsx("h4",{className:"font-medium text-slate-900",children:(h==null?void 0:h.label)||"Unknown Type"})]}),o.jsx("button",{onClick:()=>u(f.id),className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(_o,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:f.description||"",onChange:m=>c(f.id,{description:m.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Describe this condition..."})]}),f.type==="time_delay"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Delay (Days)"}),o.jsx("input",{type:"number",value:((g=f.parameters)==null?void 0:g.delayDays)||"",onChange:m=>c(f.id,{parameters:{...f.parameters,delayDays:parseInt(m.target.value)}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Number of days to wait"})]}),f.type==="multi_party_approval"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Required Approvers"}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:r.filter(m=>m).map(m=>{var E,S;return o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:((S=(E=f.parameters)==null?void 0:E.requiredApprovers)==null?void 0:S.includes(m.name))||!1,onChange:N=>{var U;const k=((U=f.parameters)==null?void 0:U.requiredApprovers)||[],R=N.target.checked?[...k,m.name]:k.filter(B=>B!==m.name);c(f.id,{parameters:{...f.parameters,requiredApprovers:R}})},className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:m.name})]},m.id)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Minimum Approvals Required"}),o.jsx("input",{type:"number",value:((x=f.parameters)==null?void 0:x.minimumApprovals)||"",onChange:m=>c(f.id,{parameters:{...f.parameters,minimumApprovals:parseInt(m.target.value)}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Minimum number of approvals needed"})]})]}),f.type==="specific_date"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Release Date"}),o.jsx("input",{type:"date",value:((_=f.parameters)==null?void 0:_.specificDate)||"",onChange:m=>c(f.id,{parameters:{...f.parameters,specificDate:m.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent"})]}),f.type==="age_requirement"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Required Age"}),o.jsx("input",{type:"number",value:((b=f.parameters)==null?void 0:b.requiredAge)||"",onChange:m=>c(f.id,{parameters:{...f.parameters,requiredAge:parseInt(m.target.value)}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent",placeholder:"Minimum age required"})]}),(f.type==="death_certificate"||f.type==="legal_verification")&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:((y=f.parameters)==null?void 0:y.legalDocumentRequired)||!1,onChange:m=>c(f.id,{parameters:{...f.parameters,legalDocumentRequired:m.target.checked}}),className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"}),o.jsx("label",{className:"text-sm text-slate-700",children:"Require notarized legal documentation"})]})]},f.id)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Conditional Release Settings"}),o.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(Jh,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Add Release Conditions"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(f=>{const h=f.icon;return o.jsxs("button",{onClick:()=>l(f.id),className:"flex items-start space-x-3 p-4 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-slate-50 transition-colors text-left",children:[o.jsx(h,{className:"w-5 h-5 text-slate-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900 text-sm",children:f.label}),o.jsx("p",{className:"text-xs text-slate-600 mt-1",children:f.description})]})]},f.id)})})]}),s.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Configured Conditions"}),o.jsx("div",{className:"space-y-4",children:s.filter(f=>f).map(d)})]}),o.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-slate-200",children:[o.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>t(s.filter(f=>f)),className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:"Save Conditions"})]})]})]})})},WA="6.14.4";function UF(r,e,t){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function Zt(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function de(r,e,t){for(let n in e){let s=e[n];const i=t?t[n]:null;i&&UF(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}function Sl(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>Sl(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let s=0;s<r.length;s++)n+=t[r[s]>>4],n+=t[r[s]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return Sl(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${Sl(n,e)}: ${Sl(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ft(r,e){return r&&r.code===e}function p1(r){return Ft(r,"CALL_EXCEPTION")}function tt(r,e,t){let n=r;{const i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Sl(t)}`);for(const a in t){if(a==="shortMessage")continue;const l=t[a];i.push(a+"="+Sl(l))}}i.push(`code=${e}`),i.push(`version=${WA}`),i.length&&(r+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return de(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&de(s,{shortMessage:n}),s}function $(r,e,t,n){if(!r)throw tt(e,t,n)}function C(r,e,t,n){$(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function XA(r,e,t){t==null&&(t=""),t&&(t=": "+t),$(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),$(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}const BF=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(e)}catch{}return r},[]);function JA(r){$(BF.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function Mo(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),$(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function QA(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}C(!1,"invalid BytesLike value",e||"value",r)}function ee(r,e){return QA(r,e,!1)}function Ut(r,e){return QA(r,e,!0)}function He(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function wx(r){return He(r,!0)||r instanceof Uint8Array}const RS="0123456789abcdef";function V(r){const e=ee(r);let t="0x";for(let n=0;n<e.length;n++){const s=e[n];t+=RS[(s&240)>>4]+RS[s&15]}return t}function Le(r){return"0x"+r.map(e=>V(e).substring(2)).join("")}function Ml(r){return He(r,!0)?(r.length-2)/2:ee(r).length}function Ke(r,e,t){const n=ee(r);return t!=null&&t>n.length&&$(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),V(n.slice(e??0,t??n.length))}function YA(r,e,t){const n=ee(r);$(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),V(s)}function si(r,e){return YA(r,e,!0)}function $F(r,e){return YA(r,e,!1)}const _x=BigInt(0),In=BigInt(1),Nl=9007199254740991;function zF(r,e){const t=Sx(r,"value"),n=BigInt(ve(e,"width"));if($(t>>n===_x,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-In){const s=(In<<n)-In;return-((~t&s)+In)}return t}function ZA(r,e){let t=ne(r,"value");const n=BigInt(ve(e,"width")),s=In<<n-In;if(t<_x){t=-t,$(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const i=(In<<n)-In;return(~t&i)+In}else $(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function Vu(r,e){const t=Sx(r,"value"),n=BigInt(ve(e,"bits"));return t&(In<<n)-In}function ne(r,e){switch(typeof r){case"bigint":return r;case"number":return C(Number.isInteger(r),"underflow",e||"value",r),C(r>=-Nl&&r<=Nl,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){C(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}C(!1,"invalid BigNumberish value",e||"value",r)}function Sx(r,e){const t=ne(r,e);return $(t>=_x,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const IS="0123456789abcdef";function Nx(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=IS[t>>4],e+=IS[t&15];return BigInt(e)}return ne(r)}function ve(r,e){switch(typeof r){case"bigint":return C(r>=-Nl&&r<=Nl,"overflow",e||"value",r),Number(r);case"number":return C(Number.isInteger(r),"underflow",e||"value",r),C(r>=-Nl&&r<=Nl,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return ve(BigInt(r),e)}catch(t){C(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}C(!1,"invalid numeric value",e||"value",r)}function VF(r){return ve(Nx(r))}function ii(r,e){let n=Sx(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=ve(e,"width");for($(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}function ot(r){const e=Sx(r,"value");if(e===_x)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}function Rn(r){let e=V(wx(r)?r:ot(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const rp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let vh=null;function HF(r){if(vh==null){vh={};for(let t=0;t<rp.length;t++)vh[rp[t]]=BigInt(t)}const e=vh[r];return C(e!=null,"invalid base58 value","letter",r),e}const GF=BigInt(0),Jb=BigInt(58);function qA(r){const e=ee(r);let t=Nx(e),n="";for(;t;)n=rp[Number(t%Jb)]+n,t/=Jb;for(let s=0;s<e.length&&!e[s];s++)n=rp[0]+n;return n}function KF(r){let e=GF;for(let t=0;t<r.length;t++)e*=Jb,e+=HF(r[t]);return e}function WF(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return ee(e)}function XF(r){const e=ee(r);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}var Bl;class e5{constructor(e,t,n){I(this,"filter");I(this,"emitter");L(this,Bl);j(this,Bl,t),de(this,{emitter:e,filter:n})}async removeListener(){v(this,Bl)!=null&&await this.emitter.off(this.filter,v(this,Bl))}}Bl=new WeakMap;function JF(r,e,t,n,s){C(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function t5(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function QF(r,e,t,n,s){return r==="OVERLONG"?(C(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),t5(r,e,t))}const YF=Object.freeze({error:JF,ignore:t5,replace:QF});function ZF(r,e){e==null&&(e=YF.error);const t=ee(r,"bytes"),n=[];let s=0;for(;s<t.length;){const i=t[s++];if(!(i>>7)){n.push(i);continue}let a=null,l=null;if((i&224)===192)a=1,l=127;else if((i&240)===224)a=2,l=2047;else if((i&248)===240)a=3,l=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+a>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=i&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=t[s];if((d&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|d&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-a,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-a,t,n,c);continue}if(c<=l){s+=e("OVERLONG",s-1-a,t,n,c);continue}n.push(c)}}return n}function cr(r,e){C(typeof r=="string","invalid string value","str",r),e!=null&&(JA(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;const i=r.charCodeAt(n);C(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);const a=65536+((s&1023)<<10)+(i&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function qF(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function np(r,e){return qF(ZF(r,e))}function r5(r){async function e(t,n){$(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=t.url.split(":")[0].toLowerCase();$(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),$(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const a=new AbortController,l=setTimeout(()=>{i=tt("request timeout","TIMEOUT"),a.abort()},t.timeout);n&&n.addListener(()=>{i=tt("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:a.signal});let u;try{u=await fetch(t.url,c)}catch(p){throw clearTimeout(l),i||p}clearTimeout(l);const d={};u.headers.forEach((p,g)=>{d[g.toLowerCase()]=p});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const eU=12,tU=250;let OS=r5();const rU=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),nU=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ly=!1;async function n5(r,e){try{const t=r.match(rU);if(!t)throw new Error("invalid data");return new ia(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?WF(t[3]):iU(t[3]))}catch{return new ia(599,"BAD REQUEST (invalid data: URI)",{},null,new ai(r))}}function s5(r){async function e(t,n){try{const s=t.match(nU);if(!s)throw new Error("invalid link");return new ai(`${r}${s[2]}`)}catch{return new ia(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ai(t))}}return e}const wh={data:n5,ipfs:s5("https://gateway.ipfs.io/ipfs/")},i5=new WeakMap;var za,Ti;class sU{constructor(e){L(this,za);L(this,Ti);j(this,za,[]),j(this,Ti,!1),i5.set(e,()=>{if(!v(this,Ti)){j(this,Ti,!0);for(const t of v(this,za))setTimeout(()=>{t()},0);j(this,za,[])}})}addListener(e){$(!v(this,Ti),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),v(this,za).push(e)}get cancelled(){return v(this,Ti)}checkSignal(){$(!this.cancelled,"cancelled","CANCELLED",{})}}za=new WeakMap,Ti=new WeakMap;function _h(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var $l,zl,Nn,Ps,Vl,Hl,St,Tr,Ts,Va,Ha,Ga,ts,En,Ri,Ka,Hu;const xp=class xp{constructor(e){L(this,Ka);L(this,$l);L(this,zl);L(this,Nn);L(this,Ps);L(this,Vl);L(this,Hl);L(this,St);L(this,Tr);L(this,Ts);L(this,Va);L(this,Ha);L(this,Ga);L(this,ts);L(this,En);L(this,Ri);j(this,Hl,String(e)),j(this,$l,!1),j(this,zl,!0),j(this,Nn,{}),j(this,Ps,""),j(this,Vl,3e5),j(this,En,{slotInterval:tU,maxAttempts:eU}),j(this,Ri,null)}get url(){return v(this,Hl)}set url(e){j(this,Hl,String(e))}get body(){return v(this,St)==null?null:new Uint8Array(v(this,St))}set body(e){if(e==null)j(this,St,void 0),j(this,Tr,void 0);else if(typeof e=="string")j(this,St,cr(e)),j(this,Tr,"text/plain");else if(e instanceof Uint8Array)j(this,St,e),j(this,Tr,"application/octet-stream");else if(typeof e=="object")j(this,St,cr(JSON.stringify(e))),j(this,Tr,"application/json");else throw new Error("invalid body")}hasBody(){return v(this,St)!=null}get method(){return v(this,Ps)?v(this,Ps):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),j(this,Ps,String(e).toUpperCase())}get headers(){const e=Object.assign({},v(this,Nn));return v(this,Ts)&&(e.authorization=`Basic ${XF(cr(v(this,Ts)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&v(this,Tr)&&(e["content-type"]=v(this,Tr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){v(this,Nn)[String(e).toLowerCase()]=String(t)}clearHeaders(){j(this,Nn,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return v(this,Ts)||null}setCredentials(e,t){C(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),j(this,Ts,`${e}:${t}`)}get allowGzip(){return v(this,zl)}set allowGzip(e){j(this,zl,!!e)}get allowInsecureAuthentication(){return!!v(this,$l)}set allowInsecureAuthentication(e){j(this,$l,!!e)}get timeout(){return v(this,Vl)}set timeout(e){C(e>=0,"timeout must be non-zero","timeout",e),j(this,Vl,e)}get preflightFunc(){return v(this,Va)||null}set preflightFunc(e){j(this,Va,e)}get processFunc(){return v(this,Ha)||null}set processFunc(e){j(this,Ha,e)}get retryFunc(){return v(this,Ga)||null}set retryFunc(e){j(this,Ga,e)}get getUrlFunc(){return v(this,Ri)||OS}set getUrlFunc(e){j(this,Ri,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${v(this,St)?V(v(this,St)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(v(this,En).slotInterval=e.slotInterval),e.maxAttempts!=null&&(v(this,En).maxAttempts=e.maxAttempts)}send(){return $(v(this,ts)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),j(this,ts,new sU(this)),K(this,Ka,Hu).call(this,0,MS()+this.timeout,0,this,new ia(0,"",{},null,this))}cancel(){$(v(this,ts)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=i5.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();$(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new xp(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,j(s,Nn,Object.assign({},v(this,Nn))),v(this,St)&&j(s,St,new Uint8Array(v(this,St))),j(s,Tr,v(this,Tr)),s}clone(){const e=new xp(this.url);return j(e,Ps,v(this,Ps)),v(this,St)&&j(e,St,v(this,St)),j(e,Tr,v(this,Tr)),j(e,Nn,Object.assign({},v(this,Nn))),j(e,Ts,v(this,Ts)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),j(e,Va,v(this,Va)),j(e,Ha,v(this,Ha)),j(e,Ga,v(this,Ga)),j(e,En,Object.assign({},v(this,En))),j(e,Ri,v(this,Ri)),e}static lockConfig(){ly=!0}static getGateway(e){return wh[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ly)throw new Error("gateways locked");wh[e]=t}static registerGetUrl(e){if(ly)throw new Error("gateways locked");OS=e}static createGetUrlFunc(e){return r5(e)}static createDataGateway(){return n5}static createIpfsGatewayFunc(e){return s5(e)}};$l=new WeakMap,zl=new WeakMap,Nn=new WeakMap,Ps=new WeakMap,Vl=new WeakMap,Hl=new WeakMap,St=new WeakMap,Tr=new WeakMap,Ts=new WeakMap,Va=new WeakMap,Ha=new WeakMap,Ga=new WeakMap,ts=new WeakMap,En=new WeakMap,Ri=new WeakMap,Ka=new WeakSet,Hu=async function(e,t,n,s,i){var d,f,h;if(e>=v(this,En).maxAttempts)return i.makeServerError("exceeded maximum retry limit");$(MS()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await aU(n);let a=this.clone();const l=(a.url.split(":")[0]||"").toLowerCase();if(l in wh){const p=await wh[l](a.url,_h(v(s,ts)));if(p instanceof ia){let g=p;if(this.processFunc){_h(v(s,ts));try{g=await this.processFunc(a,g)}catch(x){(x.throttle==null||typeof x.stall!="number")&&g.makeServerError("error in post-processing function",x).assertOk()}}return g}a=p}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,_h(v(s,ts)));let u=new ia(c.statusCode,c.statusMessage,c.headers,c.body,s);if(u.statusCode===301||u.statusCode===302){try{const p=u.headers.location||"";return K(d=a.redirect(p),Ka,Hu).call(d,e+1,t,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,e))){const p=u.headers["retry-after"];let g=v(this,En).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(g=parseInt(p)),K(f=a.clone(),Ka,Hu).call(f,e+1,t,g,s,u)}if(this.processFunc){_h(v(s,ts));try{u=await this.processFunc(a,u)}catch(p){(p.throttle==null||typeof p.stall!="number")&&u.makeServerError("error in post-processing function",p).assertOk();let g=v(this,En).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(g=p.stall),K(h=a.clone(),Ka,Hu).call(h,e+1,t,g,s,u)}}return u};let ai=xp;var nf,sf,af,Rr,Gl,Wa;const U1=class U1{constructor(e,t,n,s,i){L(this,nf);L(this,sf);L(this,af);L(this,Rr);L(this,Gl);L(this,Wa);j(this,nf,e),j(this,sf,t),j(this,af,Object.keys(n).reduce((a,l)=>(a[l.toLowerCase()]=String(n[l]),a),{})),j(this,Rr,s==null?null:new Uint8Array(s)),j(this,Gl,i||null),j(this,Wa,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${v(this,Rr)?V(v(this,Rr)):"null"}>`}get statusCode(){return v(this,nf)}get statusMessage(){return v(this,sf)}get headers(){return Object.assign({},v(this,af))}get body(){return v(this,Rr)==null?null:new Uint8Array(v(this,Rr))}get bodyText(){try{return v(this,Rr)==null?"":np(v(this,Rr))}catch{$(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{$(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new U1(599,n,this.headers,this.body,v(this,Gl)||void 0);return j(s,Wa,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:C(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw de(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return v(this,Rr)!=null}get request(){return v(this,Gl)}ok(){return v(this,Wa).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=v(this,Wa);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{v(this,Rr)&&(s=np(v(this,Rr)))}catch{}$(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};nf=new WeakMap,sf=new WeakMap,af=new WeakMap,Rr=new WeakMap,Gl=new WeakMap,Wa=new WeakMap;let ia=U1;function MS(){return new Date().getTime()}function iU(r){return cr(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function aU(r){return new Promise(e=>setTimeout(e,r))}function oU(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function LS(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function DS(r,e,t,n){const s=[];for(;t<e+1+n;){const i=a5(r,t);s.push(i.result),t+=i.consumed,$(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function a5(r,e){$(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{$(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const s=LS(r,e+1,n);return t(e+1+n+s),DS(r,e,e+1+n,n+s)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),DS(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const s=LS(r,e+1,n);t(e+1+n+s);const i=V(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const s=V(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:oU(r[e])}}function If(r){const e=ee(r,"data"),t=a5(e,0);return C(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function FS(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function o5(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(o5(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=FS(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(ee(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=FS(e.length);return t.unshift(183+t.length),t.concat(e)}const US="0123456789abcdef";function oi(r){let e="0x";for(const t of o5(r))e+=US[t>>4],e+=US[t&15];return e}function lU(r){const e=ee(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=V(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const ar=32,Qb=new Uint8Array(ar),cU=["then"],Sh={},l5=new WeakMap;function Pa(r){return l5.get(r)}function BS(r,e){l5.set(r,e)}function Mu(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function Yb(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof $c?Yb(Pa(n),n,t):n):r.reduce((n,s,i)=>{let a=e.getValue(s);return s in n||(t&&a instanceof $c&&(a=Yb(Pa(a),a,t)),n[s]=a),n},{})}var Kl;const El=class El extends Array{constructor(...t){const n=t[0];let s=t[1],i=(t[2]||[]).slice(),a=!0;n!==Sh&&(s=t,i=[],a=!1);super(s.length);L(this,Kl);s.forEach((u,d)=>{this[d]=u});const l=i.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(BS(this,Object.freeze(s.map((u,d)=>{const f=i[d];return f!=null&&l.get(f)===1?f:null}))),j(this,Kl,[]),v(this,Kl)==null&&v(this,Kl),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(u,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const p=ve(d,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=u[p];return g instanceof Error&&Mu(`index ${p}`,g),g}if(cU.indexOf(d)>=0)return Reflect.get(u,d,f);const h=u[d];if(h instanceof Function)return function(...p){return h.apply(this===f?u:this,p)};if(!(d in u))return u.getValue.apply(this===f?u:this,[d])}return Reflect.get(u,d,f)}});return BS(c,Pa(this)),c}toArray(t){const n=[];return this.forEach((s,i)=>{s instanceof Error&&Mu(`index ${i}`,s),t&&s instanceof El&&(s=s.toArray(t)),n.push(s)}),n}toObject(t){const n=Pa(this);return n.reduce((s,i,a)=>($(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Yb(n,this,t)),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=Pa(this),i=[],a=[];for(let l=t;l<n;l++)i.push(this[l]),a.push(s[l]);return new El(Sh,i,a)}filter(t,n){const s=Pa(this),i=[],a=[];for(let l=0;l<this.length;l++){const c=this[l];c instanceof Error&&Mu(`index ${l}`,c),t.call(n,c,l,this)&&(i.push(c),a.push(s[l]))}return new El(Sh,i,a)}map(t,n){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Mu(`index ${i}`,a),s.push(t.call(n,a,i,this))}return s}getValue(t){const n=Pa(this).indexOf(t);if(n===-1)return;const s=this[n];return s instanceof Error&&Mu(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,n){return new El(Sh,t,n)}};Kl=new WeakMap;let $c=El;function $S(r){let e=ot(r);return $(e.length<=ar,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ar,offset:e.length}),e.length!==ar&&(e=Ut(Le([Qb.slice(e.length%ar),e]))),e}class di{constructor(e,t,n,s){I(this,"name");I(this,"type");I(this,"localName");I(this,"dynamic");de(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){C(!1,e,this.localName,t)}}var Rs,Xa,Wl,s0;class Zb{constructor(){L(this,Wl);L(this,Rs);L(this,Xa);j(this,Rs,[]),j(this,Xa,0)}get data(){return Le(v(this,Rs))}get length(){return v(this,Xa)}appendWriter(e){return K(this,Wl,s0).call(this,Ut(e.data))}writeBytes(e){let t=Ut(e);const n=t.length%ar;return n&&(t=Ut(Le([t,Qb.slice(n)]))),K(this,Wl,s0).call(this,t)}writeValue(e){return K(this,Wl,s0).call(this,$S(e))}writeUpdatableValue(){const e=v(this,Rs).length;return v(this,Rs).push(Qb),j(this,Xa,v(this,Xa)+ar),t=>{v(this,Rs)[e]=$S(t)}}}Rs=new WeakMap,Xa=new WeakMap,Wl=new WeakSet,s0=function(e){return v(this,Rs).push(e),j(this,Xa,v(this,Xa)+e.length),e.length};var mr,Ir,Ja,Qa,Ii,ko,ev,c5;const B1=class B1{constructor(e,t,n){L(this,ko);I(this,"allowLoose");L(this,mr);L(this,Ir);L(this,Ja);L(this,Qa);L(this,Ii);de(this,{allowLoose:!!t}),j(this,mr,Ut(e)),j(this,Ja,0),j(this,Qa,null),j(this,Ii,n??1024),j(this,Ir,0)}get data(){return V(v(this,mr))}get dataLength(){return v(this,mr).length}get consumed(){return v(this,Ir)}get bytes(){return new Uint8Array(v(this,mr))}subReader(e){const t=new B1(v(this,mr).slice(v(this,Ir)+e),this.allowLoose,v(this,Ii));return j(t,Qa,this),t}readBytes(e,t){let n=K(this,ko,c5).call(this,0,e,!!t);return K(this,ko,ev).call(this,e),j(this,Ir,v(this,Ir)+n.length),n.slice(0,e)}readValue(){return Nx(this.readBytes(ar))}readIndex(){return VF(this.readBytes(ar))}};mr=new WeakMap,Ir=new WeakMap,Ja=new WeakMap,Qa=new WeakMap,Ii=new WeakMap,ko=new WeakSet,ev=function(e){var t;if(v(this,Qa))return K(t=v(this,Qa),ko,ev).call(t,e);j(this,Ja,v(this,Ja)+e),$(v(this,Ii)<1||v(this,Ja)<=v(this,Ii)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${v(this,Ii)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ut(v(this,mr)),offset:v(this,Ir),length:e,info:{bytesRead:v(this,Ja),dataLength:this.dataLength}})},c5=function(e,t,n){let s=Math.ceil(t/ar)*ar;return v(this,Ir)+s>v(this,mr).length&&(this.allowLoose&&n&&v(this,Ir)+t<=v(this,mr).length?s=t:$(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ut(v(this,mr)),length:v(this,mr).length,offset:v(this,Ir)+s})),v(this,mr).slice(v(this,Ir),v(this,Ir)+s)};let qb=B1;function Lr(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function m1(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function u5(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lr(r.outputLen),Lr(r.blockLen)}function zc(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function d5(r,e){m1(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const cy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f5=r=>r instanceof Uint8Array,i0=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),a0=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Qn=(r,e)=>r<<32-e|r>>>e,uU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!uU)throw new Error("Non little-endian hardware is not supported");const dU=async()=>{};async function zS(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);const i=Date.now()-n;i>=0&&i<e||(await dU(),n+=i)}}function fU(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Vc(r){if(typeof r=="string"&&(r=fU(r)),!f5(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function hU(...r){const e=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let t=0;return r.forEach(n=>{if(!f5(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class x1{clone(){return this._cloneInto()}}const pU={}.toString;function h5(r,e){if(e!==void 0&&pU.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function Ex(r){const e=n=>r().update(Vc(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function mU(r=32){if(cy&&typeof cy.getRandomValues=="function")return cy.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class p5 extends x1{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,u5(e);const n=Vc(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return zc(this),this.iHash.update(e),this}digestInto(e){zc(this),m1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=l,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jx=(r,e,t)=>new p5(r,e).update(t).digest();jx.create=(r,e)=>new p5(r,e);function xU(r,e,t,n){u5(r);const s=h5({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:l}=s;if(Lr(i),Lr(a),Lr(l),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Vc(e),u=Vc(t),d=new Uint8Array(a),f=jx.create(r,c),h=f._cloneInto().update(u);return{c:i,dkLen:a,asyncTick:l,DK:d,PRF:f,PRFSalt:h}}function gU(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function g1(r,e,t,n){const{c:s,dkLen:i,DK:a,PRF:l,PRFSalt:c}=xU(r,e,t,n);let u;const d=new Uint8Array(4),f=a0(d),h=new Uint8Array(l.outputLen);for(let p=1,g=0;g<i;p++,g+=l.outputLen){const x=a.subarray(g,g+l.outputLen);f.setInt32(0,p,!1),(u=c._cloneInto(u)).update(d).digestInto(h),x.set(h.subarray(0,x.length));for(let _=1;_<s;_++){l._cloneInto(u).update(h).digestInto(h);for(let b=0;b<x.length;b++)x[b]^=h[b]}}return gU(l,c,a,u,h)}function yU(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(t>>s&i),l=Number(t&i),c=n?4:0,u=n?0:4;r.setUint32(e+c,a,n),r.setUint32(e+u,l,n)}class y1 extends x1{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=a0(this.buffer)}update(e){zc(this);const{view:t,buffer:n,blockLen:s}=this;e=Vc(e);const i=e.length;for(let a=0;a<i;){const l=Math.min(s-this.pos,i-a);if(l===s){const c=a0(e);for(;s<=i-a;a+=s)this.process(c,a);continue}n.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zc(this),d5(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)t[f]=0;yU(n,s-8,BigInt(this.length*8),i),this.process(n,0);const l=a0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)l.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:i,destroyed:a,pos:l}=this;return e.length=s,e.pos=l,e.finished=i,e.destroyed=a,s%t&&e.buffer.set(n),e}}const bU=(r,e,t)=>r&e^~r&t,vU=(r,e,t)=>r&e^r&t^e&t,wU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bi=new Uint32Array(64);class _U extends y1{constructor(){super(64,32,8,!1),this.A=yi[0]|0,this.B=yi[1]|0,this.C=yi[2]|0,this.D=yi[3]|0,this.E=yi[4]|0,this.F=yi[5]|0,this.G=yi[6]|0,this.H=yi[7]|0}get(){const{A:e,B:t,C:n,D:s,E:i,F:a,G:l,H:c}=this;return[e,t,n,s,i,a,l,c]}set(e,t,n,s,i,a,l,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,t){for(let f=0;f<16;f++,t+=4)bi[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const h=bi[f-15],p=bi[f-2],g=Qn(h,7)^Qn(h,18)^h>>>3,x=Qn(p,17)^Qn(p,19)^p>>>10;bi[f]=x+bi[f-7]+g+bi[f-16]|0}let{A:n,B:s,C:i,D:a,E:l,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const h=Qn(l,6)^Qn(l,11)^Qn(l,25),p=d+h+bU(l,c,u)+wU[f]+bi[f]|0,x=(Qn(n,2)^Qn(n,13)^Qn(n,22))+vU(n,s,i)|0;d=u,u=c,c=l,l=a+p|0,a=i,i=s,s=n,n=p+x|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,s,i,a,l,c,u,d)}roundClean(){bi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const cu=Ex(()=>new _U),Nh=BigInt(2**32-1),tv=BigInt(32);function m5(r,e=!1){return e?{h:Number(r&Nh),l:Number(r>>tv&Nh)}:{h:Number(r>>tv&Nh)|0,l:Number(r&Nh)|0}}function x5(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:a}=m5(r[s],e);[t[s],n[s]]=[i,a]}return[t,n]}const SU=(r,e)=>BigInt(r>>>0)<<tv|BigInt(e>>>0),NU=(r,e,t)=>r>>>t,EU=(r,e,t)=>r<<32-t|e>>>t,jU=(r,e,t)=>r>>>t|e<<32-t,AU=(r,e,t)=>r<<32-t|e>>>t,CU=(r,e,t)=>r<<64-t|e>>>t-32,kU=(r,e,t)=>r>>>t-32|e<<64-t,PU=(r,e)=>e,TU=(r,e)=>r,g5=(r,e,t)=>r<<t|e>>>32-t,y5=(r,e,t)=>e<<t|r>>>32-t,b5=(r,e,t)=>e<<t-32|r>>>64-t,v5=(r,e,t)=>r<<t-32|e>>>64-t;function RU(r,e,t,n){const s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}const IU=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),OU=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,MU=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),LU=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,DU=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),FU=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0,be={fromBig:m5,split:x5,toBig:SU,shrSH:NU,shrSL:EU,rotrSH:jU,rotrSL:AU,rotrBH:CU,rotrBL:kU,rotr32H:PU,rotr32L:TU,rotlSH:g5,rotlSL:y5,rotlBH:b5,rotlBL:v5,add:RU,add3L:IU,add3H:OU,add4L:MU,add4H:LU,add5H:FU,add5L:DU},[UU,BU]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),vi=new Uint32Array(80),wi=new Uint32Array(80);class $U extends y1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:x,Hl:_}=this;return[e,t,n,s,i,a,l,c,u,d,f,h,p,g,x,_]}set(e,t,n,s,i,a,l,c,u,d,f,h,p,g,x,_){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=x|0,this.Hl=_|0}process(e,t){for(let m=0;m<16;m++,t+=4)vi[m]=e.getUint32(t),wi[m]=e.getUint32(t+=4);for(let m=16;m<80;m++){const E=vi[m-15]|0,S=wi[m-15]|0,N=be.rotrSH(E,S,1)^be.rotrSH(E,S,8)^be.shrSH(E,S,7),k=be.rotrSL(E,S,1)^be.rotrSL(E,S,8)^be.shrSL(E,S,7),R=vi[m-2]|0,U=wi[m-2]|0,B=be.rotrSH(R,U,19)^be.rotrBH(R,U,61)^be.shrSH(R,U,6),J=be.rotrSL(R,U,19)^be.rotrBL(R,U,61)^be.shrSL(R,U,6),Q=be.add4L(k,J,wi[m-7],wi[m-16]),Y=be.add4H(Q,N,B,vi[m-7],vi[m-16]);vi[m]=Y|0,wi[m]=Q|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:f,El:h,Fh:p,Fl:g,Gh:x,Gl:_,Hh:b,Hl:y}=this;for(let m=0;m<80;m++){const E=be.rotrSH(f,h,14)^be.rotrSH(f,h,18)^be.rotrBH(f,h,41),S=be.rotrSL(f,h,14)^be.rotrSL(f,h,18)^be.rotrBL(f,h,41),N=f&p^~f&x,k=h&g^~h&_,R=be.add5L(y,S,k,BU[m],wi[m]),U=be.add5H(R,b,E,N,UU[m],vi[m]),B=R|0,J=be.rotrSH(n,s,28)^be.rotrBH(n,s,34)^be.rotrBH(n,s,39),Q=be.rotrSL(n,s,28)^be.rotrBL(n,s,34)^be.rotrBL(n,s,39),Y=n&i^n&l^i&l,oe=s&a^s&c^a&c;b=x|0,y=_|0,x=p|0,_=g|0,p=f|0,g=h|0,{h:f,l:h}=be.add(u|0,d|0,U|0,B|0),u=l|0,d=c|0,l=i|0,c=a|0,i=n|0,a=s|0;const A=be.add3L(B,Q,oe);n=be.add3H(A,U,J,Y),s=A|0}({h:n,l:s}=be.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=be.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:l,l:c}=be.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=be.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=be.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:g}=be.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:x,l:_}=be.add(this.Gh|0,this.Gl|0,x|0,_|0),{h:b,l:y}=be.add(this.Hh|0,this.Hl|0,b|0,y|0),this.set(n,s,i,a,l,c,u,d,f,h,p,g,x,_,b,y)}roundClean(){vi.fill(0),wi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b1=Ex(()=>new $U);function zU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const VS=zU(),HS=VS.crypto||VS.msCrypto;function VU(r){switch(r){case"sha256":return cu.create();case"sha512":return b1.create()}C(!1,"invalid hashing algorithm name","algorithm",r)}function HU(r,e){const t={sha256:cu,sha512:b1}[r];return C(t!=null,"invalid hmac algorithm","algorithm",r),jx.create(t,e)}function GU(r,e,t,n,s){const i={sha256:cu,sha512:b1}[s];return C(i!=null,"invalid pbkdf2 algorithm","algorithm",s),g1(i,r,e,{c:t,dkLen:n})}function KU(r){$(HS!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),C(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return HS.getRandomValues(e),e}let w5=!1;const _5=function(r,e,t){return HU(r,e).update(t).digest()};let S5=_5;function uu(r,e,t){const n=ee(e,"key"),s=ee(t,"data");return V(S5(r,n,s))}uu._=_5;uu.lock=function(){w5=!0};uu.register=function(r){if(w5)throw new Error("computeHmac is locked");S5=r};Object.freeze(uu);const[N5,E5,j5]=[[],[],[]],WU=BigInt(0),Lu=BigInt(1),XU=BigInt(2),JU=BigInt(7),QU=BigInt(256),YU=BigInt(113);for(let r=0,e=Lu,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],N5.push(2*(5*n+t)),E5.push((r+1)*(r+2)/2%64);let s=WU;for(let i=0;i<7;i++)e=(e<<Lu^(e>>JU)*YU)%QU,e&XU&&(s^=Lu<<(Lu<<BigInt(i))-Lu);j5.push(s)}const[ZU,qU]=x5(j5,!0),GS=(r,e,t)=>t>32?b5(r,e,t):g5(r,e,t),KS=(r,e,t)=>t>32?v5(r,e,t):y5(r,e,t);function eB(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=t[c],d=t[c+1],f=GS(u,d,1)^t[l],h=KS(u,d,1)^t[l+1];for(let p=0;p<50;p+=10)r[a+p]^=f,r[a+p+1]^=h}let s=r[2],i=r[3];for(let a=0;a<24;a++){const l=E5[a],c=GS(s,i,l),u=KS(s,i,l),d=N5[a];s=r[d],i=r[d+1],r[d]=c,r[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)t[l]=r[a+l];for(let l=0;l<10;l++)r[a+l]^=~t[(l+2)%10]&t[(l+4)%10]}r[0]^=ZU[n],r[1]^=qU[n]}t.fill(0)}class v1 extends x1{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Lr(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=i0(this.state)}keccak(){eB(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){zc(this);const{blockLen:t,state:n}=this;e=Vc(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(t-this.pos,s-i);for(let l=0;l<a;l++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,t&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){zc(this,!1),m1(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Lr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(d5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new v1(t,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const tB=(r,e,t)=>Ex(()=>new v1(e,r,t)),rB=tB(1,136,256/8);let A5=!1;const C5=function(r){return rB(r)};let k5=C5;function et(r){const e=ee(r,"data");return V(k5(e))}et._=C5;et.lock=function(){A5=!0};et.register=function(r){if(A5)throw new TypeError("keccak256 is locked");k5=r};Object.freeze(et);const nB=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),P5=Uint8Array.from({length:16},(r,e)=>e),sB=P5.map(r=>(9*r+5)%16);let w1=[P5],_1=[sB];for(let r=0;r<4;r++)for(let e of[w1,_1])e.push(e[r].map(t=>nB[t]));const T5=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),iB=w1.map((r,e)=>r.map(t=>T5[e][t])),aB=_1.map((r,e)=>r.map(t=>T5[e][t])),oB=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),lB=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Eh=(r,e)=>r<<e|r>>>32-e;function WS(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const jh=new Uint32Array(16);class cB extends y1{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let p=0;p<16;p++,t+=4)jh[p]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,a=i,l=this.h2|0,c=l,u=this.h3|0,d=u,f=this.h4|0,h=f;for(let p=0;p<5;p++){const g=4-p,x=oB[p],_=lB[p],b=w1[p],y=_1[p],m=iB[p],E=aB[p];for(let S=0;S<16;S++){const N=Eh(n+WS(p,i,l,u)+jh[b[S]]+x,m[S])+f|0;n=f,f=u,u=Eh(l,10)|0,l=i,i=N}for(let S=0;S<16;S++){const N=Eh(s+WS(g,a,c,d)+jh[y[S]]+_,E[S])+h|0;s=h,h=d,d=Eh(c,10)|0,c=a,a=N}}this.set(this.h1+l+d|0,this.h2+u+h|0,this.h3+f+s|0,this.h4+n+a|0,this.h0+i+c|0)}roundClean(){jh.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const uB=Ex(()=>new cB);let R5=!1;const I5=function(r){return uB(r)};let O5=I5;function du(r){const e=ee(r,"data");return V(O5(e))}du._=I5;du.lock=function(){R5=!0};du.register=function(r){if(R5)throw new TypeError("ripemd160 is locked");O5=r};Object.freeze(du);let M5=!1;const L5=function(r,e,t,n,s){return GU(r,e,t,n,s)};let D5=L5;function xa(r,e,t,n,s){const i=ee(r,"password"),a=ee(e,"salt");return V(D5(i,a,t,n,s))}xa._=L5;xa.lock=function(){M5=!0};xa.register=function(r){if(M5)throw new Error("pbkdf2 is locked");D5=r};Object.freeze(xa);let F5=!1;const U5=function(r){return new Uint8Array(KU(r))};let B5=U5;function Ys(r){return B5(r)}Ys._=U5;Ys.lock=function(){F5=!0};Ys.register=function(r){if(F5)throw new Error("randomBytes is locked");B5=r};Object.freeze(Ys);const Re=(r,e)=>r<<e|r>>>32-e;function XS(r,e,t,n,s,i){let a=r[e++]^t[n++],l=r[e++]^t[n++],c=r[e++]^t[n++],u=r[e++]^t[n++],d=r[e++]^t[n++],f=r[e++]^t[n++],h=r[e++]^t[n++],p=r[e++]^t[n++],g=r[e++]^t[n++],x=r[e++]^t[n++],_=r[e++]^t[n++],b=r[e++]^t[n++],y=r[e++]^t[n++],m=r[e++]^t[n++],E=r[e++]^t[n++],S=r[e++]^t[n++],N=a,k=l,R=c,U=u,B=d,J=f,Q=h,Y=p,oe=g,A=x,O=_,Z=b,P=y,F=m,T=E,W=S;for(let G=0;G<8;G+=2)B^=Re(N+P|0,7),oe^=Re(B+N|0,9),P^=Re(oe+B|0,13),N^=Re(P+oe|0,18),A^=Re(J+k|0,7),F^=Re(A+J|0,9),k^=Re(F+A|0,13),J^=Re(k+F|0,18),T^=Re(O+Q|0,7),R^=Re(T+O|0,9),Q^=Re(R+T|0,13),O^=Re(Q+R|0,18),U^=Re(W+Z|0,7),Y^=Re(U+W|0,9),Z^=Re(Y+U|0,13),W^=Re(Z+Y|0,18),k^=Re(N+U|0,7),R^=Re(k+N|0,9),U^=Re(R+k|0,13),N^=Re(U+R|0,18),Q^=Re(J+B|0,7),Y^=Re(Q+J|0,9),B^=Re(Y+Q|0,13),J^=Re(B+Y|0,18),Z^=Re(O+A|0,7),oe^=Re(Z+O|0,9),A^=Re(oe+Z|0,13),O^=Re(A+oe|0,18),P^=Re(W+T|0,7),F^=Re(P+W|0,9),T^=Re(F+P|0,13),W^=Re(T+F|0,18);s[i++]=a+N|0,s[i++]=l+k|0,s[i++]=c+R|0,s[i++]=u+U|0,s[i++]=d+B|0,s[i++]=f+J|0,s[i++]=h+Q|0,s[i++]=p+Y|0,s[i++]=g+oe|0,s[i++]=x+A|0,s[i++]=_+O|0,s[i++]=b+Z|0,s[i++]=y+P|0,s[i++]=m+F|0,s[i++]=E+T|0,s[i++]=S+W|0}function Ll(r,e,t,n,s){let i=n+0,a=n+16*s;for(let l=0;l<16;l++)t[a+l]=r[e+(2*s-1)*16+l];for(let l=0;l<s;l++,i+=16,e+=16)XS(t,a,r,e,t,i),l>0&&(a+=16),XS(t,i,r,e+=16,t,a)}function $5(r,e,t){const n=h5({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:a,dkLen:l,asyncTick:c,maxmem:u,onProgress:d}=n;if(Lr(s),Lr(i),Lr(a),Lr(l),Lr(c),Lr(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const f=128*i,h=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=f*(s+a);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const g=g1(cu,r,e,{c:1,dkLen:f*a}),x=i0(g),_=i0(new Uint8Array(f*s)),b=i0(new Uint8Array(f));let y=()=>{};if(d){const m=2*s*a,E=Math.max(Math.floor(m/1e4),1);let S=0;y=()=>{S++,d&&(!(S%E)||S===m)&&d(S/m)}}return{N:s,r:i,p:a,dkLen:l,blockSize32:h,V:_,B32:x,B:g,tmp:b,blockMixCb:y,asyncTick:c}}function z5(r,e,t,n,s){const i=g1(cu,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function dB(r,e,t){const{N:n,r:s,p:i,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:f,blockMixCb:h}=$5(r,e,t);for(let p=0;p<i;p++){const g=l*p;for(let x=0;x<l;x++)c[x]=u[g+x];for(let x=0,_=0;x<n-1;x++)Ll(c,_,c,_+=l,s),h();Ll(c,(n-1)*l,u,g,s),h();for(let x=0;x<n;x++){const _=u[g+l-16]%n;for(let b=0;b<l;b++)f[b]=u[g+b]^c[_*l+b];Ll(f,0,u,g,s),h()}}return z5(r,a,d,c,f)}async function fB(r,e,t){const{N:n,r:s,p:i,dkLen:a,blockSize32:l,V:c,B32:u,B:d,tmp:f,blockMixCb:h,asyncTick:p}=$5(r,e,t);for(let g=0;g<i;g++){const x=l*g;for(let b=0;b<l;b++)c[b]=u[x+b];let _=0;await zS(n-1,p,()=>{Ll(c,_,c,_+=l,s),h()}),Ll(c,(n-1)*l,u,x,s),h(),await zS(n,p,()=>{const b=u[x+l-16]%n;for(let y=0;y<l;y++)f[y]=u[x+y]^c[b*l+y];Ll(f,0,u,x,s),h()})}return z5(r,a,d,c,f)}let V5=!1,H5=!1;const G5=async function(r,e,t,n,s,i,a){return await fB(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:a})},K5=function(r,e,t,n,s,i){return dB(r,e,{N:t,r:n,p:s,dkLen:i})};let W5=G5,X5=K5;async function fu(r,e,t,n,s,i,a){const l=ee(r,"passwd"),c=ee(e,"salt");return V(await W5(l,c,t,n,s,i,a))}fu._=G5;fu.lock=function(){H5=!0};fu.register=function(r){if(H5)throw new Error("scrypt is locked");W5=r};Object.freeze(fu);function hu(r,e,t,n,s,i){const a=ee(r,"passwd"),l=ee(e,"salt");return V(X5(a,l,t,n,s,i))}hu._=K5;hu.lock=function(){V5=!0};hu.register=function(r){if(V5)throw new Error("scryptSync is locked");X5=r};Object.freeze(hu);const J5=function(r){return VU("sha256").update(r).digest()};let Q5=J5,Y5=!1;function pn(r){const e=ee(r,"data");return V(Q5(e))}pn._=J5;pn.lock=function(){Y5=!0};pn.register=function(r){if(Y5)throw new Error("sha256 is locked");Q5=r};Object.freeze(pn);Object.freeze(pn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z5=BigInt(0),Ax=BigInt(1),hB=BigInt(2),Cx=r=>r instanceof Uint8Array,pB=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Hc(r){if(!Cx(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=pB[r[t]];return e}function q5(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function S1(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function Gc(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const s=n*2,i=r.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[n]=a}return t}function mo(r){return S1(Hc(r))}function N1(r){if(!Cx(r))throw new Error("Uint8Array expected");return S1(Hc(Uint8Array.from(r).reverse()))}function Kc(r,e){return Gc(r.toString(16).padStart(e*2,"0"))}function E1(r,e){return Kc(r,e).reverse()}function mB(r){return Gc(q5(r))}function Sn(r,e,t){let n;if(typeof e=="string")try{n=Gc(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Cx(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}function Hd(...r){const e=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let t=0;return r.forEach(n=>{if(!Cx(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function xB(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function gB(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function yB(r){let e;for(e=0;r>Z5;r>>=Ax,e+=1);return e}function bB(r,e){return r>>BigInt(e)&Ax}const vB=(r,e,t)=>r|(t?Ax:Z5)<<BigInt(e),j1=r=>(hB<<BigInt(r-1))-Ax,uy=r=>new Uint8Array(r),JS=r=>Uint8Array.from(r);function e8(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=uy(r),s=uy(r),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},l=(...f)=>t(s,n,...f),c=(f=uy())=>{s=l(JS([0]),f),n=l(),f.length!==0&&(s=l(JS([1]),f),n=l())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=l();const p=n.slice();h.push(p),f+=n.length}return Hd(...h)};return(f,h)=>{a(),c(f);let p;for(;!(p=h(u()));)c();return a(),p}}const wB={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Of(r,e,t={}){const n=(s,i,a)=>{const l=wB[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=r[s];if(!(a&&c===void 0)&&!l(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(t))n(s,i,!0);return r}const _B=Object.freeze(Object.defineProperty({__proto__:null,bitGet:bB,bitLen:yB,bitMask:j1,bitSet:vB,bytesToHex:Hc,bytesToNumberBE:mo,bytesToNumberLE:N1,concatBytes:Hd,createHmacDrbg:e8,ensureBytes:Sn,equalBytes:xB,hexToBytes:Gc,hexToNumber:S1,numberToBytesBE:Kc,numberToBytesLE:E1,numberToHexUnpadded:q5,numberToVarBytesBE:mB,utf8ToBytes:gB,validateObject:Of},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),dt=BigInt(1),Ta=BigInt(2),SB=BigInt(3),rv=BigInt(4),QS=BigInt(5),YS=BigInt(8);BigInt(9);BigInt(16);function gr(r,e){const t=r%e;return t>=Pt?t:e+t}function NB(r,e,t){if(t<=Pt||e<Pt)throw new Error("Expected power/modulo > 0");if(t===dt)return Pt;let n=dt;for(;e>Pt;)e&dt&&(n=n*r%t),r=r*r%t,e>>=dt;return n}function Xr(r,e,t){let n=r;for(;e-- >Pt;)n*=n,n%=t;return n}function nv(r,e){if(r===Pt||e<=Pt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=gr(r,e),n=e,s=Pt,i=dt;for(;t!==Pt;){const l=n/t,c=n%t,u=s-i*l;n=t,t=c,s=i,i=u}if(n!==dt)throw new Error("invert: does not exist");return gr(s,e)}function EB(r){const e=(r-dt)/Ta;let t,n,s;for(t=r-dt,n=0;t%Ta===Pt;t/=Ta,n++);for(s=Ta;s<r&&NB(s,e,r)!==r-dt;s++);if(n===1){const a=(r+dt)/rv;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(t+dt)/Ta;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=n,d=l.pow(l.mul(l.ONE,s),t),f=l.pow(c,i),h=l.pow(c,t);for(;!l.eql(h,l.ONE);){if(l.eql(h,l.ZERO))return l.ZERO;let p=1;for(let x=l.sqr(h);p<u&&!l.eql(x,l.ONE);p++)x=l.sqr(x);const g=l.pow(d,dt<<BigInt(u-p-1));d=l.sqr(g),f=l.mul(f,g),h=l.mul(h,d),u=p}return f}}function jB(r){if(r%rv===SB){const e=(r+dt)/rv;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%YS===QS){const e=(r-QS)/YS;return function(n,s){const i=n.mul(s,Ta),a=n.pow(i,e),l=n.mul(s,a),c=n.mul(n.mul(l,Ta),a),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),s))throw new Error("Cannot find square root");return u}}return EB(r)}const AB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CB(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=AB.reduce((n,s)=>(n[s]="function",n),e);return Of(r,t)}function kB(r,e,t){if(t<Pt)throw new Error("Expected power > 0");if(t===Pt)return r.ONE;if(t===dt)return e;let n=r.ONE,s=e;for(;t>Pt;)t&dt&&(n=r.mul(n,s)),s=r.sqr(s),t>>=dt;return n}function PB(r,e){const t=new Array(e.length),n=e.reduce((i,a,l)=>r.is0(a)?i:(t[l]=i,r.mul(i,a)),r.ONE),s=r.inv(n);return e.reduceRight((i,a,l)=>r.is0(a)?i:(t[l]=r.mul(i,t[l]),r.mul(i,a)),s),t}function t8(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function TB(r,e,t=!1,n={}){if(r<=Pt)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:s,nByteLength:i}=t8(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=jB(r),l=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:j1(s),ZERO:Pt,ONE:dt,create:c=>gr(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Pt<=c&&c<r},is0:c=>c===Pt,isOdd:c=>(c&dt)===dt,neg:c=>gr(-c,r),eql:(c,u)=>c===u,sqr:c=>gr(c*c,r),add:(c,u)=>gr(c+u,r),sub:(c,u)=>gr(c-u,r),mul:(c,u)=>gr(c*u,r),pow:(c,u)=>kB(l,c,u),div:(c,u)=>gr(c*nv(u,r),r),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>nv(c,r),sqrt:n.sqrt||(c=>a(l,c)),invertBatch:c=>PB(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>t?E1(c,i):Kc(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?N1(c):mo(c)}});return Object.freeze(l)}function r8(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function n8(r){const e=r8(r);return e+Math.ceil(e/2)}function RB(r,e,t=!1){const n=r.length,s=r8(e),i=n8(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=t?mo(r):N1(r),l=gr(a,e-dt)+dt;return t?E1(l,s):Kc(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IB=BigInt(0),dy=BigInt(1);function OB(r,e){const t=(s,i)=>{const a=i.negate();return s?a:i},n=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:t,unsafeLadder(s,i){let a=r.ZERO,l=s;for(;i>IB;)i&dy&&(a=a.add(l)),l=l.double(),i>>=dy;return a},precomputeWindow(s,i){const{windows:a,windowSize:l}=n(i),c=[];let u=s,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let h=1;h<l;h++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(s,i,a){const{windows:l,windowSize:c}=n(s);let u=r.ZERO,d=r.BASE;const f=BigInt(2**s-1),h=2**s,p=BigInt(s);for(let g=0;g<l;g++){const x=g*c;let _=Number(a&f);a>>=p,_>c&&(_-=h,a+=dy);const b=x,y=x+Math.abs(_)-1,m=g%2!==0,E=_<0;_===0?d=d.add(t(m,i[b])):u=u.add(t(E,i[y]))}return{p:u,f:d}},wNAFCached(s,i,a,l){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,l(u))),this.wNAF(c,u,a)}}}function s8(r){return CB(r.Fp),Of(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...t8(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MB(r){const e=s8(r);Of(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:LB,hexToBytes:DB}=_B,Ua={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=Ua;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:LB(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=Ua,t=typeof r=="string"?DB(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Ua._parseInt(t.subarray(2)),{d:a,l}=Ua._parseInt(i);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(r){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},n=e(t(r.s)),s=e(t(r.r)),i=n.length/2,a=s.length/2,l=t(i),c=t(a);return`30${t(a+i+4)}02${c}${s}02${l}${n}`}},zs=BigInt(0),an=BigInt(1);BigInt(2);const ZS=BigInt(3);BigInt(4);function FB(r){const e=MB(r),{Fp:t}=e,n=e.toBytes||((g,x,_)=>{const b=x.toAffine();return Hd(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(g=>{const x=g.subarray(1),_=t.fromBytes(x.subarray(0,t.BYTES)),b=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:_,y:b}});function i(g){const{a:x,b:_}=e,b=t.sqr(g),y=t.mul(b,g);return t.add(t.add(y,t.mul(g,x)),_)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&zs<g&&g<e.n}function l(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:x,nByteLength:_,wrapPrivateKey:b,n:y}=e;if(x&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=Hc(g)),typeof g!="string"||!x.includes(g.length))throw new Error("Invalid key");g=g.padStart(_*2,"0")}let m;try{m=typeof g=="bigint"?g:mo(Sn("private key",g,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof g}`)}return b&&(m=gr(m,y)),l(m),m}const u=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(x,_,b){if(this.px=x,this.py=_,this.pz=b,x==null||!t.isValid(x))throw new Error("x required");if(_==null||!t.isValid(_))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required")}static fromAffine(x){const{x:_,y:b}=x||{};if(!x||!t.isValid(_)||!t.isValid(b))throw new Error("invalid affine point");if(x instanceof f)throw new Error("projective point not allowed");const y=m=>t.eql(m,t.ZERO);return y(_)&&y(b)?f.ZERO:new f(_,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const _=t.invertBatch(x.map(b=>b.pz));return x.map((b,y)=>b.toAffine(_[y])).map(f.fromAffine)}static fromHex(x){const _=f.fromAffine(s(Sn("pointHex",x)));return _.assertValidity(),_}static fromPrivateKey(x){return f.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:_}=this.toAffine();if(!t.isValid(x)||!t.isValid(_))throw new Error("bad point: x or y not FE");const b=t.sqr(_),y=i(x);if(!t.eql(b,y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(t.isOdd)return!t.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:_,py:b,pz:y}=this,{px:m,py:E,pz:S}=x,N=t.eql(t.mul(_,S),t.mul(m,y)),k=t.eql(t.mul(b,S),t.mul(E,y));return N&&k}negate(){return new f(this.px,t.neg(this.py),this.pz)}double(){const{a:x,b:_}=e,b=t.mul(_,ZS),{px:y,py:m,pz:E}=this;let S=t.ZERO,N=t.ZERO,k=t.ZERO,R=t.mul(y,y),U=t.mul(m,m),B=t.mul(E,E),J=t.mul(y,m);return J=t.add(J,J),k=t.mul(y,E),k=t.add(k,k),S=t.mul(x,k),N=t.mul(b,B),N=t.add(S,N),S=t.sub(U,N),N=t.add(U,N),N=t.mul(S,N),S=t.mul(J,S),k=t.mul(b,k),B=t.mul(x,B),J=t.sub(R,B),J=t.mul(x,J),J=t.add(J,k),k=t.add(R,R),R=t.add(k,R),R=t.add(R,B),R=t.mul(R,J),N=t.add(N,R),B=t.mul(m,E),B=t.add(B,B),R=t.mul(B,J),S=t.sub(S,R),k=t.mul(B,U),k=t.add(k,k),k=t.add(k,k),new f(S,N,k)}add(x){d(x);const{px:_,py:b,pz:y}=this,{px:m,py:E,pz:S}=x;let N=t.ZERO,k=t.ZERO,R=t.ZERO;const U=e.a,B=t.mul(e.b,ZS);let J=t.mul(_,m),Q=t.mul(b,E),Y=t.mul(y,S),oe=t.add(_,b),A=t.add(m,E);oe=t.mul(oe,A),A=t.add(J,Q),oe=t.sub(oe,A),A=t.add(_,y);let O=t.add(m,S);return A=t.mul(A,O),O=t.add(J,Y),A=t.sub(A,O),O=t.add(b,y),N=t.add(E,S),O=t.mul(O,N),N=t.add(Q,Y),O=t.sub(O,N),R=t.mul(U,A),N=t.mul(B,Y),R=t.add(N,R),N=t.sub(Q,R),R=t.add(Q,R),k=t.mul(N,R),Q=t.add(J,J),Q=t.add(Q,J),Y=t.mul(U,Y),A=t.mul(B,A),Q=t.add(Q,Y),Y=t.sub(J,Y),Y=t.mul(U,Y),A=t.add(A,Y),J=t.mul(Q,A),k=t.add(k,J),J=t.mul(O,A),N=t.mul(oe,N),N=t.sub(N,J),J=t.mul(oe,Q),R=t.mul(O,R),R=t.add(R,J),new f(N,k,R)}subtract(x){return this.add(x.negate())}is0(){return this.equals(f.ZERO)}wNAF(x){return p.wNAFCached(this,u,x,_=>{const b=t.invertBatch(_.map(y=>y.pz));return _.map((y,m)=>y.toAffine(b[m])).map(f.fromAffine)})}multiplyUnsafe(x){const _=f.ZERO;if(x===zs)return _;if(l(x),x===an)return this;const{endo:b}=e;if(!b)return p.unsafeLadder(this,x);let{k1neg:y,k1:m,k2neg:E,k2:S}=b.splitScalar(x),N=_,k=_,R=this;for(;m>zs||S>zs;)m&an&&(N=N.add(R)),S&an&&(k=k.add(R)),R=R.double(),m>>=an,S>>=an;return y&&(N=N.negate()),E&&(k=k.negate()),k=new f(t.mul(k.px,b.beta),k.py,k.pz),N.add(k)}multiply(x){l(x);let _=x,b,y;const{endo:m}=e;if(m){const{k1neg:E,k1:S,k2neg:N,k2:k}=m.splitScalar(_);let{p:R,f:U}=this.wNAF(S),{p:B,f:J}=this.wNAF(k);R=p.constTimeNegate(E,R),B=p.constTimeNegate(N,B),B=new f(t.mul(B.px,m.beta),B.py,B.pz),b=R.add(B),y=U.add(J)}else{const{p:E,f:S}=this.wNAF(_);b=E,y=S}return f.normalizeZ([b,y])[0]}multiplyAndAddUnsafe(x,_,b){const y=f.BASE,m=(S,N)=>N===zs||N===an||!S.equals(y)?S.multiplyUnsafe(N):S.multiply(N),E=m(this,_).add(m(x,b));return E.is0()?void 0:E}toAffine(x){const{px:_,py:b,pz:y}=this,m=this.is0();x==null&&(x=m?t.ONE:t.inv(y));const E=t.mul(_,x),S=t.mul(b,x),N=t.mul(y,x);if(m)return{x:t.ZERO,y:t.ZERO};if(!t.eql(N,t.ONE))throw new Error("invZ was invalid");return{x:E,y:S}}isTorsionFree(){const{h:x,isTorsionFree:_}=e;if(x===an)return!0;if(_)return _(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:_}=e;return x===an?this:_?_(f,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(f,this,x)}toHex(x=!0){return Hc(this.toRawBytes(x))}}f.BASE=new f(e.Gx,e.Gy,t.ONE),f.ZERO=new f(t.ZERO,t.ONE,t.ZERO);const h=e.nBitLength,p=OB(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function UB(r){const e=s8(r);return Of(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function BB(r){const e=UB(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function a(A){return zs<A&&A<t.ORDER}function l(A){return gr(A,n)}function c(A){return nv(A,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=FB({...e,toBytes(A,O,Z){const P=O.toAffine(),F=t.toBytes(P.x),T=Hd;return Z?T(Uint8Array.from([O.hasEvenY()?2:3]),F):T(Uint8Array.from([4]),F,t.toBytes(P.y))},fromBytes(A){const O=A.length,Z=A[0],P=A.subarray(1);if(O===s&&(Z===2||Z===3)){const F=mo(P);if(!a(F))throw new Error("Point is not on curve");const T=f(F);let W=t.sqrt(T);const G=(W&an)===an;return(Z&1)===1!==G&&(W=t.neg(W)),{x:F,y:W}}else if(O===i&&Z===4){const F=t.fromBytes(P.subarray(0,t.BYTES)),T=t.fromBytes(P.subarray(t.BYTES,2*t.BYTES));return{x:F,y:T}}else throw new Error(`Point of length ${O} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=A=>Hc(Kc(A,e.nByteLength));function g(A){const O=n>>an;return A>O}function x(A){return g(A)?l(-A):A}const _=(A,O,Z)=>mo(A.slice(O,Z));class b{constructor(O,Z,P){this.r=O,this.s=Z,this.recovery=P,this.assertValidity()}static fromCompact(O){const Z=e.nByteLength;return O=Sn("compactSignature",O,Z*2),new b(_(O,0,Z),_(O,Z,2*Z))}static fromDER(O){const{r:Z,s:P}=Ua.toSig(Sn("DER",O));return new b(Z,P)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new b(this.r,this.s,O)}recoverPublicKey(O){const{r:Z,s:P,recovery:F}=this,T=k(Sn("msgHash",O));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const W=F===2||F===3?Z+e.n:Z;if(W>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=F&1?"03":"02",pe=u.fromHex(G+p(W)),X=c(W),he=l(-T*X),le=l(P*X),$e=u.BASE.multiplyAndAddUnsafe(pe,he,le);if(!$e)throw new Error("point at infinify");return $e.assertValidity(),$e}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Gc(this.toDERHex())}toDERHex(){return Ua.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const y={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=n8(e.n);return RB(e.randomBytes(A),e.n)},precompute(A=8,O=u.BASE){return O._setWindowSize(A),O.multiply(BigInt(3)),O}};function m(A,O=!0){return u.fromPrivateKey(A).toRawBytes(O)}function E(A){const O=A instanceof Uint8Array,Z=typeof A=="string",P=(O||Z)&&A.length;return O?P===s||P===i:Z?P===2*s||P===2*i:A instanceof u}function S(A,O,Z=!0){if(E(A))throw new Error("first arg must be private key");if(!E(O))throw new Error("second arg must be public key");return u.fromHex(O).multiply(d(A)).toRawBytes(Z)}const N=e.bits2int||function(A){const O=mo(A),Z=A.length*8-e.nBitLength;return Z>0?O>>BigInt(Z):O},k=e.bits2int_modN||function(A){return l(N(A))},R=j1(e.nBitLength);function U(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(zs<=A&&A<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Kc(A,e.nByteLength)}function B(A,O,Z=J){if(["recovered","canonical"].some(zr=>zr in Z))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:F}=e;let{lowS:T,prehash:W,extraEntropy:G}=Z;T==null&&(T=!0),A=Sn("msgHash",A),W&&(A=Sn("prehashed msgHash",P(A)));const pe=k(A),X=d(O),he=[U(X),U(pe)];if(G!=null){const zr=G===!0?F(t.BYTES):G;he.push(Sn("extraEntropy",zr))}const le=Hd(...he),$e=pe;function bs(zr){const z=N(zr);if(!h(z))return;const q=c(z),ce=u.BASE.multiply(z).toAffine(),fe=l(ce.x);if(fe===zs)return;const Xe=l(q*l($e+fe*X));if(Xe===zs)return;let fi=(ce.x===fe?0:2)|Number(ce.y&an),te=Xe;return T&&g(Xe)&&(te=x(Xe),fi^=1),new b(fe,te,fi)}return{seed:le,k2sig:bs}}const J={lowS:e.lowS,prehash:!1},Q={lowS:e.lowS,prehash:!1};function Y(A,O,Z=J){const{seed:P,k2sig:F}=B(A,O,Z),T=e;return e8(T.hash.outputLen,T.nByteLength,T.hmac)(P,F)}u.BASE._setWindowSize(8);function oe(A,O,Z,P=Q){var ce;const F=A;if(O=Sn("msgHash",O),Z=Sn("publicKey",Z),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:W}=P;let G,pe;try{if(typeof F=="string"||F instanceof Uint8Array)try{G=b.fromDER(F)}catch(fe){if(!(fe instanceof Ua.Err))throw fe;G=b.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:fe,s:Xe}=F;G=new b(fe,Xe)}else throw new Error("PARSE");pe=u.fromHex(Z)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&G.hasHighS())return!1;W&&(O=e.hash(O));const{r:X,s:he}=G,le=k(O),$e=c(he),bs=l(le*$e),zr=l(X*$e),z=(ce=u.BASE.multiplyAndAddUnsafe(pe,bs,zr))==null?void 0:ce.toAffine();return z?l(z.x)===X:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:S,sign:Y,verify:oe,ProjectivePoint:u,Signature:b,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $B(r){return{hash:r,hmac:(e,...t)=>jx(r,e,hU(...t)),randomBytes:mU}}function zB(r,e){const t=n=>BB({...r,...$B(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),VB=BigInt(1),sv=BigInt(2),eN=(r,e)=>(r+e/sv)/e;function HB(r){const e=i8,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=r*r*r%e,d=u*u*r%e,f=Xr(d,t,e)*d%e,h=Xr(f,t,e)*d%e,p=Xr(h,sv,e)*u%e,g=Xr(p,s,e)*p%e,x=Xr(g,i,e)*g%e,_=Xr(x,l,e)*x%e,b=Xr(_,c,e)*_%e,y=Xr(b,l,e)*x%e,m=Xr(y,t,e)*d%e,E=Xr(m,a,e)*g%e,S=Xr(E,n,e)*u%e,N=Xr(S,sv,e);if(!iv.eql(iv.sqr(N),r))throw new Error("Cannot find square root");return N}const iv=TB(i8,void 0,void 0,{sqrt:HB}),Ni=zB({a:BigInt(0),b:BigInt(7),Fp:iv,n:qS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=qS,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-VB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,a=BigInt("0x100000000000000000000000000000000"),l=eN(i*r,e),c=eN(-n*r,e);let u=gr(r-l*t-c*s,e),d=gr(-l*n-c*i,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},cu);BigInt(0);Ni.ProjectivePoint;const Gd="0x0000000000000000000000000000000000000000",tN="0x0000000000000000000000000000000000000000000000000000000000000000",GB=`Ethereum Signed Message:
`,rN=BigInt(0),nN=BigInt(1),sN=BigInt(2),iN=BigInt(27),aN=BigInt(28),Ah=BigInt(35),tl={};function oN(r){return si(ot(r),32)}var Xl,Jl,Ql,Ya;const vn=class vn{constructor(e,t,n,s){L(this,Xl);L(this,Jl);L(this,Ql);L(this,Ya);Mo(e,tl,"Signature"),j(this,Xl,t),j(this,Jl,n),j(this,Ql,s),j(this,Ya,null)}get r(){return v(this,Xl)}set r(e){C(Ml(e)===32,"invalid r","value",e),j(this,Xl,V(e))}get s(){return v(this,Jl)}set s(e){C(Ml(e)===32,"invalid s","value",e);const t=V(e);C(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),j(this,Jl,t)}get v(){return v(this,Ql)}set v(e){const t=ve(e,"value");C(t===27||t===28,"invalid v","v",e),j(this,Ql,t)}get networkV(){return v(this,Ya)}get legacyChainId(){const e=this.networkV;return e==null?null:vn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ee(this.s);return this.yParity&&(e[0]|=128),V(e)}get compactSerialized(){return Le([this.r,this.yParityAndS])}get serialized(){return Le([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new vn(tl,this.r,this.s,this.v);return this.networkV&&j(e,Ya,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=ne(e,"v");return t==iN||t==aN?rN:(C(t>=Ah,"invalid EIP-155 v","v",e),(t-Ah)/sN)}static getChainIdV(e,t){return ne(e)*sN+BigInt(35+t-27)}static getNormalizedV(e){const t=ne(e);return t===rN||t===iN?27:t===nN||t===aN?28:(C(t>=Ah,"invalid v","v",e),t&nN?27:28)}static from(e){function t(u,d){C(u,d,"signature",e)}if(e==null)return new vn(tl,tN,tN,27);if(typeof e=="string"){const u=ee(e,"signature");if(u.length===64){const d=V(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new vn(tl,d,V(f),h)}if(u.length===65){const d=V(u.slice(0,32)),f=u.slice(32,64);t((f[0]&128)===0,"non-canonical s");const h=vn.getNormalizedV(u[64]);return new vn(tl,d,V(f),h)}t(!1,"invalid raw signature length")}if(e instanceof vn)return e.clone();const n=e.r;t(n!=null,"missing r");const s=oN(n),i=function(u,d){if(u!=null)return oN(u);if(d!=null){t(He(d,32),"invalid yParityAndS");const f=ee(d);return f[0]&=127,V(f)}t(!1,"missing s")}(e.s,e.yParityAndS);t((ee(i)[0]&128)==0,"non-canonical s");const{networkV:a,v:l}=function(u,d,f){if(u!=null){const h=ne(u);return{networkV:h>=Ah?h:void 0,v:vn.getNormalizedV(h)}}if(d!=null)return t(He(d,32),"invalid yParityAndS"),{v:ee(d)[0]&128?28:27};if(f!=null){switch(ve(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new vn(tl,s,i,l);return a&&j(c,Ya,a),t(e.yParity==null||ve(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Xl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,Ya=new WeakMap;let Ar=vn;var Is;const Ra=class Ra{constructor(e){L(this,Is);C(Ml(e)===32,"invalid private key","privateKey","[REDACTED]"),j(this,Is,V(e))}get privateKey(){return v(this,Is)}get publicKey(){return Ra.computePublicKey(v(this,Is))}get compressedPublicKey(){return Ra.computePublicKey(v(this,Is),!0)}sign(e){C(Ml(e)===32,"invalid digest length","digest",e);const t=Ni.sign(Ut(e),Ut(v(this,Is)),{lowS:!0});return Ar.from({r:ii(t.r,32),s:ii(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ra.computePublicKey(e);return V(Ni.getSharedSecret(Ut(v(this,Is)),ee(t),!1))}static computePublicKey(e,t){let n=ee(e,"key");if(n.length===32){const i=Ni.getPublicKey(n,!!t);return V(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Ni.ProjectivePoint.fromHex(n);return V(s.toRawBytes(t))}static recoverPublicKey(e,t){C(Ml(e)===32,"invalid digest length","digest",e);const n=Ar.from(t);let s=Ni.Signature.fromCompact(Ut(Le([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(Ut(e));return C(i!=null,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const s=Ni.ProjectivePoint.fromHex(Ra.computePublicKey(e).substring(2)),i=Ni.ProjectivePoint.fromHex(Ra.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}};Is=new WeakMap;let gs=Ra;const KB=BigInt(0),WB=BigInt(36);function lN(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const n=ee(et(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const A1={};for(let r=0;r<10;r++)A1[String(r)]=String(r);for(let r=0;r<26;r++)A1[String.fromCharCode(65+r)]=String(10+r);const cN=15;function XB(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>A1[n]).join("");for(;e.length>=cN;){let n=e.substring(0,cN);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const JB=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function QB(r){r=r.toLowerCase();let e=KB;for(let t=0;t<r.length;t++)e=e*WB+JB[r[t]];return e}function ke(r){if(C(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=lN(r);return C(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){C(r.substring(2,4)===XB(r),"bad icap checksum","address",r);let e=QB(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return lN("0x"+e)}C(!1,"invalid address","address",r)}function YB(r){const e=ke(r.from);let n=ne(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ke(Ke(et(oi([e,n])),12))}function a8(r){return r&&typeof r.getAddress=="function"}async function fy(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&($(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),C(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),ke(t)}function Tt(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?ke(r):($(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),fy(r,e.resolveName(r)));if(a8(r))return fy(r,r.getAddress());if(r&&typeof r.then=="function")return fy(r,r);C(!1,"unsupported addressable value","target",r)}const Es={};function ie(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new tr(Es,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Ie(r,e){return new tr(Es,`bytes${e||""}`,r,{size:e})}const uN=Symbol.for("_ethers_typed");var Za;const js=class js{constructor(e,t,n,s){I(this,"type");I(this,"value");L(this,Za);I(this,"_typedSymbol");s==null&&(s=null),Mo(Es,e,"Typed"),de(this,{_typedSymbol:uN,type:t,value:n}),j(this,Za,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return v(this,Za)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return v(this,Za)===!0?-1:v(this,Za)===!1?this.value.length:null}static from(e,t){return new js(Es,e,t)}static uint8(e){return ie(e,8)}static uint16(e){return ie(e,16)}static uint24(e){return ie(e,24)}static uint32(e){return ie(e,32)}static uint40(e){return ie(e,40)}static uint48(e){return ie(e,48)}static uint56(e){return ie(e,56)}static uint64(e){return ie(e,64)}static uint72(e){return ie(e,72)}static uint80(e){return ie(e,80)}static uint88(e){return ie(e,88)}static uint96(e){return ie(e,96)}static uint104(e){return ie(e,104)}static uint112(e){return ie(e,112)}static uint120(e){return ie(e,120)}static uint128(e){return ie(e,128)}static uint136(e){return ie(e,136)}static uint144(e){return ie(e,144)}static uint152(e){return ie(e,152)}static uint160(e){return ie(e,160)}static uint168(e){return ie(e,168)}static uint176(e){return ie(e,176)}static uint184(e){return ie(e,184)}static uint192(e){return ie(e,192)}static uint200(e){return ie(e,200)}static uint208(e){return ie(e,208)}static uint216(e){return ie(e,216)}static uint224(e){return ie(e,224)}static uint232(e){return ie(e,232)}static uint240(e){return ie(e,240)}static uint248(e){return ie(e,248)}static uint256(e){return ie(e,256)}static uint(e){return ie(e,256)}static int8(e){return ie(e,-8)}static int16(e){return ie(e,-16)}static int24(e){return ie(e,-24)}static int32(e){return ie(e,-32)}static int40(e){return ie(e,-40)}static int48(e){return ie(e,-48)}static int56(e){return ie(e,-56)}static int64(e){return ie(e,-64)}static int72(e){return ie(e,-72)}static int80(e){return ie(e,-80)}static int88(e){return ie(e,-88)}static int96(e){return ie(e,-96)}static int104(e){return ie(e,-104)}static int112(e){return ie(e,-112)}static int120(e){return ie(e,-120)}static int128(e){return ie(e,-128)}static int136(e){return ie(e,-136)}static int144(e){return ie(e,-144)}static int152(e){return ie(e,-152)}static int160(e){return ie(e,-160)}static int168(e){return ie(e,-168)}static int176(e){return ie(e,-176)}static int184(e){return ie(e,-184)}static int192(e){return ie(e,-192)}static int200(e){return ie(e,-200)}static int208(e){return ie(e,-208)}static int216(e){return ie(e,-216)}static int224(e){return ie(e,-224)}static int232(e){return ie(e,-232)}static int240(e){return ie(e,-240)}static int248(e){return ie(e,-248)}static int256(e){return ie(e,-256)}static int(e){return ie(e,-256)}static bytes1(e){return Ie(e,1)}static bytes2(e){return Ie(e,2)}static bytes3(e){return Ie(e,3)}static bytes4(e){return Ie(e,4)}static bytes5(e){return Ie(e,5)}static bytes6(e){return Ie(e,6)}static bytes7(e){return Ie(e,7)}static bytes8(e){return Ie(e,8)}static bytes9(e){return Ie(e,9)}static bytes10(e){return Ie(e,10)}static bytes11(e){return Ie(e,11)}static bytes12(e){return Ie(e,12)}static bytes13(e){return Ie(e,13)}static bytes14(e){return Ie(e,14)}static bytes15(e){return Ie(e,15)}static bytes16(e){return Ie(e,16)}static bytes17(e){return Ie(e,17)}static bytes18(e){return Ie(e,18)}static bytes19(e){return Ie(e,19)}static bytes20(e){return Ie(e,20)}static bytes21(e){return Ie(e,21)}static bytes22(e){return Ie(e,22)}static bytes23(e){return Ie(e,23)}static bytes24(e){return Ie(e,24)}static bytes25(e){return Ie(e,25)}static bytes26(e){return Ie(e,26)}static bytes27(e){return Ie(e,27)}static bytes28(e){return Ie(e,28)}static bytes29(e){return Ie(e,29)}static bytes30(e){return Ie(e,30)}static bytes31(e){return Ie(e,31)}static bytes32(e){return Ie(e,32)}static address(e){return new js(Es,"address",e)}static bool(e){return new js(Es,"bool",!!e)}static bytes(e){return new js(Es,"bytes",e)}static string(e){return new js(Es,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new js(Es,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===uN}static dereference(e,t){if(js.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Za=new WeakMap;let tr=js;class ZB extends di{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=tr.dereference(t,"string");try{n=ke(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return ke(ii(e.readValue(),20))}}class qB extends di{constructor(t){super(t.name,t.type,"_",t.dynamic);I(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}}function o8(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(u=>{const d=u.localName;return $(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:t}),$(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:t}),c[d]=!0,t[d]})}else C(!1,"invalid tuple value","tuple",t);C(e.length===n.length,"types/value length mismatch","tuple",t);let s=new Zb,i=new Zb,a=[];e.forEach((c,u)=>{let d=n[u];if(c.dynamic){let f=i.length;c.encode(i,d);let h=s.writeUpdatableValue();a.push(p=>{h(p+f)})}else c.encode(s,d)}),a.forEach(c=>{c(s.length)});let l=r.appendWriter(s);return l+=r.appendWriter(i),l}function l8(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let l=r.readIndex(),c=s.subReader(l);try{a=i.decode(c)}catch(u){if(Ft(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(r)}catch(l){if(Ft(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");t.push(a),n.push(i.localName||null)}),$c.fromItems(t,n)}class e$ extends di{constructor(t,n,s){const i=t.type+"["+(n>=0?n:"")+"]",a=n===-1||t.dynamic;super("array",i,s,a);I(this,"coder");I(this,"length");de(this,{coder:t,length:n})}defaultValue(){const t=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(t);return n}encode(t,n){const s=tr.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),XA(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let l=0;l<s.length;l++)a.push(this.coder);return o8(t,a,s)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),$(n*ar<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*ar,length:t.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new qB(this.coder));return l8(t,s)}}class t$ extends di{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=tr.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class c8 extends di{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Ut(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class r$ extends c8{constructor(e){super("bytes",e)}decode(e){return V(super.decode(e))}}class n$ extends di{constructor(t,n){let s="bytes"+String(t);super(s,s,n,!1);I(this,"size");de(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let s=Ut(tr.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(s)}decode(t){return V(t.readBytes(this.size))}}const s$=new Uint8Array([]);class i$ extends di{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(s$)}decode(e){return e.readBytes(0),null}}const a$=BigInt(0),o$=BigInt(1),l$=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class c$ extends di{constructor(t,n,s){const i=(n?"int":"uint")+t*8;super(i,i,s,!1);I(this,"size");I(this,"signed");de(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let s=ne(tr.dereference(n,this.type)),i=Vu(l$,ar*8);if(this.signed){let a=Vu(i,this.size*8-1);(s>a||s<-(a+o$))&&this._throwError("value out-of-bounds",n),s=ZA(s,8*ar)}else(s<a$||s>Vu(i,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(s)}decode(t){let n=Vu(t.readValue(),this.size*8);return this.signed&&(n=zF(n,this.size*8)),n}}class u$ extends c8{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,cr(tr.dereference(t,"string")))}decode(e){return np(super.decode(e))}}class Ch extends di{constructor(t,n){let s=!1;const i=[];t.forEach(l=>{l.dynamic&&(s=!0),i.push(l.type)});const a="tuple("+i.join(",")+")";super("tuple",a,n,s);I(this,"coders");de(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),t[a]==null&&(t[a]=t[i]))}),Object.freeze(t)}encode(t,n){const s=tr.dereference(n,"tuple");return o8(t,this.coders,s)}decode(t){return l8(t,this.coders)}}function hy(r,e){return{address:ke(r),storageKeys:e.map((t,n)=>(C(He(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function Lo(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(C(t.length===2,"invalid slot set",`value[${n}]`,t),hy(t[0],t[1])):(C(t!=null&&typeof t=="object","invalid address-slot set","value",r),hy(t.address,t.storageKeys)));C(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return hy(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function u8(r){return{address:ke(r.address),nonce:ne(r.nonce!=null?r.nonce:0),chainId:ne(r.chainId!=null?r.chainId:0),signature:Ar.from(r.signature)}}function Mf(r){let e;return typeof r=="string"?e=gs.computePublicKey(r,!1):e=r.publicKey,ke(et("0x"+e.substring(4)).substring(26))}function d$(r,e){return Mf(gs.recoverPublicKey(r,e))}const Ct=BigInt(0),f$=BigInt(2),h$=BigInt(27),p$=BigInt(28),m$=BigInt(35),x$=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),py=4096*32;function g$(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return ee(r.blobToKzgCommitment(V(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return ee(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return ee(r.blobToKZGCommitment(V(n)));C(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return ee(r.computeBlobProof(V(n),V(s)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return ee(r.computeBlobKZGProof(V(n),V(s)));C(!1,"unsupported KZG library","kzg",r)}}}function dN(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=pn(e).substring(4),"0x"+t}function pu(r){return r==="0x"?null:ke(r)}function kx(r,e){try{return Lo(r)}catch(t){C(!1,t.message,e,r)}}function y$(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<r.length;n++){const s=r[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);t.push({address:pu(s[1]),nonce:Fe(s[2],"nonce"),chainId:Fe(s[0],"chainId"),signature:Ar.from({yParity:Do(s[3],"yParity"),r:si(s[4],32),s:si(s[5],32)})})}return t}catch(t){C(!1,t.message,e,r)}}function Do(r,e){return r==="0x"?0:ve(r,e)}function Fe(r,e){if(r==="0x")return Ct;const t=ne(r,e);return C(t<=x$,"value exceeds uint size",e,t),t}function Ce(r,e){const t=ne(r,"value"),n=ot(t);return C(n.length<=32,"value too large",`tx.${e}`,t),n}function Px(r){return Lo(r).map(e=>[e.address,e.storageKeys])}function b$(r){return r.map(e=>[Ce(e.chainId,"chainId"),e.address,Ce(e.nonce,"nonce"),Ce(e.signature.yParity,"yParity"),ot(e.signature.r),ot(e.signature.s)])}function v$(r,e){C(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)C(He(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function w$(r){const e=If(r);C(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:Do(e[0],"nonce"),gasPrice:Fe(e[1],"gasPrice"),gasLimit:Fe(e[2],"gasLimit"),to:pu(e[3]),value:Fe(e[4],"value"),data:V(e[5]),chainId:Ct};if(e.length===6)return t;const n=Fe(e[6],"v"),s=Fe(e[7],"r"),i=Fe(e[8],"s");if(s===Ct&&i===Ct)t.chainId=n;else{let a=(n-m$)/f$;a<Ct&&(a=Ct),t.chainId=a,C(a!==Ct||n===h$||n===p$,"non-canonical legacy v","v",e[6]),t.signature=Ar.from({r:si(e[7],32),s:si(e[8],32),v:n})}return t}function _$(r,e){const t=[Ce(r.nonce,"nonce"),Ce(r.gasPrice||0,"gasPrice"),Ce(r.gasLimit,"gasLimit"),r.to||"0x",Ce(r.value,"value"),r.data];let n=Ct;if(r.chainId!=Ct)n=ne(r.chainId,"tx.chainId"),C(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==Ct&&(t.push(ot(n)),t.push("0x"),t.push("0x")),oi(t);let s=BigInt(27+e.yParity);return n!==Ct?s=Ar.getChainIdV(n,e.v):BigInt(e.v)!==s&&C(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(ot(s)),t.push(ot(e.r)),t.push(ot(e.s)),oi(t)}function Tx(r,e){let t;try{if(t=Do(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{C(!1,"invalid yParity","yParity",e[0])}const n=si(e[1],32),s=si(e[2],32),i=Ar.from({r:n,s,yParity:t});r.signature=i}function S$(r){const e=If(ee(r).slice(1));C(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",V(r));const t={type:2,chainId:Fe(e[0],"chainId"),nonce:Do(e[1],"nonce"),maxPriorityFeePerGas:Fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Fe(e[4],"gasLimit"),to:pu(e[5]),value:Fe(e[6],"value"),data:V(e[7]),accessList:kx(e[8],"accessList")};return e.length===9||Tx(t,e.slice(9)),t}function N$(r,e){const t=[Ce(r.chainId,"chainId"),Ce(r.nonce,"nonce"),Ce(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ce(r.maxFeePerGas||0,"maxFeePerGas"),Ce(r.gasLimit,"gasLimit"),r.to||"0x",Ce(r.value,"value"),r.data,Px(r.accessList||[])];return e&&(t.push(Ce(e.yParity,"yParity")),t.push(ot(e.r)),t.push(ot(e.s))),Le(["0x02",oi(t)])}function E$(r){const e=If(ee(r).slice(1));C(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",V(r));const t={type:1,chainId:Fe(e[0],"chainId"),nonce:Do(e[1],"nonce"),gasPrice:Fe(e[2],"gasPrice"),gasLimit:Fe(e[3],"gasLimit"),to:pu(e[4]),value:Fe(e[5],"value"),data:V(e[6]),accessList:kx(e[7],"accessList")};return e.length===8||Tx(t,e.slice(8)),t}function j$(r,e){const t=[Ce(r.chainId,"chainId"),Ce(r.nonce,"nonce"),Ce(r.gasPrice||0,"gasPrice"),Ce(r.gasLimit,"gasLimit"),r.to||"0x",Ce(r.value,"value"),r.data,Px(r.accessList||[])];return e&&(t.push(Ce(e.yParity,"recoveryParam")),t.push(ot(e.r)),t.push(ot(e.s))),Le(["0x01",oi(t)])}function A$(r){let e=If(ee(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const i=e[1],a=e[2],l=e[3];C(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),C(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),C(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),C(i.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),C(i.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:a[c],proof:l[c]});e=e[0]}C(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",V(r));const s={type:3,chainId:Fe(e[0],"chainId"),nonce:Do(e[1],"nonce"),maxPriorityFeePerGas:Fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Fe(e[4],"gasLimit"),to:pu(e[5]),value:Fe(e[6],"value"),data:V(e[7]),accessList:kx(e[8],"accessList"),maxFeePerBlobGas:Fe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),C(s.to!=null,`invalid address for transaction type: ${t}`,"data",r),C(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<s.blobVersionedHashes.length;i++)C(He(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||Tx(s,e.slice(11)),s}function C$(r,e,t){const n=[Ce(r.chainId,"chainId"),Ce(r.nonce,"nonce"),Ce(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ce(r.maxFeePerGas||0,"maxFeePerGas"),Ce(r.gasLimit,"gasLimit"),r.to||Gd,Ce(r.value,"value"),r.data,Px(r.accessList||[]),Ce(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),v$(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Ce(e.yParity,"yParity")),n.push(ot(e.r)),n.push(ot(e.s)),t)?Le(["0x03",oi([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):Le(["0x03",oi(n)])}function k$(r){const e=If(ee(r).slice(1));C(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",V(r));const t={type:4,chainId:Fe(e[0],"chainId"),nonce:Do(e[1],"nonce"),maxPriorityFeePerGas:Fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Fe(e[4],"gasLimit"),to:pu(e[5]),value:Fe(e[6],"value"),data:V(e[7]),accessList:kx(e[8],"accessList"),authorizationList:y$(e[9],"authorizationList")};return e.length===10||Tx(t,e.slice(10)),t}function P$(r,e){const t=[Ce(r.chainId,"chainId"),Ce(r.nonce,"nonce"),Ce(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ce(r.maxFeePerGas||0,"maxFeePerGas"),Ce(r.gasLimit,"gasLimit"),r.to||"0x",Ce(r.value,"value"),r.data,Px(r.accessList||[]),b$(r.authorizationList||[])];return e&&(t.push(Ce(e.yParity,"yParity")),t.push(ot(e.r)),t.push(ot(e.s))),Le(["0x04",oi(t)])}var jn,Yl,Zl,ql,ec,tc,rc,nc,sc,ic,ac,oc,qa,Oi,rs,Mi,lc,cc,o0;const qn=class qn{constructor(){L(this,cc);L(this,jn);L(this,Yl);L(this,Zl);L(this,ql);L(this,ec);L(this,tc);L(this,rc);L(this,nc);L(this,sc);L(this,ic);L(this,ac);L(this,oc);L(this,qa);L(this,Oi);L(this,rs);L(this,Mi);L(this,lc);j(this,jn,null),j(this,Yl,null),j(this,ql,0),j(this,ec,Ct),j(this,tc,null),j(this,rc,null),j(this,nc,null),j(this,Zl,"0x"),j(this,sc,Ct),j(this,ic,Ct),j(this,ac,null),j(this,oc,null),j(this,qa,null),j(this,Oi,null),j(this,rs,null),j(this,Mi,null),j(this,lc,null)}get type(){return v(this,jn)}set type(e){switch(e){case null:j(this,jn,null);break;case 0:case"legacy":j(this,jn,0);break;case 1:case"berlin":case"eip-2930":j(this,jn,1);break;case 2:case"london":case"eip-1559":j(this,jn,2);break;case 3:case"cancun":case"eip-4844":j(this,jn,3);break;case 4:case"pectra":case"eip-7702":j(this,jn,4);break;default:C(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=v(this,Yl);return e==null&&this.type===3?Gd:e}set to(e){j(this,Yl,e==null?null:ke(e))}get nonce(){return v(this,ql)}set nonce(e){j(this,ql,ve(e,"value"))}get gasLimit(){return v(this,ec)}set gasLimit(e){j(this,ec,ne(e))}get gasPrice(){const e=v(this,tc);return e==null&&(this.type===0||this.type===1)?Ct:e}set gasPrice(e){j(this,tc,e==null?null:ne(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=v(this,rc);return e??(this.type===2||this.type===3?Ct:null)}set maxPriorityFeePerGas(e){j(this,rc,e==null?null:ne(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=v(this,nc);return e??(this.type===2||this.type===3?Ct:null)}set maxFeePerGas(e){j(this,nc,e==null?null:ne(e,"maxFeePerGas"))}get data(){return v(this,Zl)}set data(e){j(this,Zl,V(e))}get value(){return v(this,sc)}set value(e){j(this,sc,ne(e,"value"))}get chainId(){return v(this,ic)}set chainId(e){j(this,ic,ne(e))}get signature(){return v(this,ac)||null}set signature(e){j(this,ac,e==null?null:Ar.from(e))}get accessList(){const e=v(this,oc)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){j(this,oc,e==null?null:Lo(e))}get authorizationList(){const e=v(this,lc)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){j(this,lc,e==null?null:e.map(t=>u8(t)))}get maxFeePerBlobGas(){const e=v(this,qa);return e==null&&this.type===3?Ct:e}set maxFeePerBlobGas(e){j(this,qa,e==null?null:ne(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=v(this,Oi);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){C(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)C(He(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}j(this,Oi,e)}get blobs(){return v(this,Mi)==null?null:v(this,Mi).map(e=>Object.assign({},e))}set blobs(e){if(e==null){j(this,Mi,null);return}const t=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(wx(i)){$(v(this,rs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=ee(i);if(C(a.length<=py,"blob is too large",`blobs[${s}]`,i),a.length!==py){const u=new Uint8Array(py);u.set(a),a=u}const l=v(this,rs).blobToKzgCommitment(a),c=V(v(this,rs).computeBlobKzgProof(a,l));t.push({data:V(a),commitment:V(l),proof:c}),n.push(dN(1,l))}else{const a=V(i.commitment);t.push({data:V(i.data),commitment:a,proof:V(i.proof)}),n.push(dN(1,a))}}j(this,Mi,t),j(this,Oi,n)}get kzg(){return v(this,rs)}set kzg(e){e==null?j(this,rs,null):j(this,rs,g$(e))}get hash(){return this.signature==null?null:et(K(this,cc,o0).call(this,!0,!1))}get unsignedHash(){return et(this.unsignedSerialized)}get from(){return this.signature==null?null:d$(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:gs.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return K(this,cc,o0).call(this,!0,!0)}get unsignedSerialized(){return K(this,cc,o0).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=v(this,qa)!=null||v(this,Oi);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&$(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),$(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),$(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return qn.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new qn;if(typeof e=="string"){const n=ee(e);if(n[0]>=127)return qn.from(w$(n));switch(n[0]){case 1:return qn.from(E$(n));case 2:return qn.from(S$(n));case 3:return qn.from(A$(n));case 4:return qn.from(k$(n))}$(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new qn;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Ar.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(C(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),C(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(C(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),C(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};jn=new WeakMap,Yl=new WeakMap,Zl=new WeakMap,ql=new WeakMap,ec=new WeakMap,tc=new WeakMap,rc=new WeakMap,nc=new WeakMap,sc=new WeakMap,ic=new WeakMap,ac=new WeakMap,oc=new WeakMap,qa=new WeakMap,Oi=new WeakMap,rs=new WeakMap,Mi=new WeakMap,lc=new WeakMap,cc=new WeakSet,o0=function(e,t){$(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return _$(this,n);case 1:return j$(this,n);case 2:return N$(this,n);case 3:return C$(this,n,t?this.blobs:null);case 4:return P$(this,n)}$(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Kd=qn;function T$(r){return C(typeof r.address=="string","invalid address for hashAuthorization","auth.address",r),et(Le(["0x05",oi([r.chainId!=null?ot(r.chainId):"0x",ke(r.address),r.nonce!=null?ot(r.nonce):"0x"])]))}function li(r){return et(cr(r))}var R$="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const fN=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),hN=4;function I$(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),s=1,i=[0,1];for(let S=1;S<n;S++)i.push(s+=t());let a=t(),l=e;e+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|r[e++],c=8),u>>--c&1}const f=31,h=2**f,p=h>>>1,g=p>>1,x=h-1;let _=0;for(let S=0;S<f;S++)_=_<<1|d();let b=[],y=0,m=h;for(;;){let S=Math.floor(((_-y+1)*s-1)/m),N=0,k=n;for(;k-N>1;){let B=N+k>>>1;S<i[B]?k=B:N=B}if(N==0)break;b.push(N);let R=y+Math.floor(m*i[N]/s),U=y+Math.floor(m*i[N+1]/s)-1;for(;!((R^U)&p);)_=_<<1&x|d(),R=R<<1&x,U=U<<1&x|1;for(;R&~U&g;)_=_&p|_<<1&x>>>1|d(),R=R<<1^p,U=(U^p)<<1|p|1;y=R,m=1+U-R}let E=n-4;return b.map(S=>{switch(S-E){case 3:return E+65792+(r[l++]<<16|r[l++]<<8|r[l++]);case 2:return E+256+(r[l++]<<8|r[l++]);case 1:return E+r[l++];default:return S-1}})}function O$(r){let e=0;return()=>r[e++]}function d8(r){return O$(I$(M$(r)))}function M$(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=r.length,n=new Uint8Array(6*t>>3);for(let s=0,i=0,a=0,l=0;s<t;s++)l=l<<6|e[r.charCodeAt(s)],a+=6,a>=8&&(n[i++]=l>>(a-=8));return n}function L$(r){return r&1?~r>>1:r>>1}function D$(r,e){let t=Array(r);for(let n=0,s=0;n<r;n++)t[n]=s+=L$(e());return t}function Wd(r,e=0){let t=[];for(;;){let n=r(),s=r();if(!s)break;e+=n;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function f8(r){return Xd(()=>{let e=Wd(r);if(e.length)return e})}function h8(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(F$(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(U$(t,r))}return e.flat()}function Xd(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function p8(r,e,t){let n=Array(r).fill().map(()=>[]);for(let s=0;s<e;s++)D$(r,t).forEach((i,a)=>n[a].push(i));return n}function F$(r,e){let t=1+e(),n=e(),s=Xd(e);return p8(s.length,1+r,e).flatMap((a,l)=>{let[c,...u]=a;return Array(s[l]).fill().map((d,f)=>{let h=f*n;return[c+f*t,u.map(p=>p+h)]})})}function U$(r,e){let t=1+e();return p8(t,1+r,e).map(s=>[s[0],s.slice(1)])}function B$(r){let e=[],t=Wd(r);return s(n([]),[]),e;function n(i){let a=r(),l=Xd(()=>{let c=Wd(r).map(u=>t[u]);if(c.length)return n(c)});return{S:a,B:l,Q:i}}function s({S:i,B:a},l,c){if(!(i&4&&c===l[l.length-1])){i&2&&(c=l[l.length-1]),i&1&&e.push(l);for(let u of a)for(let d of u.Q)s(u,[...l,d],c)}}}function $$(r){return r.toString(16).toUpperCase().padStart(2,"0")}function m8(r){return`{${$$(r)}}`}function z$(r){let e=[];for(let t=0,n=r.length;t<n;){let s=r.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Wc(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}function V$(r,e){let t=r.length,n=t-e.length;for(let s=0;n==0&&s<t;s++)n=r[s]-e[s];return n}var H$="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Jd=44032,sp=4352,ip=4449,ap=4519,x8=19,g8=21,Xc=28,op=g8*Xc,G$=x8*op,K$=Jd+G$,W$=sp+x8,X$=ip+g8,J$=ap+Xc;function Gu(r){return r>>24&255}function y8(r){return r&16777215}let av,pN,ov,l0;function Q$(){let r=d8(H$);av=new Map(f8(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),pN=new Set(Wd(r)),ov=new Map,l0=new Map;for(let[e,t]of h8(r)){if(!pN.has(e)&&t.length==2){let[n,s]=t,i=l0.get(n);i||(i=new Map,l0.set(n,i)),i.set(s,e)}ov.set(e,t.reverse())}}function b8(r){return r>=Jd&&r<K$}function Y$(r,e){if(r>=sp&&r<W$&&e>=ip&&e<X$)return Jd+(r-sp)*op+(e-ip)*Xc;if(b8(r)&&e>ap&&e<J$&&(r-Jd)%Xc==0)return r+(e-ap);{let t=l0.get(r);return t&&(t=t.get(e),t)?t:-1}}function v8(r){av||Q$();let e=[],t=[],n=!1;function s(i){let a=av.get(i);a&&(n=!0,i|=a),e.push(i)}for(let i of r)for(;;){if(i<128)e.push(i);else if(b8(i)){let a=i-Jd,l=a/op|0,c=a%op/Xc|0,u=a%Xc;s(sp+l),s(ip+c),u>0&&s(ap+u)}else{let a=ov.get(i);a?t.push(...a):s(i)}if(!t.length)break;i=t.pop()}if(n&&e.length>1){let i=Gu(e[0]);for(let a=1;a<e.length;a++){let l=Gu(e[a]);if(l==0||i<=l){i=l;continue}let c=a-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=Gu(e[--c]),i<=l))break}i=Gu(e[a])}}return e}function Z$(r){let e=[],t=[],n=-1,s=0;for(let i of r){let a=Gu(i),l=y8(i);if(n==-1)a==0?n=l:e.push(l);else if(s>0&&s>=a)a==0?(e.push(n,...t),t.length=0,n=l):t.push(l),s=a;else{let c=Y$(n,l);c>=0?n=c:s==0&&a==0?(e.push(n),n=l):(t.push(l),s=a)}}return n>=0&&e.push(n,...t),e}function w8(r){return v8(r).map(y8)}function q$(r){return Z$(v8(r))}const mN=45,_8=".",S8=65039,N8=1,lp=r=>Array.from(r);function Qd(r,e){return r.P.has(e)||r.Q.has(e)}class ez extends Array{get is_emoji(){return!0}}let lv,E8,Ba,cv,j8,Dl,my,ol,ja,xN,uv;function C1(){if(lv)return;let r=d8(R$);const e=()=>Wd(r),t=()=>new Set(e()),n=(d,f)=>f.forEach(h=>d.add(h));lv=new Map(h8(r)),E8=t(),Ba=e(),cv=new Set(e().map(d=>Ba[d])),Ba=new Set(Ba),j8=t(),t();let s=f8(r),i=r();const a=()=>{let d=new Set;return e().forEach(f=>n(d,s[f])),n(d,e()),d};Dl=Xd(d=>{let f=Xd(r).map(h=>h+96);if(f.length){let h=d>=i;f[0]-=32,f=Wc(f),h&&(f=`Restricted[${f}]`);let p=a(),g=a(),x=!r();return{N:f,P:p,Q:g,M:x,R:h}}}),my=t(),ol=new Map;let l=e().concat(lp(my)).sort((d,f)=>d-f);l.forEach((d,f)=>{let h=r(),p=l[f]=h?l[f-h]:{V:[],M:new Map};p.V.push(d),my.has(d)||ol.set(d,p)});for(let{V:d,M:f}of new Set(ol.values())){let h=[];for(let g of d){let x=Dl.filter(b=>Qd(b,g)),_=h.find(({G:b})=>x.some(y=>b.has(y)));_||(_={G:new Set,V:[]},h.push(_)),_.V.push(g),n(_.G,x)}let p=h.flatMap(g=>lp(g.G));for(let{G:g,V:x}of h){let _=new Set(p.filter(b=>!g.has(b)));for(let b of x)f.set(b,_)}}ja=new Set;let c=new Set;const u=d=>ja.has(d)?c.add(d):ja.add(d);for(let d of Dl){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of ja)!ol.has(d)&&!c.has(d)&&ol.set(d,N8);n(ja,w8(ja)),xN=B$(r).map(d=>ez.from(d)).sort(V$),uv=new Map;for(let d of xN){let f=[uv];for(let h of d){let p=f.map(g=>{let x=g.get(h);return x||(x=new Map,g.set(h,x)),x});h===S8?f.push(...p):f=p}for(let h of f)h.V=d}}function k1(r){return(A8(r)?"":`${P1(Rx([r]))} `)+m8(r)}function P1(r){return`"${r}"‎`}function tz(r){if(r.length>=4&&r[2]==mN&&r[3]==mN)throw new Error(`invalid label extension: "${Wc(r.slice(0,4))}"`)}function rz(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function nz(r){let e=r[0],t=fN.get(e);if(t)throw bd(`leading ${t}`);let n=r.length,s=-1;for(let i=1;i<n;i++){e=r[i];let a=fN.get(e);if(a){if(s==i)throw bd(`${t} + ${a}`);s=i+1,t=a}}if(s==n)throw bd(`trailing ${t}`)}function Rx(r,e=1/0,t=m8){let n=[];sz(r[0])&&n.push("◌"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let s=0,i=r.length;for(let a=0;a<i;a++){let l=r[a];A8(l)&&(n.push(Wc(r.slice(s,a))),n.push(t(l)),s=a+1)}return n.push(Wc(r.slice(s,i))),n.join("")}function sz(r){return C1(),Ba.has(r)}function A8(r){return C1(),j8.has(r)}function iz(r){return cz(az(r,q$,fz))}function az(r,e,t){if(!r)return[];C1();let n=0;return r.split(_8).map(s=>{let i=z$(s),a={input:i,offset:n};n+=i.length+1;try{let l=a.tokens=dz(i,e,t),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(rz(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(h=>h<128))tz(d),u="ASCII";else{let h=l.flatMap(p=>p.is_emoji?[]:p);if(!h.length)u="Emoji";else{if(Ba.has(d[0]))throw bd("leading combining mark");for(let x=1;x<c;x++){let _=l[x];if(!_.is_emoji&&Ba.has(_[0]))throw bd(`emoji + combining mark: "${Wc(l[x-1])} + ${Rx([_[0]])}"`)}nz(d);let p=lp(new Set(h)),[g]=lz(p);uz(g,h),oz(g,p),u=g.N}}a.type=u}catch(l){a.error=l}return a})}function oz(r,e){let t,n=[];for(let s of e){let i=ol.get(s);if(i===N8)return;if(i){let a=i.M.get(s);if(t=t?t.filter(l=>a.has(l)):lp(a),!t.length)return}else n.push(s)}if(t){for(let s of t)if(n.every(i=>Qd(s,i)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function lz(r){let e=Dl;for(let t of r){let n=e.filter(s=>Qd(s,t));if(!n.length)throw Dl.some(s=>Qd(s,t))?k8(e[0],t):C8(t);if(e=n,n.length==1)break}return e}function cz(r){return r.map(({input:e,error:t,output:n})=>{if(t){let s=t.message;throw new Error(r.length==1?s:`Invalid label ${P1(Rx(e,63))}: ${s}`)}return Wc(n)}).join(_8)}function C8(r){return new Error(`disallowed character: ${k1(r)}`)}function k8(r,e){let t=k1(e),n=Dl.find(s=>s.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function bd(r){return new Error(`illegal placement: ${r}`)}function uz(r,e){for(let t of e)if(!Qd(r,t))throw k8(r,t);if(r.M){let t=w8(e);for(let n=1,s=t.length;n<s;n++)if(cv.has(t[n])){let i=n+1;for(let a;i<s&&cv.has(a=t[i]);i++)for(let l=n;l<i;l++)if(t[l]==a)throw new Error(`duplicate non-spacing marks: ${k1(a)}`);if(i-n>hN)throw new Error(`excessive non-spacing marks: ${P1(Rx(t.slice(n-1,i)))} (${i-n}/${hN})`);n=i}}}function dz(r,e,t){let n=[],s=[];for(r=r.slice().reverse();r.length;){let i=hz(r);if(i)s.length&&(n.push(e(s)),s=[]),n.push(t(i));else{let a=r.pop();if(ja.has(a))s.push(a);else{let l=lv.get(a);if(l)s.push(...l);else if(!E8.has(a))throw C8(a)}}}return s.length&&n.push(e(s)),n}function fz(r){return r.filter(e=>e!=S8)}function hz(r,e){let t=uv,n,s=r.length;for(;s&&(t=t.get(r[--s]),!!t);){let{V:i}=t;i&&(n=i,r.length=s)}return n}const P8=new Uint8Array(32);P8.fill(0);function gN(r){return C(r.length!==0,"invalid ENS name; empty component","comp",r),r}function T8(r){const e=cr(pz(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(gN(e.slice(n,s))),n=s+1);return C(n<e.length,"invalid ENS name; empty component","name",r),t.push(gN(e.slice(n))),t}function pz(r){try{if(r.length===0)throw new Error("empty label");return iz(r)}catch(e){C(!1,`invalid ENS name (${e.message})`,"name",r)}}function dv(r){C(typeof r=="string","invalid ENS name; not a string","name",r),C(r.length,"invalid ENS name (empty label)","name",r);let e=P8;const t=T8(r);for(;t.length;)e=et(Le([e,et(t.pop())]));return V(e)}function mz(r,e){const t=e;return C(t<=255,"DNS encoded label cannot exceed 255","length",t),V(Le(T8(r).map(n=>{C(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function xz(r){return typeof r=="string"&&(r=cr(r)),et(Le([cr(GB),cr(String(r.length)),r]))}const R8=new Uint8Array(32);R8.fill(0);const gz=BigInt(-1),I8=BigInt(0),O8=BigInt(1),yz=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bz(r){const e=ee(r),t=e.length%32;return t?Le([e,R8.slice(t)]):V(e)}const vz=ii(O8,32),wz=ii(I8,32),yN={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},xy=["name","version","chainId","verifyingContract","salt"];function bN(r){return function(e){return C(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const _z={name:bN("name"),version:bN("version"),chainId:function(r){const e=ne(r,"domain.chainId");return C(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):Rn(e)},verifyingContract:function(r){try{return ke(r).toLowerCase()}catch{}C(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=ee(r,"domain.salt");return C(e.length===32,'invalid domain value "salt"',"domain.salt",r),V(e)}};function gy(r){{const e=r.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",n=parseInt(e[2]);C(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);const s=Vu(yz,t?n-1:n),i=t?(s+O8)*gz:I8;return function(a){const l=ne(a,"value");return C(l>=i&&l<=s,`value out-of-bounds for ${r}`,"value",l),ii(t?ZA(l,256):l,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return C(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const s=ee(n);return C(s.length===t,`invalid length for ${r}`,"value",n),bz(n)}}}switch(r){case"address":return function(e){return si(ke(e),32)};case"bool":return function(e){return e?vz:wz};case"bytes":return function(e){return et(e)};case"string":return function(e){return li(e)}}return null}function vN(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function kh(r){const e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}var of,Os,uc,gp,M8;const qr=class qr{constructor(e){L(this,gp);I(this,"primaryType");L(this,of);L(this,Os);L(this,uc);j(this,Os,new Map),j(this,uc,new Map);const t=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:d})=>{let{base:f,index:h}=kh(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),j(this,of,JSON.stringify(i));for(const c in i){const u=new Set;for(const d of i[c]){C(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const f=kh(d.type).base;C(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!gy(f)&&(C(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),t.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);C(a.length!==0,"missing primary type","types",e),C(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),de(this,{primaryType:a[0]});function l(c,u){C(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of t.get(c))if(n.has(d)){l(d,u);for(const f of u)s.get(f).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of s){const d=Array.from(u);d.sort(),v(this,Os).set(c,vN(c,i[c])+d.map(f=>vN(f,i[f])).join(""))}}get types(){return JSON.parse(v(this,of))}getEncoder(e){let t=v(this,uc).get(e);return t||(t=K(this,gp,M8).call(this,e),v(this,uc).set(e,t)),t}encodeType(e){const t=v(this,Os).get(e);return C(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return et(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(gy(e))return n(e,t);const s=kh(e).array;if(s)return C(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(a=>this._visit(s.prefix,a,n));const i=this.types[e];if(i)return i.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,t[l],n),a),{});C(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new qr(e)}static getPrimaryType(e){return qr.from(e).primaryType}static hashStruct(e,t,n){return qr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const s=yN[n];C(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>xy.indexOf(n.name)-xy.indexOf(s.name)),qr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Le(["0x1901",qr.hashDomain(e),qr.from(t).hash(n)])}static hash(e,t,n){return et(qr.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const i={};e.verifyingContract&&!He(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=qr.from(t);a.visit(n,(l,c)=>(l==="address"&&!He(c,20)&&(i[c]="0x"),c));for(const l in i)i[l]=await s(l);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(l,c)=>l==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,t,n){qr.hashDomain(e);const s={},i=[];xy.forEach(c=>{const u=e[c];u!=null&&(s[c]=_z[c](u),i.push({name:c,type:yN[c]}))});const a=qr.from(t);t=a.types;const l=Object.assign({},t);return C(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),l.EIP712Domain=i,a.encode(n),{types:l,domain:s,primaryType:a.primaryType,message:a.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return V(ee(u));if(c.match(/^u?int/))return ne(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return C(typeof u=="string","invalid string","value",u),u}C(!1,"unsupported type","type",c)})}}};of=new WeakMap,Os=new WeakMap,uc=new WeakMap,gp=new WeakSet,M8=function(e){{const s=gy(e);if(s)return s}const t=kh(e).array;if(t){const s=t.prefix,i=this.getEncoder(s);return a=>{C(t.count===-1||t.count===a.length,`array length mismatch; expected length ${t.count}`,"value",a);let l=a.map(i);return v(this,Os).has(s)&&(l=l.map(et)),et(Le(l))}}const n=this.types[e];if(n){const s=li(v(this,Os).get(e));return i=>{const a=n.map(({name:l,type:c})=>{const u=this.getEncoder(c)(i[l]);return v(this,Os).has(c)?et(u):u});return a.unshift(s),Le(a)}}C(!1,`unknown type: ${e}`,"type",e)};let Jc=qr;function or(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const Sz="external public payable override",Nz=or(Sz.split(" ")),L8="constant external internal payable private public pure view override",Ez=or(L8.split(" ")),D8="constructor error event fallback function receive struct",F8=or(D8.split(" ")),U8="calldata memory storage payable indexed",jz=or(U8.split(" ")),Az="tuple returns",Cz=[D8,U8,Az,L8].join(" "),kz=or(Cz.split(" ")),Pz={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Tz=new RegExp("^(\\s*)"),Rz=new RegExp("^([0-9]+)"),Iz=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),B8=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),$8=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ot,An,lf,fv;const yp=class yp{constructor(e){L(this,lf);L(this,Ot);L(this,An);j(this,Ot,0),j(this,An,e.slice())}get offset(){return v(this,Ot)}get length(){return v(this,An).length-v(this,Ot)}clone(){return new yp(v(this,An))}reset(){j(this,Ot,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=K(this,lf,fv).call(this,v(this,Ot)+1,e.match+1);return j(this,Ot,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;v(this,Ot)<e.match-1;){const n=this.peek().linkNext;t.push(K(this,lf,fv).call(this,v(this,Ot)+1,n)),j(this,Ot,n)}return j(this,Ot,e.match+1),t}peek(){if(v(this,Ot)>=v(this,An).length)throw new Error("out-of-bounds");return v(this,An)[v(this,Ot)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return mu(this,Ot)._++,e}toString(){const e=[];for(let t=v(this,Ot);t<v(this,An).length;t++){const n=v(this,An)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Ot=new WeakMap,An=new WeakMap,lf=new WeakSet,fv=function(e=0,t=0){return new yp(v(this,An).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Un=yp;function ga(r){const e=[],t=a=>{const l=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${l} at ${i}: ${a}`)};let n=[],s=[],i=0;for(;i<r.length;){let a=r.substring(i),l=a.match(Tz);l&&(i+=l[1].length,a=r.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=Pz[a[0]]||"";if(u){if(c.type=u,c.text=a[0],i++,u==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=ve(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(l=a.match(Iz),l){if(c.text=l[1],i+=c.text.length,kz.has(c.text)){c.type="KEYWORD";continue}if(c.text.match($8)){c.type="TYPE";continue}c.type="ID";continue}if(l=a.match(Rz),l){c.text=l[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new Un(e.map(a=>Object.freeze(a)))}function wN(r,e){let t=[];for(const n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Ix(r,e){if(e.peekKeyword(F8)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function ci(r,e){const t=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function z8(r){let e=ci(r,Ez);return wN(e,or("constant payable nonpayable".split(" "))),wN(e,or("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Zs(r,e){return r.popParams().map(t=>$t.from(t,e))}function V8(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return ne(r.pop().text);throw new Error("invalid gas")}return null}function Eo(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const Oz=new RegExp(/^(.*)\[([0-9]*)\]$/);function _N(r){const e=r.match($8);if(C(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);C(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);C(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const nt={},Cr=Symbol.for("_ethers_internal"),SN="_ParamTypeInternal",NN="_ErrorInternal",EN="_EventInternal",jN="_ConstructorInternal",AN="_FallbackInternal",CN="_FunctionInternal",kN="_StructInternal";var dc,c0;const en=class en{constructor(e,t,n,s,i,a,l,c){L(this,dc);I(this,"name");I(this,"type");I(this,"baseType");I(this,"indexed");I(this,"components");I(this,"arrayLength");I(this,"arrayChildren");if(Mo(e,nt,"ParamType"),Object.defineProperty(this,Cr,{value:SN}),a&&(a=Object.freeze(a.slice())),s==="array"){if(l==null||c==null)throw new Error("")}else if(l!=null||c!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");de(this,{name:t,type:n,baseType:s,indexed:i,components:a,arrayLength:l,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],s=[e];return K(this,dc,c0).call(this,n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(en.isParamType(e))return e;if(typeof e=="string")try{return en.from(ga(e),t)}catch{C(!1,"invalid param type","obj",e)}else if(e instanceof Un){let l="",c="",u=null;ci(e,or(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(x=>en.from(x)),l=`tuple(${u.map(x=>x.format()).join(",")})`):(l=_N(e.popType("TYPE")),c=l);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();d=new en(nt,"",l,c,null,u,f,d),f=x.value,l+=x.text,c="array",u=null}let h=null;if(ci(e,jz).has("indexed")){if(!t)throw new Error("");h=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new en(nt,g,l,c,h,u,f,d)}const n=e.name;C(!n||typeof n=="string"&&n.match(B8),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(C(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(Oz);if(a){const l=parseInt(a[2]||"-1"),c=en.from({type:a[1],components:e.components});return new en(nt,n||"",i,"array",s,null,l,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const l=e.components!=null?e.components.map(u=>en.from(u)):null;return new en(nt,n||"",i,"tuple",s,l,null,null)}return i=_N(e.type),new en(nt,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Cr]===SN}};dc=new WeakSet,c0=function(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,l=t.slice();l.forEach((c,u)=>{var d;K(d=a,dc,c0).call(d,e,c,n,f=>{l[u]=f})}),s(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(t))l=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");l=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((c,u)=>{var d;K(d=a[u],dc,c0).call(d,e,c,n,f=>{l[u]=f})}),s(l);return}const i=n(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};let $t=en;class jo{constructor(e,t,n){I(this,"type");I(this,"inputs");Mo(e,nt,"Fragment"),n=Object.freeze(n.slice()),de(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{jo.from(JSON.parse(e))}catch{}return jo.from(ga(e))}if(e instanceof Un)switch(e.peekKeyword(F8)){case"constructor":return Ws.from(e);case"error":return vr.from(e);case"event":return ds.from(e);case"fallback":case"receive":return ks.from(e);case"function":return fs.from(e);case"struct":return xo.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ws.from(e);case"error":return vr.from(e);case"event":return ds.from(e);case"fallback":case"receive":return ks.from(e);case"function":return fs.from(e);case"struct":return xo.from(e)}$(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}C(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ws.isFragment(e)}static isError(e){return vr.isFragment(e)}static isEvent(e){return ds.isFragment(e)}static isFunction(e){return fs.isFragment(e)}static isStruct(e){return xo.isFragment(e)}}class Ox extends jo{constructor(t,n,s,i){super(t,n,i);I(this,"name");C(typeof s=="string"&&s.match(B8),"invalid identifier","name",s),i=Object.freeze(i.slice()),de(this,{name:s})}}function Yd(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class vr extends Ox{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Cr,{value:NN})}get selector(){return li(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Yd(e,this.inputs)),t.join(" ")}static from(e){if(vr.isFragment(e))return e;if(typeof e=="string")return vr.from(ga(e));if(e instanceof Un){const t=Ix("error",e),n=Zs(e);return Eo(e),new vr(nt,t,n)}return new vr(nt,e.name,e.inputs?e.inputs.map($t.from):[])}static isFragment(e){return e&&e[Cr]===NN}}class ds extends Ox{constructor(t,n,s,i){super(t,"event",n,s);I(this,"anonymous");Object.defineProperty(this,Cr,{value:EN}),de(this,{anonymous:i})}get topicHash(){return li(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+Yd(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(i=>$t.from(i)),new ds(nt,t,n,!1).topicHash}static from(t){if(ds.isFragment(t))return t;if(typeof t=="string")try{return ds.from(ga(t))}catch{C(!1,"invalid event fragment","obj",t)}else if(t instanceof Un){const n=Ix("event",t),s=Zs(t,!0),i=!!ci(t,or(["anonymous"])).has("anonymous");return Eo(t),new ds(nt,n,s,i)}return new ds(nt,t.name,t.inputs?t.inputs.map(n=>$t.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Cr]===EN}}class Ws extends jo{constructor(t,n,s,i,a){super(t,n,s);I(this,"payable");I(this,"gas");Object.defineProperty(this,Cr,{value:jN}),de(this,{payable:i,gas:a})}format(t){if($(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const n=[`constructor${Yd(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(Ws.isFragment(t))return t;if(typeof t=="string")try{return Ws.from(ga(t))}catch{C(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Un){ci(t,or(["constructor"]));const n=Zs(t),s=!!ci(t,Nz).has("payable"),i=V8(t);return Eo(t),new Ws(nt,"constructor",n,s,i)}return new Ws(nt,"constructor",t.inputs?t.inputs.map($t.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Cr]===jN}}class ks extends jo{constructor(t,n,s){super(t,"fallback",n);I(this,"payable");Object.defineProperty(this,Cr,{value:AN}),de(this,{payable:s})}format(t){const n=this.inputs.length===0?"receive":"fallback";if(t==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(t){if(ks.isFragment(t))return t;if(typeof t=="string")try{return ks.from(ga(t))}catch{C(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Un){const n=t.toString(),s=t.peekKeyword(or(["fallback","receive"]));if(C(s,"type must be fallback or receive","obj",n),t.popKeyword(or(["fallback","receive"]))==="receive"){const c=Zs(t);return C(c.length===0,"receive cannot have arguments","obj.inputs",c),ci(t,or(["payable"])),Eo(t),new ks(nt,[],!0)}let a=Zs(t);a.length?C(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[$t.from("bytes")];const l=z8(t);if(C(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),ci(t,or(["returns"])).has("returns")){const c=Zs(t);C(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return Eo(t),new ks(nt,a,l==="payable")}if(t.type==="receive")return new ks(nt,[],!0);if(t.type==="fallback"){const n=[$t.from("bytes")],s=t.stateMutability==="payable";return new ks(nt,n,s)}C(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Cr]===AN}}class fs extends Ox{constructor(t,n,s,i,a,l){super(t,"function",n,i);I(this,"constant");I(this,"outputs");I(this,"stateMutability");I(this,"payable");I(this,"gas");Object.defineProperty(this,Cr,{value:CN}),a=Object.freeze(a.slice()),de(this,{constant:s==="view"||s==="pure",gas:l,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return li(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});const n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+Yd(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Yd(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(i=>$t.from(i)),new fs(nt,t,"view",n,[],null).selector}static from(t){if(fs.isFragment(t))return t;if(typeof t=="string")try{return fs.from(ga(t))}catch{C(!1,"invalid function fragment","obj",t)}else if(t instanceof Un){const s=Ix("function",t),i=Zs(t),a=z8(t);let l=[];ci(t,or(["returns"])).has("returns")&&(l=Zs(t));const c=V8(t);return Eo(t),new fs(nt,s,a,i,l,c)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new fs(nt,t.name,n,t.inputs?t.inputs.map($t.from):[],t.outputs?t.outputs.map($t.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Cr]===CN}}class xo extends Ox{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Cr,{value:kN})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return xo.from(ga(e))}catch{C(!1,"invalid struct fragment","obj",e)}else if(e instanceof Un){const t=Ix("struct",e),n=Zs(e);return Eo(e),new xo(nt,t,n)}return new xo(nt,e.name,e.inputs?e.inputs.map($t.from):[])}static isFragment(e){return e&&e[Cr]===kN}}const $n=new Map;$n.set(0,"GENERIC_PANIC");$n.set(1,"ASSERT_FALSE");$n.set(17,"OVERFLOW");$n.set(18,"DIVIDE_BY_ZERO");$n.set(33,"ENUM_RANGE_ERROR");$n.set(34,"BAD_STORAGE_DATA");$n.set(49,"STACK_UNDERFLOW");$n.set(50,"ARRAY_RANGE_ERROR");$n.set(65,"OUT_OF_MEMORY");$n.set(81,"UNINITIALIZED_FUNCTION_CALL");const Mz=new RegExp(/^bytes([0-9]*)$/),Lz=new RegExp(/^(u?int)([0-9]*)$/);let yy=null,PN=1024;function Dz(r,e,t,n){let s="missing revert data",i=null;const a=null;let l=null;if(t){s="execution reverted";const u=ee(t);if(t=V(t),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(V(u.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],u.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(V(u.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],u.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[d]},i=`Panic due to ${$n.get(d)||"UNKNOWN"}(${d})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?ke(e.to):null,data:e.data||"0x"};return e.from&&(c.from=ke(e.from)),tt(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:c,invocation:a,revert:l})}var Li,ll;const bp=class bp{constructor(){L(this,Li)}getDefaultValue(e){const t=e.map(s=>K(this,Li,ll).call(this,$t.from(s)));return new Ch(t,"_").defaultValue()}encode(e,t){XA(t.length,e.length,"types/values length mismatch");const n=e.map(a=>K(this,Li,ll).call(this,$t.from(a))),s=new Ch(n,"_"),i=new Zb;return s.encode(i,t),i.data}decode(e,t,n){const s=e.map(a=>K(this,Li,ll).call(this,$t.from(a)));return new Ch(s,"_").decode(new qb(t,n,PN))}static _setDefaultMaxInflation(e){C(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),PN=e}static defaultAbiCoder(){return yy==null&&(yy=new bp),yy}static getBuiltinCallException(e,t,n){return Dz(e,t,n,bp.defaultAbiCoder())}};Li=new WeakSet,ll=function(e){if(e.isArray())return new e$(K(this,Li,ll).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Ch(e.components.map(n=>K(this,Li,ll).call(this,n)),e.name);switch(e.baseType){case"address":return new ZB(e.name);case"bool":return new t$(e.name);case"string":return new u$(e.name);case"bytes":return new r$(e.name);case"":return new i$(e.name)}let t=e.type.match(Lz);if(t){let n=parseInt(t[2]||"256");return C(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new c$(n/8,t[1]==="int",e.name)}if(t=e.type.match(Mz),t){let n=parseInt(t[1]);return C(n!==0&&n<=32,"invalid bytes length","param",e),new n$(n,e.name)}C(!1,"invalid type","type",e.type)};let Zd=bp;class Fz{constructor(e,t,n){I(this,"fragment");I(this,"name");I(this,"signature");I(this,"topic");I(this,"args");const s=e.name,i=e.format();de(this,{fragment:e,name:s,signature:i,topic:t,args:n})}}class Uz{constructor(e,t,n,s){I(this,"fragment");I(this,"name");I(this,"args");I(this,"signature");I(this,"selector");I(this,"value");const i=e.name,a=e.format();de(this,{fragment:e,name:i,args:n,signature:a,selector:t,value:s})}}class Bz{constructor(e,t,n){I(this,"fragment");I(this,"name");I(this,"args");I(this,"signature");I(this,"selector");const s=e.name,i=e.format();de(this,{fragment:e,name:s,args:n,signature:i,selector:t})}}class TN{constructor(e){I(this,"hash");I(this,"_isIndexed");de(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const RN={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},IN={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&RN[r.toString()]&&(e=RN[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};var ns,ss,is,Jt,ys,u0,d0;const Ia=class Ia{constructor(e){L(this,ys);I(this,"fragments");I(this,"deploy");I(this,"fallback");I(this,"receive");L(this,ns);L(this,ss);L(this,is);L(this,Jt);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,j(this,is,new Map),j(this,ns,new Map),j(this,ss,new Map);const n=[];for(const a of t)try{n.push(jo.from(a))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,l.message)}de(this,{fragments:Object.freeze(n)});let s=null,i=!1;j(this,Jt,this.getAbiCoder()),this.fragments.forEach((a,l)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}de(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(C(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${l}]`,a),s=a,i=s.payable);return;case"function":c=v(this,is);break;case"event":c=v(this,ss);break;case"error":c=v(this,ns);break;default:return}const u=a.format();c.has(u)||c.set(u,a)}),this.deploy||de(this,{deploy:Ws.from("constructor()")}),de(this,{fallback:s,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Zd.defaultAbiCoder()}getFunctionName(e){const t=K(this,ys,u0).call(this,e,null,!1);return C(t,"no matching function","key",e),t.name}hasFunction(e){return!!K(this,ys,u0).call(this,e,null,!1)}getFunction(e,t){return K(this,ys,u0).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(v(this,is).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(v(this,is).get(s),n)}}getEventName(e){const t=K(this,ys,d0).call(this,e,null,!1);return C(t,"no matching event","key",e),t.name}hasEvent(e){return!!K(this,ys,d0).call(this,e,null,!1)}getEvent(e,t){return K(this,ys,d0).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(v(this,ss).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(v(this,ss).get(s),n)}}getError(e,t){if(He(e)){const s=e.toLowerCase();if(IN[s])return vr.from(IN[s].signature);for(const i of v(this,ns).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of v(this,ns))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?vr.from("error Error(string)"):e==="Panic"?vr.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");C(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=vr.from(e).format(),e==="Error(string)")return vr.from("error Error(string)");if(e==="Panic(uint256)")return vr.from("error Panic(uint256)");const n=v(this,ns).get(e);return n||null}forEachError(e){const t=Array.from(v(this,ns).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(v(this,ns).get(s),n)}}_decodeParams(e,t){return v(this,Jt).decode(e,t)}_encodeParams(e,t){return v(this,Jt).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);C(n,"unknown error","fragment",e),e=n}return C(Ke(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ke(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);C(n,"unknown error","fragment",e),e=n}return Le([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);C(n,"unknown function","fragment",e),e=n}return C(Ke(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ke(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);C(n,"unknown function","fragment",e),e=n}return Le([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const i=this.getFunction(e);C(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=Ut(t);if(s.length%32===0)try{return v(this,Jt).decode(e.outputs,s)}catch{n="could not decode result data"}$(!1,n,"BAD_DATA",{value:V(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=ee(e,"data"),s=Zd.getBuiltinCallException("call",t,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const l=V(n.slice(0,4)),c=this.getError(l);if(c)try{const u=v(this,Jt).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(t);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);C(n,"unknown function","fragment",e),e=n}return V(v(this,Jt).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const i=this.getEvent(e);C(i,"unknown event","eventFragment",e),e=i}$(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,a)=>i.type==="string"?li(a):i.type==="bytes"?et(V(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=ii(a):i.type.match(/^bytes/)?a=$F(a,32):i.type==="address"&&v(this,Jt).encode(["address"],[a]),si(V(a),32));for(t.forEach((i,a)=>{const l=e.inputs[a];if(!l.indexed){C(i==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,i);return}i==null?n.push(null):l.baseType==="array"||l.baseType==="tuple"?C(!1,"filtering with tuples or arrays not supported","contract."+l.name,i):Array.isArray(i)?n.push(i.map(c=>s(l,c))):n.push(s(l,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){const a=this.getEvent(e);C(a,"unknown event","eventFragment",e),e=a}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),C(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((a,l)=>{const c=t[l];if(a.indexed)if(a.type==="string")n.push(li(c));else if(a.type==="bytes")n.push(et(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(v(this,Jt).encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:v(this,Jt).encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){const p=this.getEvent(e);C(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;C(He(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push($t.from({type:"bytes32",name:p.name})),a.push(!0)):(s.push(p),a.push(!1)):(i.push(p),a.push(!1))});const l=n!=null?v(this,Jt).decode(s,Le(n)):null,c=v(this,Jt).decode(i,t,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((p,g)=>{let x=null;if(p.indexed)if(l==null)x=new TN(null);else if(a[g])x=new TN(l[h++]);else try{x=l[h++]}catch(_){x=_}else try{x=c[f++]}catch(_){x=_}u.push(x),d.push(p.name||null)}),$c.fromItems(u,d)}parseTransaction(e){const t=ee(e.data,"tx.data"),n=ne(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(V(t.slice(0,4)));if(!s)return null;const i=v(this,Jt).decode(s.inputs,t.slice(4));return new Uz(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Fz(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=V(e),n=this.getError(Ke(t,0,4));if(!n)return null;const s=v(this,Jt).decode(n.inputs,Ke(t,4));return new Bz(n,n.selector,s)}static from(e){return e instanceof Ia?e:typeof e=="string"?new Ia(JSON.parse(e)):typeof e.formatJson=="function"?new Ia(e.formatJson()):typeof e.format=="function"?new Ia(e.format("json")):new Ia(e)}};ns=new WeakMap,ss=new WeakMap,is=new WeakMap,Jt=new WeakMap,ys=new WeakSet,u0=function(e,t,n){if(He(e)){const i=e.toLowerCase();for(const a of v(this,is).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,l]of v(this,is))a.split("(")[0]===e&&i.push(l);if(t){const a=t.length>0?t[t.length-1]:null;let l=t.length,c=!0;tr.isTyped(a)&&a.type==="overrides"&&(c=!1,l--);for(let u=i.length-1;u>=0;u--){const d=i[u].inputs.length;d!==l&&(!c||d!==l-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const d=i[u].inputs;for(let f=0;f<t.length;f++)if(tr.isTyped(t[f])){if(f>=d.length){if(t[f].type==="overrides")continue;i.splice(u,1);break}if(t[f].type!==d[f].baseType){i.splice(u,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){const a=t[t.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(l=>JSON.stringify(l.format())).join(", ");C(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=v(this,is).get(fs.from(e).format());return s||null},d0=function(e,t,n){if(He(e)){const i=e.toLowerCase();for(const a of v(this,ss).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,l]of v(this,ss))a.split("(")[0]===e&&i.push(l);if(t){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<t.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const l=i[a].inputs;for(let c=0;c<t.length;c++)if(tr.isTyped(t[c])&&t[c].type!==l[c].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(l=>JSON.stringify(l.format())).join(", ");C(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=v(this,ss).get(ds.from(e).format());return s||null};let hv=Ia;const H8=BigInt(0);function Fl(r){return r??null}function ct(r){return r==null?null:r.toString()}class ON{constructor(e,t,n){I(this,"gasPrice");I(this,"maxFeePerGas");I(this,"maxPriorityFeePerGas");de(this,{gasPrice:Fl(e),maxFeePerGas:Fl(t),maxPriorityFeePerGas:Fl(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:ct(e),maxFeePerGas:ct(t),maxPriorityFeePerGas:ct(n)}}}function qd(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=V(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in r)||r[s]==null||(e[s]=ne(r[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in r)||r[s]==null||(e[s]=ve(r[s],`request.${s}`));return r.accessList&&(e.accessList=Lo(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>wx(s)?V(s):Object.assign({},s))),e}var Ms;class $z{constructor(e,t){I(this,"provider");I(this,"number");I(this,"hash");I(this,"timestamp");I(this,"parentHash");I(this,"parentBeaconBlockRoot");I(this,"nonce");I(this,"difficulty");I(this,"gasLimit");I(this,"gasUsed");I(this,"stateRoot");I(this,"receiptsRoot");I(this,"blobGasUsed");I(this,"excessBlobGas");I(this,"miner");I(this,"prevRandao");I(this,"extraData");I(this,"baseFeePerGas");L(this,Ms);j(this,Ms,e.transactions.map(n=>typeof n!="string"?new ef(n,t):n)),de(this,{provider:t,hash:Fl(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Fl(e.prevRandao),extraData:e.extraData,baseFeePerGas:Fl(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return v(this,Ms).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=v(this,Ms).slice();return e.length===0?[]:($(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:g,timestamp:x,transactions:_}=this;return{_type:"Block",baseFeePerGas:ct(e),difficulty:ct(t),extraData:n,gasLimit:ct(s),gasUsed:ct(i),blobGasUsed:ct(this.blobGasUsed),excessBlobGas:ct(this.excessBlobGas),hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,timestamp:x,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:g,transactions:_}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return v(this,Ms).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=v(this,Ms)[e];else{const n=e.toLowerCase();for(const s of v(this,Ms))if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;C(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return zz(this)}}Ms=new WeakMap;class Lf{constructor(e,t){I(this,"provider");I(this,"transactionHash");I(this,"blockHash");I(this,"blockNumber");I(this,"removed");I(this,"address");I(this,"data");I(this,"topics");I(this,"index");I(this,"transactionIndex");this.provider=t;const n=Object.freeze(e.topics.slice());de(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:a,topics:l,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:a,topics:l,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return $(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return $(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return $(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Vz(this)}}var cf;class G8{constructor(e,t){I(this,"provider");I(this,"to");I(this,"from");I(this,"contractAddress");I(this,"hash");I(this,"index");I(this,"blockHash");I(this,"blockNumber");I(this,"logsBloom");I(this,"gasUsed");I(this,"blobGasUsed");I(this,"cumulativeGasUsed");I(this,"gasPrice");I(this,"blobGasPrice");I(this,"type");I(this,"status");I(this,"root");L(this,cf);j(this,cf,Object.freeze(e.logs.map(s=>new Lf(s,t))));let n=H8;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),de(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return v(this,cf)}toJSON(){const{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:a,blockNumber:l,logsBloom:c,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:l,contractAddress:n,cumulativeGasUsed:ct(this.cumulativeGasUsed),from:t,gasPrice:ct(this.gasPrice),blobGasUsed:ct(this.blobGasUsed),blobGasPrice:ct(this.blobGasPrice),gasUsed:ct(this.gasUsed),hash:s,index:i,logs:u,logsBloom:c,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return W8(this)}reorderedEvent(e){return $(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),K8(this,e)}}cf=new WeakMap;var Di;const $1=class $1{constructor(e,t){I(this,"provider");I(this,"blockNumber");I(this,"blockHash");I(this,"index");I(this,"hash");I(this,"type");I(this,"to");I(this,"from");I(this,"nonce");I(this,"gasLimit");I(this,"gasPrice");I(this,"maxPriorityFeePerGas");I(this,"maxFeePerGas");I(this,"maxFeePerBlobGas");I(this,"data");I(this,"value");I(this,"chainId");I(this,"signature");I(this,"accessList");I(this,"blobVersionedHashes");I(this,"authorizationList");L(this,Di);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,j(this,Di,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:a,from:l,nonce:c,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:ct(this.chainId),data:u,from:l,gasLimit:ct(this.gasLimit),gasPrice:ct(this.gasPrice),hash:s,maxFeePerGas:ct(this.maxFeePerGas),maxPriorityFeePerGas:ct(this.maxPriorityFeePerGas),maxFeePerBlobGas:ct(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:n,type:i,value:ct(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await Zt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=e??1,s=t??0;let i=v(this,Di),a=-1,l=i===-1;const c=async()=>{if(l)return null;const{blockNumber:h,nonce:p}=await Zt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=h;return}if(l)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(a===-1&&(a=i-3,a<v(this,Di)&&(a=v(this,Di)));a<=h;){if(l)return null;const x=await this.provider.getBlock(a,!0);if(x==null)return;for(const _ of x)if(_===this.hash)return;for(let _=0;_<x.length;_++){const b=await x.getTransaction(_);if(b.from===this.from&&b.nonce===this.nonce){if(l)return null;const y=await this.provider.getTransactionReceipt(b.hash);if(y==null||h-y.blockNumber+1<n)return;let m="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?m="repriced":b.data==="0x"&&b.from===b.to&&b.value===H8&&(m="cancelled"),$(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:m==="replaced"||m==="cancelled",reason:m,replacement:b.replaceableTransaction(i),hash:b.hash,receipt:y})}}a++}},u=h=>{if(h==null||h.status!==0)return h;$(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(d);if(d){if(n===1||await d.confirmations()>=n)return u(d)}else if(await c(),n===0)return null;return await new Promise((h,p)=>{const g=[],x=()=>{g.forEach(b=>b())};if(g.push(()=>{l=!0}),s>0){const b=setTimeout(()=>{x(),p(tt("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(b)})}const _=async b=>{if(await b.confirmations()>=n){x();try{h(u(b))}catch(y){p(y)}}};if(g.push(()=>{this.provider.off(this.hash,_)}),this.provider.on(this.hash,_),i>=0){const b=async()=>{try{await c()}catch(y){if(Ft(y,"TRANSACTION_REPLACED")){x(),p(y);return}}l||this.provider.once("block",b)};g.push(()=>{this.provider.off("block",b)}),this.provider.once("block",b)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return $(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),W8(this)}reorderedEvent(e){return $(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),K8(this,e)}replaceableTransaction(e){C(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new $1(this,this.provider);return j(t,Di,e),t}};Di=new WeakMap;let ef=$1;function zz(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function K8(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function W8(r){return{orphan:"drop-transaction",tx:r}}function Vz(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class T1 extends Lf{constructor(t,n,s){super(t,t.provider);I(this,"interface");I(this,"fragment");I(this,"args");const i=n.decodeEventLog(s,t.data,t.topics);de(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class X8 extends Lf{constructor(t,n){super(t,t.provider);I(this,"error");de(this,{error:n})}}var fc;class Hz extends G8{constructor(t,n,s){super(s,n);L(this,fc);j(this,fc,t)}get logs(){return super.logs.map(t=>{const n=t.topics.length?v(this,fc).getEvent(t.topics[0]):null;if(n)try{return new T1(t,v(this,fc),n)}catch(s){return new X8(t,s)}return t})}}fc=new WeakMap;var uf;class R1 extends ef{constructor(t,n,s){super(s,n);L(this,uf);j(this,uf,t)}async wait(t,n){const s=await super.wait(t,n);return s==null?null:new Hz(v(this,uf),this.provider,s)}}uf=new WeakMap;class J8 extends e5{constructor(t,n,s,i){super(t,n,s);I(this,"log");de(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Gz extends J8{constructor(e,t,n,s,i){super(e,t,n,new T1(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);de(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const MN=BigInt(0);function Q8(r){return r&&typeof r.call=="function"}function Y8(r){return r&&typeof r.estimateGas=="function"}function Mx(r){return r&&typeof r.resolveName=="function"}function Z8(r){return r&&typeof r.sendTransaction=="function"}function q8(r){if(r!=null){if(Mx(r))return r;if(r.provider)return r.provider}}var df;class Kz{constructor(e,t,n){L(this,df);I(this,"fragment");if(de(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const s=Ao(e.runner,"resolveName"),i=Mx(s)?s:null;j(this,df,async function(){const a=await Promise.all(t.inputs.map((l,c)=>n[c]==null?null:l.walkAsync(n[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>Tt(h,i))):Tt(f,i):f)));return e.interface.encodeFilterTopics(t,a)}())}getTopicFilter(){return v(this,df)}}df=new WeakMap;function Ao(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function $a(r){return r==null?null:r.provider||null}async function eC(r,e){const t=tr.dereference(r,"overrides");C(typeof t=="object","invalid overrides parameter","overrides",r);const n=qd(t);return C(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),C(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Wz(r,e,t){const n=Ao(r,"resolveName"),s=Mx(n)?n:null;return await Promise.all(e.map((i,a)=>i.walkAsync(t[a],(l,c)=>(c=tr.dereference(c,l),l==="address"?Tt(c,s):c))))}function Xz(r){const e=async function(a){const l=await eC(a,["data"]);l.to=await r.getAddress(),l.from&&(l.from=await Tt(l.from,q8(r.runner)));const c=r.interface,u=ne(l.value||MN,"overrides.value")===MN,d=(l.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&C(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),C(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data);const f=c.receive||c.fallback&&c.fallback.payable;return C(f||u,"cannot send value to non-payable fallback","overrides.value",l.value),C(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data),l},t=async function(a){const l=Ao(r.runner,"call");$(Q8(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await l.call(c)}catch(u){throw p1(u)&&u.data?r.interface.makeError(u.data,c):u}},n=async function(a){const l=r.runner;$(Z8(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await l.sendTransaction(await e(a)),u=$a(r.runner);return new R1(r.interface,u,c)},s=async function(a){const l=Ao(r.runner,"estimateGas");return $(Y8(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(a))},i=async a=>await n(a);return de(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function Jz(r,e){const t=function(...u){const d=r.interface.getFunction(e,u);return $(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},n=async function(...u){const d=t(...u);let f={};if(d.inputs.length+1===u.length&&(f=await eC(u.pop()),f.from&&(f.from=await Tt(f.from,q8(r.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await Wz(r.runner,d.inputs,u);return Object.assign({},f,await Zt({to:r.getAddress(),data:r.interface.encodeFunctionData(d,h)}))},s=async function(...u){const d=await l(...u);return d.length===1?d[0]:d},i=async function(...u){const d=r.runner;$(Z8(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await n(...u)),h=$a(r.runner);return new R1(r.interface,h,f)},a=async function(...u){const d=Ao(r.runner,"estimateGas");return $(Y8(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...u))},l=async function(...u){const d=Ao(r.runner,"call");$(Q8(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...u);let h="0x";try{h=await d.call(f)}catch(g){throw p1(g)&&g.data?r.interface.makeError(g.data,f):g}const p=t(...u);return r.interface.decodeFunctionResult(p,h)},c=async(...u)=>t(...u).constant?await s(...u):await i(...u);return de(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:a,populateTransaction:n,send:i,staticCall:s,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=r.interface.getFunction(e);return $(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function Qz(r,e){const t=function(...s){const i=r.interface.getEvent(e,s);return $(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new Kz(r,t(...s),s)};return de(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=r.interface.getEvent(e);return $(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const cp=Symbol.for("_ethersInternal_contract"),tC=new WeakMap;function Yz(r,e){tC.set(r[cp],e)}function Pr(r){return tC.get(r[cp])}function Zz(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function I1(r,e){let t,n=null;if(Array.isArray(e)){const i=function(a){if(He(a,32))return a;const l=r.interface.getEvent(a);return C(l,"unknown fragment","name",a),l.topicHash};t=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?t=[null]:typeof e=="string"?He(e,32)?t=[e]:(n=r.interface.getEvent(e),C(n,"unknown fragment","event",e),t=[n.topicHash]):Zz(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):C(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(l=>l.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function Ku(r,e){const{subs:t}=Pr(r);return t.get((await I1(r,e)).tag)||null}async function LN(r,e,t){const n=$a(r.runner);$(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await I1(r,t),{addr:l,subs:c}=Pr(r);let u=c.get(i);if(!u){const f={address:l||r,topics:a},h=_=>{let b=s;if(b==null)try{b=r.interface.getEvent(_.topics[0])}catch{}if(b){const y=b,m=s?r.interface.decodeEventLog(s,_.data,_.topics):[];mv(r,t,m,E=>new Gz(r,E,t,y,_))}else mv(r,t,[],y=>new J8(r,y,t,_))};let p=[];u={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(f,h))},stop:async()=>{if(p.length==0)return;let _=p;p=[],await Promise.all(_),n.off(f,h)}},c.set(i,u)}return u}let pv=Promise.resolve();async function qz(r,e,t,n){await pv;const s=await Ku(r,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:l})=>{const c=Array.from(t);n&&c.push(n(l?null:a));try{a.call(r,...c)}catch{}return!l}),s.listeners.length===0&&(s.stop(),Pr(r).subs.delete(s.tag)),i>0}async function mv(r,e,t,n){try{await pv}catch{}const s=qz(r,e,t,n);return pv=s,await s}const Ph=["then"];var qN;qN=cp;const wd=class wd{constructor(e,t,n,s){I(this,"target");I(this,"interface");I(this,"runner");I(this,"filters");I(this,qN);I(this,"fallback");C(typeof e=="string"||a8(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=hv.from(t);de(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,cp,{value:{}});let a,l=null,c=null;if(s){const f=$a(n);c=new R1(this.interface,f,s)}let u=new Map;if(typeof e=="string")if(He(e))l=e,a=Promise.resolve(e);else{const f=Ao(n,"resolveName");if(!Mx(f))throw tt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw tt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Pr(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Pr(this).addr=f,f});Yz(this,{addrPromise:a,addr:l,deployTx:c,subs:u});const d=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||Ph.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(g){if(!Ft(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>Ph.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return de(this,{filters:d}),de(this,{fallback:i.receive||i.fallback?Xz(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||Ph.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(g){if(!Ft(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>typeof h=="symbol"||h in f||Ph.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new wd(this.target,this.interface,e)}attach(e){return new wd(e,this.interface,this.runner)}async getAddress(){return await Pr(this).addrPromise}async getDeployedCode(){const e=$a(this.runner);$(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=$a(this.runner);return $(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",a)}catch(l){i(l)}};a()})}deploymentTransaction(){return Pr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Jz(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Qz(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Pr(this),a=s||await i,{fragment:l,topics:c}=await I1(this,e),u={address:a,topics:c,fromBlock:t,toBlock:n},d=$a(this.runner);return $(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=l;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new T1(f,this.interface,h)}catch(p){return new X8(f,p)}return new Lf(f,d)})}async on(e,t){const n=await LN(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await LN(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await mv(this,e,t,null)}async listenerCount(e){if(e){const s=await Ku(this,e);return s?s.listeners.length:0}const{subs:t}=Pr(this);let n=0;for(const{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){const s=await Ku(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:t}=Pr(this);let n=[];for(const{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){const n=await Ku(this,e);if(!n)return this;if(t){const s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Pr(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Ku(this,e);if(!t)return this;t.stop(),Pr(this).subs.delete(t.tag)}else{const{subs:t}=Pr(this);for(const{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends wd{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}};let xv=wd;function eV(){return xv}class Ul extends eV(){}function by(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):C(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class tV{constructor(e){I(this,"name");de(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const rC=new RegExp("^(ipfs)://(.*)$","i"),DN=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),rC,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Fi,eo,Ui,cl,vp,nC;const jl=class jl{constructor(e,t,n){L(this,Ui);I(this,"provider");I(this,"address");I(this,"name");L(this,Fi);L(this,eo);de(this,{provider:e,address:t,name:n}),j(this,Fi,null),j(this,eo,new Ul(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return v(this,Fi)==null&&j(this,Fi,(async()=>{try{return await v(this,eo).supportsInterface("0x9061b923")}catch(e){if(Ft(e,"CALL_EXCEPTION"))return!1;throw j(this,Fi,null),e}})()),await v(this,Fi)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await K(this,Ui,cl).call(this,"addr(bytes32)");return i==null||i===Gd?null:i}catch(i){if(Ft(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await K(this,Ui,cl).call(this,"addr(bytes32,uint)",[i]);if(He(a,20))return ke(a)}let t=null;for(const i of this.provider.plugins)if(i instanceof tV&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;const n=await K(this,Ui,cl).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await t.decodeAddress(e,n);if(s!=null)return s;$(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await K(this,Ui,cl).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await K(this,Ui,cl).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${qA("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;$(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<DN.length;n++){const s=t.match(DN[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const a=by(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],d=new Ul(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const x=await d.ownerOf(u);if(l!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(i==="erc1155"){const x=await d.balanceOf(l,u);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let f=await d[a](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",ii(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=by(f)),e.push({type:"metadata-url",value:f});let h={};const p=await new ai(f).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const b=p.body;return b&&e.push({type:"!metadata",value:V(b)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(rC)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=by(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return $(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var s;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const i=await K(s=jl,vp,nC).call(s,e,n);if(i!=null){const a=new jl(e,i,t);return n!==t&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};Fi=new WeakMap,eo=new WeakMap,Ui=new WeakSet,cl=async function(e,t){t=(t||[]).slice();const n=v(this,eo).interface;t.unshift(dv(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),$(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[mz(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await v(this,eo)[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Ft(i,"CALL_EXCEPTION"))throw i}return null},vp=new WeakSet,nC=async function(e,t){const n=await jl.getEnsAddress(e);try{const i=await new Ul(n,["function resolver(bytes32) view returns (address)"],e).resolver(dv(t),{enableCcipRead:!0});return i===Gd?null:i}catch(s){throw s}return null},L(jl,vp);let up=jl;const FN=BigInt(0);function Ae(r,e){return function(t){return t==null?e:r(t)}}function tf(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))}}function Df(r,e){return t=>{const n={};for(const s in r){let i=s;if(e&&s in e&&!(i in t)){for(const a of e[s])if(a in t){i=a;break}}try{const a=r[s](t[i]);a!==void 0&&(n[s]=a)}catch(a){const l=a instanceof Error?a.message:"not-an-error";$(!1,`invalid value for value.${s} (${l})`,"BAD_DATA",{value:t})}}return n}}function rV(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}C(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function Qc(r){return C(He(r,!0),"invalid data","value",r),r}function Lt(r){return C(He(r,32),"invalid hash","value",r),r}const nV=Df({address:ke,blockHash:Lt,blockNumber:ve,data:Qc,index:ve,removed:Ae(rV,!1),topics:tf(Lt),transactionHash:Lt,transactionIndex:ve},{index:["logIndex"]});function sV(r){return nV(r)}const iV=Df({hash:Ae(Lt),parentHash:Lt,parentBeaconBlockRoot:Ae(Lt,null),number:ve,timestamp:ve,nonce:Ae(Qc),difficulty:ne,gasLimit:ne,gasUsed:ne,stateRoot:Ae(Lt,null),receiptsRoot:Ae(Lt,null),blobGasUsed:Ae(ne,null),excessBlobGas:Ae(ne,null),miner:Ae(ke),prevRandao:Ae(Lt,null),extraData:Qc,baseFeePerGas:Ae(ne)},{prevRandao:["mixHash"]});function aV(r){const e=iV(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:sC(t)),e}const oV=Df({transactionIndex:ve,blockNumber:ve,transactionHash:Lt,address:ke,topics:tf(Lt),data:Qc,index:ve,blockHash:Lt},{index:["logIndex"]});function lV(r){return oV(r)}const cV=Df({to:Ae(ke,null),from:Ae(ke,null),contractAddress:Ae(ke,null),index:ve,root:Ae(V),gasUsed:ne,blobGasUsed:Ae(ne,null),logsBloom:Ae(Qc),blockHash:Lt,hash:Lt,logs:tf(lV),blockNumber:ve,cumulativeGasUsed:ne,effectiveGasPrice:Ae(ne),blobGasPrice:Ae(ne,null),status:Ae(ve),type:Ae(ve,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function uV(r){return cV(r)}function sC(r){r.to&&ne(r.to)===FN&&(r.to="0x0000000000000000000000000000000000000000");const e=Df({hash:Lt,index:Ae(ve,void 0),type:t=>t==="0x"||t==null?0:ve(t),accessList:Ae(Lo,null),blobVersionedHashes:Ae(tf(Lt,!0),null),authorizationList:Ae(tf(t=>{let n;if(t.signature)n=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},t,{yParity:s})}return{address:ke(t.address),chainId:ne(t.chainId),nonce:ne(t.nonce),signature:Ar.from(n)}},!1),null),blockHash:Ae(Lt,null),blockNumber:Ae(ve,null),transactionIndex:Ae(ve,null),from:ke,gasPrice:Ae(ne),maxPriorityFeePerGas:Ae(ne),maxFeePerGas:Ae(ne),maxFeePerBlobGas:Ae(ne,null),gasLimit:ne,to:Ae(ke,null),value:ne,nonce:ve,data:Qc,creates:Ae(ke,null),chainId:Ae(ne,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=YB(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=Ar.from(r.signature):e.signature=Ar.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&ne(e.blockHash)===FN&&(e.blockHash=null),e}const dV="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Ff{constructor(e){I(this,"name");de(this,{name:e})}clone(){return new Ff(this.name)}}class Lx extends Ff{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);I(this,"effectiveBlock");I(this,"txBase");I(this,"txCreate");I(this,"txDataZero");I(this,"txDataNonzero");I(this,"txAccessListStorageKey");I(this,"txAccessListAddress");const s={effectiveBlock:t};function i(a,l){let c=(n||{})[a];c==null&&(c=l),C(typeof c=="number",`invalud value for ${a}`,"costs",n),s[a]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),de(this,s)}clone(){return new Lx(this.effectiveBlock,this)}}class Dx extends Ff{constructor(t,n){super("org.ethers.plugins.network.Ens");I(this,"address");I(this,"targetNetwork");de(this,{address:t||dV,targetNetwork:n??1})}clone(){return new Dx(this.address,this.targetNetwork)}}var ff,hf;class fV extends Ff{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");L(this,ff);L(this,hf);j(this,ff,t),j(this,hf,n)}get url(){return v(this,ff)}get processFunc(){return v(this,hf)}clone(){return this}}ff=new WeakMap,hf=new WeakMap;const vy=new Map;var hc,pc,Bi;const Al=class Al{constructor(e,t){L(this,hc);L(this,pc);L(this,Bi);j(this,hc,e),j(this,pc,ne(t)),j(this,Bi,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return v(this,hc)}set name(e){j(this,hc,e)}get chainId(){return v(this,pc)}set chainId(e){j(this,pc,ne(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ne(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ne(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ne(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(v(this,Bi).values())}attachPlugin(e){if(v(this,Bi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,Bi).set(e.name,e.clone()),this}getPlugin(e){return v(this,Bi).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Al(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Lx;let n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const s=Lo(e.accessList);for(const i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(hV(),e==null)return Al.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=vy.get(e);if(t)return t();if(typeof e=="bigint")return new Al("unknown",e);C(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){C(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new Al(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Dx(e.ensAddress,e.ensNetwork)),t}C(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const n=vy.get(e);n&&C(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),vy.set(e,t)}};hc=new WeakMap,pc=new WeakMap,Bi=new WeakMap;let ps=Al;function UN(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function BN(r){return new fV(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([n.send(),e()]);s=i;const l=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:UN(l.maxFee,9),maxPriorityFeePerGas:UN(l.maxPriorityFee,9)}}catch(i){$(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let $N=!1;function hV(){if($N)return;$N=!0;function r(e,t,n){const s=function(){const i=new ps(e,t);return n.ensNetwork!=null&&i.attachPlugin(new Dx(null,n.ensNetwork)),i.attachPlugin(new Lx),(n.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};ps.register(e,s),ps.register(t,s),n.altNames&&n.altNames.forEach(i=>{ps.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[BN("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[BN("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function gv(r){return JSON.parse(JSON.stringify(r))}var Ls,tn,$i,as,mc,f0;class pV{constructor(e){L(this,mc);L(this,Ls);L(this,tn);L(this,$i);L(this,as);j(this,Ls,e),j(this,tn,null),j(this,$i,4e3),j(this,as,-2)}get pollingInterval(){return v(this,$i)}set pollingInterval(e){j(this,$i,e)}start(){v(this,tn)||(j(this,tn,v(this,Ls)._setTimeout(K(this,mc,f0).bind(this),v(this,$i))),K(this,mc,f0).call(this))}stop(){v(this,tn)&&(v(this,Ls)._clearTimeout(v(this,tn)),j(this,tn,null))}pause(e){this.stop(),e&&j(this,as,-2)}resume(){this.start()}}Ls=new WeakMap,tn=new WeakMap,$i=new WeakMap,as=new WeakMap,mc=new WeakSet,f0=async function(){try{const e=await v(this,Ls).getBlockNumber();if(v(this,as)===-2){j(this,as,e);return}if(e!==v(this,as)){for(let t=v(this,as)+1;t<=e;t++){if(v(this,tn)==null)return;await v(this,Ls).emit("block",t)}j(this,as,e)}}catch{}v(this,tn)!=null&&j(this,tn,v(this,Ls)._setTimeout(K(this,mc,f0).bind(this),v(this,$i)))};var to,ro,zi;class O1{constructor(e){L(this,to);L(this,ro);L(this,zi);j(this,to,e),j(this,zi,!1),j(this,ro,t=>{this._poll(t,v(this,to))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){v(this,zi)||(j(this,zi,!0),v(this,ro).call(this,-2),v(this,to).on("block",v(this,ro)))}stop(){v(this,zi)&&(j(this,zi,!1),v(this,to).off("block",v(this,ro)))}pause(e){this.stop()}resume(){this.start()}}to=new WeakMap,ro=new WeakMap,zi=new WeakMap;var xc,Ds;class mV extends O1{constructor(t,n){super(t);L(this,xc);L(this,Ds);j(this,xc,n),j(this,Ds,-2)}pause(t){t&&j(this,Ds,-2),super.pause(t)}async _poll(t,n){const s=await n.getBlock(v(this,xc));s!=null&&(v(this,Ds)===-2?j(this,Ds,s.number):s.number>v(this,Ds)&&(n.emit(v(this,xc),s.number),j(this,Ds,s.number)))}}xc=new WeakMap,Ds=new WeakMap;var wp;class xV extends O1{constructor(t,n){super(t);L(this,wp);j(this,wp,gv(n))}async _poll(t,n){throw new Error("@TODO")}}wp=new WeakMap;var gc;class gV extends O1{constructor(t,n){super(t);L(this,gc);j(this,gc,n)}async _poll(t,n){const s=await n.getTransactionReceipt(v(this,gc));s&&n.emit(v(this,gc),s)}}gc=new WeakMap;var Fs,yc,bc,Vi,rn,_p,iC;class M1{constructor(e,t){L(this,_p);L(this,Fs);L(this,yc);L(this,bc);L(this,Vi);L(this,rn);j(this,Fs,e),j(this,yc,gv(t)),j(this,bc,K(this,_p,iC).bind(this)),j(this,Vi,!1),j(this,rn,-2)}start(){v(this,Vi)||(j(this,Vi,!0),v(this,rn)===-2&&v(this,Fs).getBlockNumber().then(e=>{j(this,rn,e)}),v(this,Fs).on("block",v(this,bc)))}stop(){v(this,Vi)&&(j(this,Vi,!1),v(this,Fs).off("block",v(this,bc)))}pause(e){this.stop(),e&&j(this,rn,-2)}resume(){this.start()}}Fs=new WeakMap,yc=new WeakMap,bc=new WeakMap,Vi=new WeakMap,rn=new WeakMap,_p=new WeakSet,iC=async function(e){if(v(this,rn)===-2)return;const t=gv(v(this,yc));t.fromBlock=v(this,rn)+1,t.toBlock=e;const n=await v(this,Fs).getLogs(t);if(n.length===0){v(this,rn)<e-60&&j(this,rn,e-60);return}for(const s of n)v(this,Fs).emit(v(this,yc),s),j(this,rn,s.blockNumber)};const yV=BigInt(2),bV=10;function Th(r){return r&&typeof r.then=="function"}function h0(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,a)=>(i[a]=n[a],i),{})}return n})}class aC{constructor(e){I(this,"name");de(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function vV(r){return JSON.parse(JSON.stringify(r))}function yv(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function wy(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(He(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:h0("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:h0("orphan",t),filter:vV(t)}}if(r.address||r.topics){const t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?yv(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],i=[],a=l=>{He(l)?s.push(l):i.push((async()=>{s.push(await Tt(l,e))})())};Array.isArray(t.address)?t.address.forEach(a):a(t.address),i.length&&await Promise.all(i),n.address=yv(s.map(l=>l.toLowerCase()))}return{filter:n,tag:h0("event",n),type:"event"}}C(!1,"unknown ProviderEvent","event",r)}function _y(){return new Date().getTime()}const wV={cacheTimeout:250,pollingInterval:4e3};var Qt,Hi,Yt,vc,Or,no,Gi,Us,pf,nn,wc,_c,we,kr,bv,vv,Wu,wv,Xu,p0;class _V{constructor(e,t){L(this,we);L(this,Qt);L(this,Hi);L(this,Yt);L(this,vc);L(this,Or);L(this,no);L(this,Gi);L(this,Us);L(this,pf);L(this,nn);L(this,wc);L(this,_c);if(j(this,_c,Object.assign({},wV,t||{})),e==="any")j(this,no,!0),j(this,Or,null);else if(e){const n=ps.from(e);j(this,no,!1),j(this,Or,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else j(this,no,!1),j(this,Or,null);j(this,Us,-1),j(this,Gi,new Map),j(this,Qt,new Map),j(this,Hi,new Map),j(this,Yt,null),j(this,vc,!1),j(this,pf,1),j(this,nn,new Map),j(this,wc,!1)}get pollingInterval(){return v(this,_c).pollingInterval}get provider(){return this}get plugins(){return Array.from(v(this,Hi).values())}attachPlugin(e){if(v(this,Hi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,Hi).set(e.name,e.connect(this)),this}getPlugin(e){return v(this,Hi).get(e)||null}get disableCcipRead(){return v(this,wc)}set disableCcipRead(e){j(this,wc,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let l=0;l<n.length;l++){const c=n[l],u=c.replace("{sender}",s).replace("{data}",i),d=new ai(u);c.indexOf("{data}")===-1&&(d.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:l,urls:n});let f="unknown error",h;try{h=await d.send()}catch(p){a.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:p}});continue}try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:p})}catch{}$(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),a.push(f)}$(!1,`error encountered during CCIP fetch: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,t){return new $z(aV(e),this)}_wrapLog(e,t){return new Lf(sV(e),this)}_wrapTransactionReceipt(e,t){return new G8(uV(e),this)}_wrapTransactionResponse(e,t){return new ef(sC(e),this)}_detectNetwork(){$(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){$(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ve(await K(this,we,kr).call(this,{method:"getBlockNumber"}),"%response");return v(this,Us)>=0&&j(this,Us,e),e}_getAddress(e){return Tt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(He(e))return He(e,32)?e:Rn(e);if(typeof e=="bigint"&&(e=ve(e,"blockTag")),typeof e=="number")return e>=0?Rn(e):v(this,Us)>=0?Rn(v(this,Us)+e):this.getBlockNumber().then(t=>Rn(t+e));C(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?yv(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,u,d)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),t.length&&(h.topics=t),u&&(h.fromBlock=u),d&&(h.toBlock=d),n&&(h.blockHash=n),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(i),a,l]).then(c=>s(c[0],c[1],c[2])):s(i,a,l)}_getTransactionRequest(e){const t=qd(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const i=Tt(t[s],this);Th(i)?n.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);Th(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(v(this,Or)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw v(this,Or)===s&&j(this,Or,null),i}})();return j(this,Or,s),(await s).clone()}const e=v(this,Or),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(v(this,no)?(this.emit("network",n,t),v(this,Or)===e&&j(this,Or,Promise.resolve(n))):$(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:i,priorityFee:a}=await Zt({_block:K(this,we,wv).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await K(this,we,kr).call(this,{method:"getGasPrice"});return ne(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await K(this,we,kr).call(this,{method:"getPriorityFee"});return ne(d,"%response")}catch{}return null})()});let l=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=a??BigInt("1000000000"),l=u.baseFeePerGas*yV+c),new ON(i,l,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new ai(n.url),i=await n.processFunc(t,this,s);return new ON(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Th(t)&&(t=await t),ne(await K(this,we,kr).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await Zt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await K(this,we,vv).call(this,K(this,we,bv).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return ne(await K(this,we,Wu).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return ve(await K(this,we,Wu).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return V(await K(this,we,Wu).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const s=ne(t,"position");return V(await K(this,we,Wu).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:s}=await Zt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Kd.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:s}=await Zt({network:this.getNetwork(),params:K(this,we,wv).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:t,params:n}=await Zt({network:this.getNetwork(),params:K(this,we,kr).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Zt({network:this.getNetwork(),params:K(this,we,kr).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await K(this,we,kr).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Zt({network:this.getNetwork(),result:K(this,we,kr).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:V(t)}async getLogs(e){let t=this._getFilter(e);Th(t)&&(t=await t);const{network:n,params:s}=await Zt({network:this.getNetwork(),params:K(this,we,kr).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){$(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await up.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=ke(e);const t=dv(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await up.getEnsAddress(this),i=await new Ul(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===Gd)return null;const l=await new Ul(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(l)!==e?null:l}catch(n){if(Ft(n,"BAD_DATA")&&n.value==="0x"||Ft(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let l=null;const c=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=s){i(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};n!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c),a(tt("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){$(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=v(this,nn).get(e);t&&(t.timer&&clearTimeout(t.timer),v(this,nn).delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=mu(this,pf)._++,s=()=>{v(this,nn).delete(n),e()};if(this.paused)v(this,nn).set(n,{timer:null,func:s,time:t});else{const i=setTimeout(s,t);v(this,nn).set(n,{timer:i,func:s,time:_y()})}return n}_forEachSubscriber(e){for(const t of v(this,Qt).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new aC(e.type);case"block":{const t=new pV(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new mV(this,e.type);case"event":return new M1(this,e.filter);case"transaction":return new gV(this,e.hash);case"orphan":return new xV(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of v(this,Qt).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),v(this,Yt)!=null&&t.pause(v(this,Yt));break}}async on(e,t){const n=await K(this,we,p0).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,v(this,Yt)!=null&&n.subscriber.pause(v(this,Yt))),this}async once(e,t){const n=await K(this,we,p0).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,v(this,Yt)!=null&&n.subscriber.pause(v(this,Yt))),this}async emit(e,...t){const n=await K(this,we,Xu).call(this,e,t);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:a})=>{const l=new e5(this,a?null:i,e);try{i.call(this,...t,l)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),v(this,Qt).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await K(this,we,Xu).call(this,e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of v(this,Qt).values())t+=n.length;return t}async listeners(e){if(e){const n=await K(this,we,Xu).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:n}of v(this,Qt).values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){const n=await K(this,we,Xu).call(this,e);if(!n)return this;if(t){const s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),v(this,Qt).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:s}=await K(this,we,p0).call(this,e);n&&s.stop(),v(this,Qt).delete(t)}else for(const[t,{started:n,subscriber:s}]of v(this,Qt))n&&s.stop(),v(this,Qt).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return v(this,vc)}destroy(){this.removeAllListeners();for(const e of v(this,nn).keys())this._clearTimeout(e);j(this,vc,!0)}get paused(){return v(this,Yt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(j(this,Us,-1),v(this,Yt)!=null){if(v(this,Yt)==!!e)return;$(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),j(this,Yt,!!e);for(const t of v(this,nn).values())t.timer&&clearTimeout(t.timer),t.time=_y()-t.time}resume(){if(v(this,Yt)!=null){this._forEachSubscriber(e=>e.resume()),j(this,Yt,null);for(const e of v(this,nn).values()){let t=e.time;t<0&&(t=0),e.time=_y(),setTimeout(e.func,t)}}}}Qt=new WeakMap,Hi=new WeakMap,Yt=new WeakMap,vc=new WeakMap,Or=new WeakMap,no=new WeakMap,Gi=new WeakMap,Us=new WeakMap,pf=new WeakMap,nn=new WeakMap,wc=new WeakMap,_c=new WeakMap,we=new WeakSet,kr=async function(e){const t=v(this,_c).cacheTimeout;if(t<0)return await this._perform(e);const n=h0(e.method,e);let s=v(this,Gi).get(n);return s||(s=this._perform(e),v(this,Gi).set(n,s),setTimeout(()=>{v(this,Gi).get(n)===s&&v(this,Gi).delete(n)},t)),await s},bv=async function(e,t,n){$(n<bV,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=qd(e);try{return V(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&p1(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&Ke(i.data,0,4)==="0x556f1830"){const a=i.data,l=await Tt(s.to,this);let c;try{c=AV(Ke(i.data,4))}catch(f){$(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}$(c.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(s,c.calldata,c.urls);$(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const d={to:l,data:Le([c.selector,jV([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await K(this,we,bv).call(this,d,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw i}},vv=async function(e){const{value:t}=await Zt({network:this.getNetwork(),value:e});return t},Wu=async function(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await K(this,we,vv).call(this,K(this,we,kr).call(this,Object.assign(e,{address:s,blockTag:i})))},wv=async function(e,t){if(He(e,32))return await K(this,we,kr).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await K(this,we,kr).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},Xu=async function(e,t){let n=await wy(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await wy({orphan:"drop-log",log:t[0]},this)),v(this,Qt).get(n.tag)||null},p0=async function(e){const t=await wy(e,this),n=t.tag;let s=v(this,Qt).get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},v(this,Qt).set(n,s)),s};function SV(r,e){try{const t=_v(r,e);if(t)return np(t)}catch{}return null}function _v(r,e){if(r==="0x")return null;try{const t=ve(Ke(r,e,e+32)),n=ve(Ke(r,t,t+32));return Ke(r,t+32,t+32+n)}catch{}return null}function zN(r){const e=ot(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function NV(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const EV=new Uint8Array([]);function jV(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(EV),t+=32;for(let n=0;n<r.length;n++){const s=ee(r[n]);e[n]=zN(t),e.push(zN(s.length)),e.push(NV(s)),t+=32+Math.ceil(s.length/32)*32}return Le(e)}const VN="0x0000000000000000000000000000000000000000000000000000000000000000";function AV(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};$(Ml(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Ke(r,0,32);$(Ke(t,0,12)===Ke(VN,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ke(t,12);try{const n=[],s=ve(Ke(r,32,64)),i=ve(Ke(r,s,s+32)),a=Ke(r,s+32);for(let l=0;l<i;l++){const c=SV(a,l*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{$(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=_v(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{$(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}$(Ke(r,100,128)===Ke(VN,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ke(r,96,100);try{const n=_v(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{$(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function wa(r,e){if(r.provider)return r.provider;$(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function HN(r,e){let t=qd(e);if(t.to!=null&&(t.to=Tt(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),Tt(n,r)]).then(([s,i])=>(C(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await Zt(t)}class L1{constructor(e){I(this,"provider");de(this,{provider:e||null})}async getNonce(e){return wa(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await HN(this,e)}async populateTransaction(e){const t=wa(this,"populateTransaction"),n=await HN(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const a=ne(n.chainId);C(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?C(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&C(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await t.getFeeData();$(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await t.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const l=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=l,n.maxPriorityFeePerGas=l}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?($(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):$(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Zt(n)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await wa(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return wa(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return wa(this,"call").call(await this.populateCall(e))}async resolveName(e){return await wa(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=wa(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=Kd.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){$(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Sc,m0;const z1=class z1 extends L1{constructor(t,n){super(n);L(this,Sc);I(this,"address");de(this,{address:t})}async getAddress(){return this.address}connect(t){return new z1(this.address,t)}async signTransaction(t){K(this,Sc,m0).call(this,"transactions","signTransaction")}async signMessage(t){K(this,Sc,m0).call(this,"messages","signMessage")}async signTypedData(t,n,s){K(this,Sc,m0).call(this,"typed-data","signTypedData")}};Sc=new WeakSet,m0=function(t,n){$(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};let Sv=z1;function CV(r){return JSON.parse(JSON.stringify(r))}var sr,os,so,Ki,io,Nc,ua,Nv,Ev;class oC{constructor(e){L(this,ua);L(this,sr);L(this,os);L(this,so);L(this,Ki);L(this,io);L(this,Nc);j(this,sr,e),j(this,os,null),j(this,so,K(this,ua,Nv).bind(this)),j(this,Ki,!1),j(this,io,null),j(this,Nc,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){v(this,Ki)||(j(this,Ki,!0),K(this,ua,Nv).call(this,-2))}stop(){v(this,Ki)&&(j(this,Ki,!1),j(this,Nc,!0),K(this,ua,Ev).call(this),v(this,sr).off("block",v(this,so)))}pause(e){e&&K(this,ua,Ev).call(this),v(this,sr).off("block",v(this,so))}resume(){this.start()}}sr=new WeakMap,os=new WeakMap,so=new WeakMap,Ki=new WeakMap,io=new WeakMap,Nc=new WeakMap,ua=new WeakSet,Nv=async function(e){try{v(this,os)==null&&j(this,os,this._subscribe(v(this,sr)));let t=null;try{t=await v(this,os)}catch(i){if(!Ft(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){j(this,os,null),v(this,sr)._recoverSubscriber(this,this._recover(v(this,sr)));return}const n=await v(this,sr).getNetwork();if(v(this,io)||j(this,io,n),v(this,io).chainId!==n.chainId)throw new Error("chaid changed");if(v(this,Nc))return;const s=await v(this,sr).send("eth_getFilterChanges",[t]);await this._emitResults(v(this,sr),s)}catch(t){console.log("@TODO",t)}v(this,sr).once("block",v(this,so))},Ev=function(){const e=v(this,os);e&&(j(this,os,null),e.then(t=>{v(this,sr).destroyed||v(this,sr).send("eth_uninstallFilter",[t])}))};var ao;class kV extends oC{constructor(t,n){super(t);L(this,ao);j(this,ao,CV(n))}_recover(t){return new M1(t,v(this,ao))}async _subscribe(t){return await t.send("eth_newFilter",[v(this,ao)])}async _emitResults(t,n){for(const s of n)t.emit(v(this,ao),t._wrapLog(s,t._network))}}ao=new WeakMap;class PV extends oC{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const TV="bigint,boolean,function,number,string,symbol".split(/,/g);function x0(r){if(r==null||TV.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(x0);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function RV(r){return new Promise(e=>{setTimeout(e,r)})}function rl(r){return r&&r.toLowerCase()}function GN(r){return r&&typeof r.pollingInterval=="number"}const lC={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Sy extends L1{constructor(t,n){super(t);I(this,"address");n=ke(n),de(this,{address:n})}connect(t){$(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const n=x0(t),s=[];if(n.from){const a=n.from;s.push((async()=>{const l=await Tt(a,this.provider);C(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=l})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;s.push((async()=>{n.to=await Tt(a,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,a)=>{const l=[1e3,100];let c=0;const u=async()=>{try{const d=await this.provider.getTransaction(s);if(d!=null){i(d.replaceableTransaction(n));return}}catch(d){if(Ft(d,"CANCELLED")||Ft(d,"BAD_DATA")||Ft(d,"NETWORK_ERROR")||Ft(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=s,a(d);return}if(Ft(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=s,c>10)){a(d);return}this.provider.emit("error",tt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},l.pop()||4e3)};u()})}async signTransaction(t){const n=x0(t);if(n.from){const i=await Tt(n.from,this.provider);C(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){const n=typeof t=="string"?cr(t):t;return await this.provider.send("personal_sign",[V(n),this.address.toLowerCase()])}async signTypedData(t,n,s){const i=x0(s),a=await Jc.resolveNames(t,n,i,async l=>{const c=await Tt(l);return C(c!=null,"TypedData does not support null address","value",l),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Jc.getPayload(a.domain,n,a.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const n=typeof t=="string"?cr(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),V(n)])}}var oo,Ec,Bs,ls,Cn,sn,xr,mf,jv;class IV extends _V{constructor(t,n){super(t,n);L(this,mf);L(this,oo);L(this,Ec);L(this,Bs);L(this,ls);L(this,Cn);L(this,sn);L(this,xr);j(this,Ec,1),j(this,oo,Object.assign({},lC,n||{})),j(this,Bs,[]),j(this,ls,null),j(this,sn,null),j(this,xr,null);{let i=null;const a=new Promise(l=>{i=l});j(this,Cn,{promise:a,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(C(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&t!=null&&j(this,sn,ps.from(t))):s&&(C(t==null||s.matches(t),"staticNetwork MUST match network object","options",n),j(this,sn,s))}_getOption(t){return v(this,oo)[t]}get _network(){return $(v(this,sn),"network is not available yet","NETWORK_ERROR"),v(this,sn)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&ne(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(v(this,sn))return v(this,sn)}else return t;return v(this,xr)?await v(this,xr):this.ready?(j(this,xr,(async()=>{try{const n=ps.from(ne(await this.send("eth_chainId",[])));return j(this,xr,null),n}catch(n){throw j(this,xr,null),n}})()),await v(this,xr)):(j(this,xr,(async()=>{const n={id:mu(this,Ec)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],j(this,xr,null)}catch(i){throw j(this,xr,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return ps.from(ne(s.result));throw this.getRpcError(n,s)})()),await v(this,xr))}_start(){v(this,Cn)==null||v(this,Cn).resolve==null||(v(this,Cn).resolve(),j(this,Cn,null),(async()=>{for(;v(this,sn)==null&&!this.destroyed;)try{j(this,sn,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",tt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await RV(1e3)}K(this,mf,jv).call(this)})())}async _waitUntilReady(){if(v(this,Cn)!=null)return await v(this,Cn).promise}_getSubscriber(t){return t.type==="pending"?new PV(this):t.type==="event"?this._getOption("polling")?new M1(this,t.filter):new kV(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new aC("orphan"):super._getSubscriber(t)}get ready(){return v(this,Cn)==null}getRpcTransaction(t){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=Rn(ne(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(n[s]=V(t[s]))}),t.accessList&&(n.accessList=Lo(t.accessList)),t.blobVersionedHashes&&(n.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),t.authorizationList&&(n.authorizationList=t.authorizationList.map(s=>{const i=u8(s);return{address:i.address,nonce:Rn(i.nonce),chainId:Rn(i.chainId),yParity:Rn(i.signature.yParity),r:Rn(i.signature.r),s:Rn(i.signature.s)}})),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[rl(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[rl(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[rl(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[rl(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(rl):t.filter.address=rl(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){const{method:s}=t,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return tt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return tt("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=Av(i),u=Zd.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return u.info={error:i,payload:t},u}const a=JSON.stringify(LV(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return tt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=t.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return tt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return tt("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return tt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(a.match(/only replay-protected/i))return tt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let l=!!a.match(/the method .* does not exist/i);return l||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(l=!0),l?tt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):tt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,n){if(this.destroyed)return Promise.reject(tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const s=mu(this,Ec)._++,i=new Promise((a,l)=>{v(this,Bs).push({resolve:a,reject:l,payload:{method:t,params:n,id:s,jsonrpc:"2.0"}})});return K(this,mf,jv).call(this),i}async getSigner(t){t==null&&(t=0);const n=this.send("eth_accounts",[]);if(typeof t=="number"){const i=await n;if(t>=i.length)throw new Error("no such account");return new Sy(this,i[t])}const{accounts:s}=await Zt({network:this.getNetwork(),accounts:n});t=ke(t);for(const i of s)if(ke(i)===t)return new Sy(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Sy(this,n))}destroy(){v(this,ls)&&(clearTimeout(v(this,ls)),j(this,ls,null));for(const{payload:t,reject:n}of v(this,Bs))n(tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));j(this,Bs,[]),super.destroy()}}oo=new WeakMap,Ec=new WeakMap,Bs=new WeakMap,ls=new WeakMap,Cn=new WeakMap,sn=new WeakMap,xr=new WeakMap,mf=new WeakSet,jv=function(){if(v(this,ls))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");j(this,ls,setTimeout(()=>{j(this,ls,null);const n=v(this,Bs);for(j(this,Bs,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==v(this,oo).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(a=>a.payload)).length>v(this,oo).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:l,reject:c,payload:u}of s){if(this.destroyed){c(tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=a.filter(f=>f.id===u.id)[0];if(d==null){const f=tt("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",f),c(f);continue}if("error"in d){c(this.getRpcError(u,d));continue}l(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:l}of s)l(a)}})()}},t))};var Wi;class OV extends IV{constructor(t,n){super(t,n);L(this,Wi);let s=this._getOption("pollingInterval");s==null&&(s=lC.pollingInterval),j(this,Wi,s)}_getSubscriber(t){const n=super._getSubscriber(t);return GN(n)&&(n.pollingInterval=v(this,Wi)),n}get pollingInterval(){return v(this,Wi)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");j(this,Wi,t),this._forEachSubscriber(n=>{GN(n)&&(n.pollingInterval=v(this,Wi))})}}Wi=new WeakMap;var jc;class MV extends OV{constructor(t,n,s){t==null&&(t="http://localhost:8545");super(n,s);L(this,jc);typeof t=="string"?j(this,jc,new ai(t)):j(this,jc,t.clone())}_getConnection(){return v(this,jc).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){const n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}jc=new WeakMap;function Av(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&He(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=Av(r[e]);if(t)return t}return null}if(typeof r=="string")try{return Av(JSON.parse(r))}catch{}return null}function Cv(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)Cv(r[t],e);if(typeof r=="string")try{return Cv(JSON.parse(r),e)}catch{}}}function LV(r){const e=[];return Cv(r,e),e}var Ac;const V1=class V1 extends L1{constructor(t,n){super(n);I(this,"address");L(this,Ac);C(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),j(this,Ac,t);const s=Mf(this.signingKey.publicKey);de(this,{address:s})}get signingKey(){return v(this,Ac)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new V1(v(this,Ac),t)}async signTransaction(t){t=qd(t);const{to:n,from:s}=await Zt({to:t.to?Tt(t.to,this):void 0,from:t.from?Tt(t.from,this):void 0});n!=null&&(t.to=n),s!=null&&(t.from=s),t.from!=null&&(C(ke(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const i=Kd.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(xz(t)).serialized}authorizeSync(t){C(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const n=this.signingKey.sign(T$(t));return Object.assign({},{address:ke(t.address),nonce:ne(t.nonce||0),chainId:ne(t.chainId||0)},{signature:n})}async authorize(t){return t=Object.assign({},t,{address:await Tt(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,n,s){const i=await Jc.resolveNames(t,n,s,async a=>{$(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const l=await this.provider.resolveName(a);return $(l!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),l});return this.signingKey.sign(Jc.hash(i.domain,n,i.value)).serialized}};Ac=new WeakMap;let dp=V1;const fp=" !#$%&'()*+,-./<=>?@[]^_`{|}~",DV=/^[a-z]*$/i;function KN(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(DV)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function FV(r,e){for(let s=fp.length-1;s>=0;s--)r=r.split(fp[s]).join(e.substring(2*s,2*s+2));const t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,a,l)=>{if(a)for(let c=parseInt(a);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return KN(KN(t,";"),":")}function UV(r){return C(r[0]==="0","unsupported auwl data","data",r),FV(r.substring(1+2*fp.length),r.substring(1,1+2*fp.length))}class BV{constructor(e){I(this,"locale");de(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Cc,xf,lo,gf,kv;class $V extends BV{constructor(t,n,s){super(t);L(this,gf);L(this,Cc);L(this,xf);L(this,lo);j(this,Cc,n),j(this,xf,s),j(this,lo,null)}get _data(){return v(this,Cc)}_decodeWords(){return UV(v(this,Cc))}getWord(t){const n=K(this,gf,kv).call(this);return C(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return K(this,gf,kv).call(this).indexOf(t)}}Cc=new WeakMap,xf=new WeakMap,lo=new WeakMap,gf=new WeakSet,kv=function(){if(v(this,lo)==null){const t=this._decodeWords();if(li(t.join(`
`)+`
`)!==v(this,xf))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);j(this,lo,t)}return v(this,lo)};const zV="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",VV="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Ny=null;class Co extends $V{constructor(){super("en",zV,VV)}static wordlist(){return Ny==null&&(Ny=new Co),Ny}}function cC(r){return(1<<r)-1<<8-r&255}function HV(r){return(1<<r)-1&255}function Ey(r,e){JA("NFKD"),e==null&&(e=Co.wordlist());const t=e.split(r);C(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*t.length/8));let s=0;for(let u=0;u<t.length;u++){let d=e.getWordIndex(t[u].normalize("NFKD"));C(d>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)d&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}const i=32*t.length/3,a=t.length/3,l=cC(a),c=ee(pn(n.slice(0,i/8)))[0]&l;return C(c===(n[n.length-1]&l),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),V(n.slice(0,i/8))}function jy(r,e){C(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Co.wordlist());const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&HV(8-n)),n+=3);const s=r.length/4,i=parseInt(pn(r).substring(2,4),16)&cC(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(a=>e.getWord(a)))}const Ay={};class Yc{constructor(e,t,n,s,i){I(this,"phrase");I(this,"password");I(this,"wordlist");I(this,"entropy");s==null&&(s=""),i==null&&(i=Co.wordlist()),Mo(e,Ay,"Mnemonic"),de(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){const e=cr("mnemonic"+this.password,"NFKD");return xa(cr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const s=Ey(e,n);return e=jy(ee(s),n),new Yc(Ay,s,e,t,n)}static fromEntropy(e,t,n){const s=ee(e,"entropy"),i=jy(s,n);return new Yc(Ay,V(s),i,t,n)}static entropyToPhrase(e,t){const n=ee(e,"entropy");return jy(n,t)}static phraseToEntropy(e,t){return Ey(e,t)}static isValidMnemonic(e,t){try{return Ey(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var It=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Cy=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},g0,Yr,Yn;const GV={16:10,24:12,32:14},KV=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Jr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Rh=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],WV=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],XV=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],JV=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],QV=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],YV=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],ZV=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],qV=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],eH=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],tH=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],rH=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],nH=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],sH=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function ky(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class D1{get key(){return It(this,g0,"f").slice()}constructor(e){if(g0.set(this,void 0),Yr.set(this,void 0),Yn.set(this,void 0),!(this instanceof D1))throw Error("AES must be instanitated with `new`");Cy(this,g0,new Uint8Array(e),"f");const t=GV[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Cy(this,Yn,[],"f"),Cy(this,Yr,[],"f");for(let d=0;d<=t;d++)It(this,Yn,"f").push([0,0,0,0]),It(this,Yr,"f").push([0,0,0,0]);const n=(t+1)*4,s=this.key.length/4,i=ky(this.key);let a;for(let d=0;d<s;d++)a=d>>2,It(this,Yn,"f")[a][d%4]=i[d],It(this,Yr,"f")[t-a][d%4]=i[d];let l=0,c=s,u;for(;c<n;){if(u=i[s-1],i[0]^=Jr[u>>16&255]<<24^Jr[u>>8&255]<<16^Jr[u&255]<<8^Jr[u>>24&255]^KV[l]<<24,l+=1,s!=8)for(let p=1;p<s;p++)i[p]^=i[p-1];else{for(let p=1;p<s/2;p++)i[p]^=i[p-1];u=i[s/2-1],i[s/2]^=Jr[u&255]^Jr[u>>8&255]<<8^Jr[u>>16&255]<<16^Jr[u>>24&255]<<24;for(let p=s/2+1;p<s;p++)i[p]^=i[p-1]}let d=0,f,h;for(;d<s&&c<n;)f=c>>2,h=c%4,It(this,Yn,"f")[f][h]=i[d],It(this,Yr,"f")[t-f][h]=i[d++],c++}for(let d=1;d<t;d++)for(let f=0;f<4;f++)u=It(this,Yr,"f")[d][f],It(this,Yr,"f")[d][f]=tH[u>>24&255]^rH[u>>16&255]^nH[u>>8&255]^sH[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=It(this,Yn,"f").length-1,n=[0,0,0,0];let s=ky(e);for(let l=0;l<4;l++)s[l]^=It(this,Yn,"f")[0][l];for(let l=1;l<t;l++){for(let c=0;c<4;c++)n[c]=WV[s[c]>>24&255]^XV[s[(c+1)%4]>>16&255]^JV[s[(c+2)%4]>>8&255]^QV[s[(c+3)%4]&255]^It(this,Yn,"f")[l][c];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=It(this,Yn,"f")[t][l],i[4*l]=(Jr[s[l]>>24&255]^a>>24)&255,i[4*l+1]=(Jr[s[(l+1)%4]>>16&255]^a>>16)&255,i[4*l+2]=(Jr[s[(l+2)%4]>>8&255]^a>>8)&255,i[4*l+3]=(Jr[s[(l+3)%4]&255]^a)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=It(this,Yr,"f").length-1,n=[0,0,0,0];let s=ky(e);for(let l=0;l<4;l++)s[l]^=It(this,Yr,"f")[0][l];for(let l=1;l<t;l++){for(let c=0;c<4;c++)n[c]=YV[s[c]>>24&255]^ZV[s[(c+3)%4]>>16&255]^qV[s[(c+2)%4]>>8&255]^eH[s[(c+1)%4]&255]^It(this,Yr,"f")[l][c];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=It(this,Yr,"f")[t][l],i[4*l]=(Rh[s[l]>>24&255]^a>>24)&255,i[4*l+1]=(Rh[s[(l+3)%4]>>16&255]^a>>16)&255,i[4*l+2]=(Rh[s[(l+2)%4]>>8&255]^a>>8)&255,i[4*l+3]=(Rh[s[(l+1)%4]&255]^a)&255;return i}}g0=new WeakMap,Yr=new WeakMap,Yn=new WeakMap;class uC{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new D1(t)},name:{enumerable:!0,value:e}})}}var Ih=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},nl=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Ju,ws;class F1 extends uC{constructor(e,t){if(super("ECC",e,F1),Ju.set(this,void 0),ws.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Ih(this,Ju,new Uint8Array(t),"f")}else Ih(this,Ju,new Uint8Array(16),"f");Ih(this,ws,this.iv,"f")}get iv(){return new Uint8Array(nl(this,Ju,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)nl(this,ws,"f")[s]^=e[n+s];Ih(this,ws,this.aes.encrypt(nl(this,ws,"f")),"f"),t.set(nl(this,ws,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const s=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=s[i]^nl(this,ws,"f")[i],nl(this,ws,"f")[i]=e[n+i]}return t}}Ju=new WeakMap,ws=new WeakMap;var sl=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Qr=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Qu,Aa,Zr;class Zc extends uC{constructor(e,t){super("CTR",e,Zc),Qu.set(this,void 0),Aa.set(this,void 0),Zr.set(this,void 0),sl(this,Zr,new Uint8Array(16),"f"),Qr(this,Zr,"f").fill(0),sl(this,Qu,Qr(this,Zr,"f"),"f"),sl(this,Aa,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Qr(this,Zr,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Qr(this,Zr,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Qr(this,Zr,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Qr(this,Zr,"f")[e]===255)Qr(this,Zr,"f")[e]=0;else{Qr(this,Zr,"f")[e]++;break}}encrypt(e){var t,n;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)Qr(this,Aa,"f")===16&&(sl(this,Qu,this.aes.encrypt(Qr(this,Zr,"f")),"f"),sl(this,Aa,0,"f"),this.increment()),s[i]^=Qr(this,Qu,"f")[sl(this,Aa,(n=Qr(this,Aa,"f"),t=n++,n),"f"),t];return s}decrypt(e){return this.encrypt(e)}}Qu=new WeakMap,Aa=new WeakMap,Zr=new WeakMap;function iH(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function dC(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),Ut(r)}function Du(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Uf(r){return typeof r=="string"?cr(r,"NFKC"):Ut(r)}function lt(r,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);C(t!=null,"invalid path","path",e);const n=t[1],s=t[3],i=t[4]==="!";let a=r;for(const l of n.toLowerCase().split(".")){if(Array.isArray(a)){if(!l.match(/^[0-9]+$/))break;a=a[parseInt(l)]}else if(typeof a=="object"){let c=null;for(const u in a)if(u.toLowerCase()===l){c=a[u];break}a=c}else a=null;if(a==null)break}if(C(!i||a!=null,"missing required value","path",n),s&&a!=null){if(s==="int"){if(typeof a=="string"&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if(s==="number"&&typeof a=="string"&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if(s==="data"&&typeof a=="string")return dC(a);if(s==="array"&&Array.isArray(a)||s===typeof a)return a;C(!1,`wrong type found for ${s} `,"path",n)}return a}const fC="m/44'/60'/0'/0/0";function WN(r){try{const e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function aH(r,e,t){if(lt(r,"crypto.cipher:string")==="aes-128-ctr"){const s=lt(r,"crypto.cipherparams.iv:data!"),i=new Zc(e,s);return V(i.decrypt(t))}$(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function hp(r,e){const t=ee(e),n=lt(r,"crypto.ciphertext:data!"),s=V(et(Le([t.slice(16,32),n]))).substring(2);C(s===lt(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=aH(r,t.slice(0,16),n),a=Mf(i);if(r.address){let u=r.address.toLowerCase();u.startsWith("0x")||(u="0x"+u),C(ke(u)===a,"keystore address/privateKey mismatch","address",r.address)}const l={address:a,privateKey:i};if(lt(r,"x-ethers.version:string")==="0.1"){const u=t.slice(32,64),d=lt(r,"x-ethers.mnemonicCiphertext:data!"),f=lt(r,"x-ethers.mnemonicCounter:data!"),h=new Zc(u,f);l.mnemonic={path:lt(r,"x-ethers.path:string")||fC,locale:lt(r,"x-ethers.locale:string")||"en",entropy:V(ee(h.decrypt(d)))}}return l}function hC(r){const e=lt(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=lt(r,"crypto.kdfparams.salt:data!"),n=lt(r,"crypto.kdfparams.n:int!"),s=lt(r,"crypto.kdfparams.r:int!"),i=lt(r,"crypto.kdfparams.p:int!");C(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),C(s>0&&i>0,"invalid kdf","kdf",e);const a=lt(r,"crypto.kdfparams.dklen:int!");return C(a===32,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=lt(r,"crypto.kdfparams.salt:data!"),n=lt(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();C(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);const i=lt(r,"crypto.kdfparams.c:int!"),a=lt(r,"crypto.kdfparams.dklen:int!");return C(a===32,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:i,dkLen:a,algorithm:s}}}C(!1,"unsupported key-derivation function","kdf",e)}function oH(r,e){const t=JSON.parse(r),n=Uf(e),s=hC(t);if(s.name==="pbkdf2"){const{salt:f,count:h,dkLen:p,algorithm:g}=s,x=xa(n,f,h,p,g);return hp(t,x)}$(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:a,r:l,p:c,dkLen:u}=s,d=hu(n,i,a,l,c,u);return hp(t,d)}function XN(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function lH(r,e,t){const n=JSON.parse(r),s=Uf(e),i=hC(n);if(i.name==="pbkdf2"){t&&(t(0),await XN(0));const{salt:h,count:p,dkLen:g,algorithm:x}=i,_=xa(s,h,p,g,x);return t&&(t(1),await XN(0)),hp(n,_)}$(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:l,r:c,p:u,dkLen:d}=i,f=await fu(s,a,l,c,u,d,t);return hp(n,f)}function pC(r){const e=r.salt!=null?ee(r.salt,"options.salt"):Ys(32);let t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),C(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),C(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),C(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function mC(r,e,t,n){const s=ee(t.privateKey,"privateKey"),i=n.iv!=null?ee(n.iv,"options.iv"):Ys(16);C(i.length===16,"invalid options.iv length","options.iv",n.iv);const a=n.uuid!=null?ee(n.uuid,"options.uuid"):Ys(16);C(a.length===16,"invalid options.uuid length","options.uuid",n.iv);const l=r.slice(0,16),c=r.slice(16,32),u=new Zc(l,i),d=ee(u.encrypt(s)),f=et(Le([c,d])),h={address:t.address.substring(2).toLowerCase(),id:lU(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:V(i).substring(2)},ciphertext:V(d).substring(2),kdf:"scrypt",kdfparams:{salt:V(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(t.mnemonic){const p=n.client!=null?n.client:`ethers/${WA}`,g=t.mnemonic.path||fC,x=t.mnemonic.locale||"en",_=r.slice(32,64),b=ee(t.mnemonic.entropy,"account.mnemonic.entropy"),y=Ys(16),m=new Zc(_,y),E=ee(m.encrypt(b)),S=new Date,k="UTC--"+(S.getUTCFullYear()+"-"+Du(S.getUTCMonth()+1,2)+"-"+Du(S.getUTCDate(),2)+"T"+Du(S.getUTCHours(),2)+"-"+Du(S.getUTCMinutes(),2)+"-"+Du(S.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:p,gethFilename:k,path:g,locale:x,mnemonicCounter:V(y).substring(2),mnemonicCiphertext:V(E).substring(2),version:"0.1"}}return JSON.stringify(h)}function xC(r,e,t){t==null&&(t={});const n=Uf(e),s=pC(t),i=hu(n,s.salt,s.N,s.r,s.p,64);return mC(ee(i),s,r,t)}async function gC(r,e,t){t==null&&(t={});const n=Uf(e),s=pC(t),i=await fu(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return mC(ee(i),s,r,t)}const Py="m/44'/60'/0'/0/0",cH=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),aa=2147483648,uH=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dH="0123456789abcdef";function pp(r,e){let t="";for(;r;)t=dH[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Pv(r){const e=ee(r),t=Ke(pn(pn(e)),0,4),n=Le([e,t]);return qA(n)}const es={};function yC(r,e,t,n){const s=new Uint8Array(37);r&aa?($(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(ee(n),1)):s.set(ee(t));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=r>>24-a&255;const i=ee(uu("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function bC(r,e){const t=e.split("/");C(t.length>0,"invalid path","path",e),t[0]==="m"&&(C(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){const i=t[s];if(i.match(/^[0-9]+'$/)){const a=parseInt(i.substring(0,i.length-1));C(a<aa,"invalid path index",`path[${s}]`,i),n=n.deriveChild(aa+a)}else if(i.match(/^[0-9]+$/)){const a=parseInt(i);C(a<aa,"invalid path index",`path[${s}]`,i),n=n.deriveChild(a)}else C(!1,"invalid path component",`path[${s}]`,i)}return n}var yf,Tv,co,Yu;const wn=class wn extends dp{constructor(t,n,s,i,a,l,c,u,d){super(n,d);L(this,yf);I(this,"publicKey");I(this,"fingerprint");I(this,"parentFingerprint");I(this,"mnemonic");I(this,"chainCode");I(this,"path");I(this,"index");I(this,"depth");Mo(t,es,"HDNodeWallet"),de(this,{publicKey:n.compressedPublicKey});const f=Ke(du(pn(this.publicKey)),0,4);de(this,{parentFingerprint:s,fingerprint:f,chainCode:i,path:a,index:l,depth:c}),de(this,{mnemonic:u})}connect(t){return new wn(es,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await gC(K(this,yf,Tv).call(this),t,{progressCallback:n})}encryptSync(t){return xC(K(this,yf,Tv).call(this),t)}get extendedKey(){return $(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Pv(Le(["0x0488ADE4",pp(this.depth,1),this.parentFingerprint,pp(this.index,4),this.chainCode,Le(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new rf(es,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const n=ve(t,"index");C(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~aa),n&aa&&(s+="'"));const{IR:i,IL:a}=yC(n,this.chainCode,this.publicKey,this.privateKey),l=new gs(ii((Nx(a)+BigInt(this.privateKey))%uH,32));return new wn(es,l,this.fingerprint,V(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return bC(this,t)}static fromExtendedKey(t){const n=ot(KF(t));C(n.length===82||Pv(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const s=n[4],i=V(n.slice(5,9)),a=parseInt(V(n.slice(9,13)).substring(2),16),l=V(n.slice(13,45)),c=n.slice(45,78);switch(V(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=V(c);return new rf(es,Mf(u),u,i,l,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new wn(es,new gs(c.slice(1)),i,l,null,a,s,null,null)}C(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,s){var a;t==null&&(t=""),n==null&&(n=Py),s==null&&(s=Co.wordlist());const i=Yc.fromEntropy(Ys(16),t,s);return K(a=wn,co,Yu).call(a,i.computeSeed(),i).derivePath(n)}static fromMnemonic(t,n){var s;return n||(n=Py),K(s=wn,co,Yu).call(s,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,s,i){var l;n==null&&(n=""),s==null&&(s=Py),i==null&&(i=Co.wordlist());const a=Yc.fromPhrase(t,n,i);return K(l=wn,co,Yu).call(l,a.computeSeed(),a).derivePath(s)}static fromSeed(t){var n;return K(n=wn,co,Yu).call(n,t,null)}};yf=new WeakSet,Tv=function(){const t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},co=new WeakSet,Yu=function(t,n){C(wx(t),"invalid seed","seed","[REDACTED]");const s=ee(t,"seed");C(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const i=ee(uu("sha512",cH,s)),a=new gs(V(i.slice(0,32)));return new wn(es,a,"0x00000000",V(i.slice(32)),"m",0,0,n,null)},L(wn,co);let vd=wn;class rf extends Sv{constructor(t,n,s,i,a,l,c,u,d){super(n,d);I(this,"publicKey");I(this,"fingerprint");I(this,"parentFingerprint");I(this,"chainCode");I(this,"path");I(this,"index");I(this,"depth");Mo(t,es,"HDNodeVoidWallet"),de(this,{publicKey:s});const f=Ke(du(pn(s)),0,4);de(this,{publicKey:s,fingerprint:f,parentFingerprint:i,chainCode:a,path:l,index:c,depth:u})}connect(t){return new rf(es,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return $(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Pv(Le(["0x0488B21E",pp(this.depth,1),this.parentFingerprint,pp(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const n=ve(t,"index");C(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~aa),n&aa&&(s+="'"));const{IR:i,IL:a}=yC(n,this.chainCode,this.publicKey,null),l=gs.addPoints(a,this.publicKey,!0),c=Mf(l);return new rf(es,c,l,this.fingerprint,V(i),s,n,this.depth+1,this.provider)}derivePath(t){return bC(this,t)}}function JN(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function QN(r,e){const t=JSON.parse(r),n=Uf(e),s=ke(lt(t,"ethaddr:string!")),i=dC(lt(t,"encseed:string!"));C(i&&i.length%16===0,"invalid encseed","json",r);const a=ee(xa(n,n,2e3,32,"sha256")).slice(0,16),l=i.slice(0,16),c=i.slice(16),u=new F1(a,l),d=iH(ee(u.decrypt(c)));let f="";for(let h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);return{address:s,privateKey:li(f)}}function YN(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var bf,Rv;const Oa=class Oa extends dp{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new gs(e):e;super(n,t)}connect(e){return new Oa(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await gC(n,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return xC(t,e)}static async fromEncryptedJson(e,t,n){var i;let s=null;return WN(e)?s=await lH(e,t,n):JN(e)&&(n&&(n(0),await YN(0)),s=QN(e,t),n&&(n(1),await YN(0))),K(i=Oa,bf,Rv).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let n=null;return WN(e)?n=oH(e,t):JN(e)?n=QN(e,t):C(!1,"invalid JSON wallet","json","[ REDACTED ]"),K(s=Oa,bf,Rv).call(s,n)}static createRandom(e){const t=vd.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=vd.fromPhrase(e);return t?n.connect(t):n}};bf=new WeakSet,Rv=function(e){if(C(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const n=Yc.fromEntropy(e.mnemonic.entropy),s=vd.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new Oa(e.privateKey);return C(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},L(Oa,bf);let mp=Oa;class fH{constructor(){this.config={gateway:"https://ipfs.io/ipfs/",apiEndpoint:"https://api.pinata.cloud/pinning/pinFileToIPFS",projectId:"your_pinata_api_key",projectSecret:"your_pinata_secret_key"}}async uploadFile(e,t,n){try{const s=new FormData,i=new Blob([e],{type:"application/pdf"});s.append("file",i,t),n&&s.append("pinataMetadata",JSON.stringify({name:t,keyvalues:n}));const a=await fetch(this.config.apiEndpoint,{method:"POST",headers:{pinata_api_key:this.config.projectId,pinata_secret_api_key:this.config.projectSecret},body:s});if(!a.ok)throw new Error(`IPFS upload failed: ${a.statusText}`);const l=await a.json();return{hash:l.IpfsHash,size:l.PinSize,url:`${this.config.gateway}${l.IpfsHash}`}}catch(s){throw console.error("IPFS upload error:",s),new Error("Failed to upload file to IPFS")}}async uploadJSON(e,t){try{const n=JSON.stringify(e,null,2),i=await new Blob([n],{type:"application/json"}).arrayBuffer();return this.uploadFile(i,`${t}.json`,{type:"metadata",timestamp:Date.now()})}catch(n){throw console.error("JSON upload error:",n),new Error("Failed to upload JSON to IPFS")}}async getFile(e){try{const t=await fetch(`${this.config.gateway}${e}`);if(!t.ok)throw new Error(`Failed to fetch file: ${t.statusText}`);return t.arrayBuffer()}catch(t){throw console.error("IPFS fetch error:",t),new Error("Failed to fetch file from IPFS")}}async getJSON(e){try{const t=await fetch(`${this.config.gateway}${e}`);if(!t.ok)throw new Error(`Failed to fetch JSON: ${t.statusText}`);return t.json()}catch(t){throw console.error("IPFS JSON fetch error:",t),new Error("Failed to fetch JSON from IPFS")}}async fileExists(e){try{return(await fetch(`${this.config.gateway}${e}`,{method:"HEAD"})).ok}catch{return!1}}getFileUrl(e){return`${this.config.gateway}${e}`}async pinFile(e){try{return(await fetch("https://api.pinata.cloud/pinning/pinByHash",{method:"POST",headers:{"Content-Type":"application/json",pinata_api_key:this.config.projectId,pinata_secret_api_key:this.config.projectSecret},body:JSON.stringify({hashToPin:e,pinataMetadata:{name:`Pinned-${e}`,keyvalues:{pinned_at:new Date().toISOString()}}})})).ok}catch(t){return console.error("Pin file error:",t),!1}}}const ZN=new fH;class hH{constructor(){this.provider=null,this.wallet=null,this.contractAddress="",this.contract=null,this.contractABI=[{inputs:[{name:"to",type:"address"},{name:"bankName",type:"string"},{name:"accountNumber",type:"string"},{name:"statementDate",type:"string"},{name:"statementPeriod",type:"string"},{name:"balance",type:"string"},{name:"transactionCount",type:"uint256"},{name:"fileHash",type:"string"},{name:"ipfsHash",type:"string"},{name:"statementType",type:"string"}],name:"mintStatementNFT",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getStatementMetadata",outputs:[{name:"bankName",type:"string"},{name:"accountNumber",type:"string"},{name:"statementDate",type:"string"},{name:"statementPeriod",type:"string"},{name:"balance",type:"string"},{name:"transactionCount",type:"uint256"},{name:"fileHash",type:"string"},{name:"ipfsHash",type:"string"},{name:"uploadTimestamp",type:"uint256"},{name:"verified",type:"bool"},{name:"statementType",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"getStatementsByOwner",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"fileHash",type:"string"}],name:"getTokenIdByHash",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"}]}async initialize(e,t,n){this.provider=new MV(t),this.wallet=new mp(e,this.provider),this.contractAddress=n,this.contract=new Ul(n,this.contractABI,this.wallet),console.log("Bank Statement NFT Service initialized")}async convertStatementToNFT(e,t,n){var s,i;if(!this.contract||!this.wallet)throw new Error("Service not initialized");try{console.log("Uploading statement to IPFS...");const a=await ZN.uploadFile(e,`statement_${t.bankName}_${t.statementDate}.pdf`,{bankName:t.bankName,accountNumber:t.accountNumber,statementDate:t.statementDate,type:"bank_statement"}),l={...t,ipfsHash:a.hash};console.log("Uploading metadata to IPFS...");const c=await ZN.uploadJSON({name:`Bank Statement NFT - ${t.bankName}`,description:`Verified bank statement from ${t.bankName} for account ${t.accountNumber} dated ${t.statementDate}`,image:`data:image/svg+xml;base64,${this.generateNFTImage(t)}`,external_url:a.url,attributes:[{trait_type:"Bank",value:t.bankName},{trait_type:"Statement Type",value:t.statementType},{trait_type:"Statement Date",value:t.statementDate},{trait_type:"Transaction Count",value:t.transactionCount},{trait_type:"Verified",value:"Yes"},{trait_type:"File Format",value:"PDF"}],properties:{files:[{uri:a.url,type:"application/pdf"}],category:"document"}},`statement_metadata_${Date.now()}`);console.log("Minting NFT on blockchain...");const d=await(await this.contract.mintStatementNFT(n,t.bankName,t.accountNumber,t.statementDate,t.statementPeriod,t.balance,t.transactionCount,t.fileHash,a.hash,t.statementType)).wait(),f=d.logs.find(b=>{try{const y=this.contract.interface.parseLog(b);return(y==null?void 0:y.name)==="StatementNFTMinted"}catch{return!1}});if(!f)throw new Error("Failed to find mint event in transaction receipt");const h=this.contract.interface.parseLog(f),p=(i=(s=h==null?void 0:h.args)==null?void 0:s.tokenId)==null?void 0:i.toNumber();if(!p)throw new Error("Failed to extract token ID from mint event");const g=await this.contract.tokenURI(p),x=await this.provider.getNetwork(),_=this.generateOpenSeaUrl(x.chainId,this.contractAddress,p);return console.log(`NFT minted successfully! Token ID: ${p}`),{tokenId:p,transactionHash:d.hash,nftAddress:this.contractAddress,tokenURI:g,openseaUrl:_}}catch(a){throw console.error("Error converting statement to NFT:",a),new Error(`Failed to convert statement to NFT: ${a}`)}}generateNFTImage(e){const t=`
      <svg width="400" height="600" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="400" height="600" fill="url(#grad)" rx="20"/>
        <rect x="20" y="20" width="360" height="560" fill="white" rx="15" opacity="0.95"/>
        <text x="200" y="60" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#333">Bank Statement NFT</text>
        <line x1="40" y1="80" x2="360" y2="80" stroke="#ddd" stroke-width="2"/>
        <text x="50" y="120" font-family="Arial" font-size="18" font-weight="bold" fill="#333">Bank:</text>
        <text x="50" y="145" font-family="Arial" font-size="16" fill="#666">${e.bankName}</text>
        <text x="50" y="180" font-family="Arial" font-size="18" font-weight="bold" fill="#333">Account:</text>
        <text x="50" y="205" font-family="Arial" font-size="16" fill="#666">${e.accountNumber}</text>
        <text x="50" y="240" font-family="Arial" font-size="18" font-weight="bold" fill="#333">Date:</text>
        <text x="50" y="265" font-family="Arial" font-size="16" fill="#666">${e.statementDate}</text>
        <text x="50" y="300" font-family="Arial" font-size="18" font-weight="bold" fill="#333">Balance:</text>
        <text x="50" y="325" font-family="Arial" font-size="16" fill="#666">${e.balance}</text>
        <text x="50" y="360" font-family="Arial" font-size="18" font-weight="bold" fill="#333">Transactions:</text>
        <text x="50" y="385" font-family="Arial" font-size="16" fill="#666">${e.transactionCount}</text>
        <rect x="40" y="420" width="320" height="80" fill="#f8f9fa" rx="10"/>
        <text x="200" y="445" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#333">🏦 Verified Statement NFT</text>
        <text x="200" y="465" text-anchor="middle" font-family="Arial" font-size="12" fill="#666">Blockchain Verified • IPFS Stored</text>
        <text x="200" y="485" text-anchor="middle" font-family="Arial" font-size="12" fill="#666">Type: ${e.statementType.toUpperCase()}</text>
      </svg>
    `;return btoa(t)}generateOpenSeaUrl(e,t,n){const s=Number(e);let i="https://opensea.io/assets";switch(s){case 1:i="https://opensea.io/assets/ethereum";break;case 137:i="https://opensea.io/assets/matic";break;case 42161:i="https://opensea.io/assets/arbitrum";break;case 10:i="https://opensea.io/assets/optimism";break;case 11155111:i="https://testnets.opensea.io/assets/sepolia";break;default:i="https://opensea.io/assets/ethereum"}return`${i}/${t}/${n}`}async getNFTMetadata(e){if(!this.contract)throw new Error("Service not initialized");try{const t=await this.contract.getStatementMetadata(e);return{bankName:t.bankName,accountNumber:t.accountNumber,statementDate:t.statementDate,statementPeriod:t.statementPeriod,balance:t.balance,transactionCount:t.transactionCount.toNumber(),fileHash:t.fileHash,ipfsHash:t.ipfsHash,statementType:t.statementType}}catch(t){return console.error("Error getting NFT metadata:",t),null}}async getNFTsByOwner(e){if(!this.contract)throw new Error("Service not initialized");try{return(await this.contract.getStatementsByOwner(e)).map(n=>n.toNumber())}catch(t){return console.error("Error getting NFTs by owner:",t),[]}}async statementExistsAsNFT(e){if(!this.contract)throw new Error("Service not initialized");try{return(await this.contract.getTokenIdByHash(e)).toNumber()||null}catch(t){return console.error("Error checking if statement exists:",t),null}}async getTotalSupply(){if(!this.contract)throw new Error("Service not initialized");try{return(await this.contract.totalSupply()).toNumber()}catch(e){return console.error("Error getting total supply:",e),0}}async getNFTOwner(e){if(!this.contract)throw new Error("Service not initialized");try{return await this.contract.ownerOf(e)}catch(t){return console.error("Error getting NFT owner:",t),null}}async getTokenURI(e){if(!this.contract)throw new Error("Service not initialized");try{return await this.contract.tokenURI(e)}catch(t){return console.error("Error getting token URI:",t),null}}}const _i=new hH;class pH{constructor(){this.emailConfig=null,this.ownerAddress=""}async initializeEmailScanning(e){this.emailConfig=e,await this.testEmailConnection(),console.log("Email scanning initialized successfully")}async initializeNFTService(e,t,n){await _i.initialize(e,t,n);const s=new mp(e);this.ownerAddress=s.address,console.log("NFT service initialized for address:",this.ownerAddress)}async testEmailConnection(){if(!this.emailConfig)throw new Error("Email configuration not set");try{return console.log(`Testing connection to ${this.emailConfig.provider}`),!0}catch(e){throw console.error("Email connection test failed:",e),new Error("Failed to connect to email provider")}}async scanForBankStatements(e,t){if(!this.emailConfig)throw new Error("Email configuration not set");const n=[];try{const s=[{name:"Chase Bank",patterns:["chase.com","jpmorgan","statement"]},{name:"Bank of America",patterns:["bankofamerica.com","bofa","statement"]},{name:"Wells Fargo",patterns:["wellsfargo.com","wf.com","statement"]},{name:"Citibank",patterns:["citibank.com","citi.com","statement"]},{name:"Capital One",patterns:["capitalone.com","statement"]},{name:"US Bank",patterns:["usbank.com","statement"]},{name:"PNC Bank",patterns:["pnc.com","statement"]},{name:"TD Bank",patterns:["tdbank.com","statement"]}],i=await this.searchEmails({from:e||new Date(Date.now()-30*24*60*60*1e3),to:t||new Date,hasAttachment:!0,subjects:["statement","monthly statement","account statement"],senders:s.flatMap(a=>a.patterns)});for(const a of i)for(const l of a.attachments)if(this.isPDFStatement(l)){const c=await this.processBankStatement(a,l);c&&n.push(c)}return console.log(`Found ${n.length} bank statements`),n}catch(s){throw console.error("Error scanning for bank statements:",s),s}}async searchEmails(e){return[{id:"email1",from:"statements@chase.com",subject:"Your Monthly Statement is Ready",date:new Date,attachments:[{filename:"statement_2024_12.pdf",contentType:"application/pdf",size:245760,content:new ArrayBuffer(245760)}]}]}isPDFStatement(e){const t=e.filename.toLowerCase();return e.contentType==="application/pdf"&&(t.includes("statement")||t.includes("account")||t.includes("summary"))}async processBankStatement(e,t){try{const n=this.extractBankName(e.from),s=await this.generateFileHash(t.content),i=await this.extractPDFData(t.content);return{id:`stmt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,bankName:n,accountNumber:i.accountNumber,statementDate:i.statementDate,fileName:t.filename,fileContent:t.content,fileHash:s,extractedData:{balance:i.balance,transactions:i.transactions,period:i.period}}}catch(n){return console.error("Error processing bank statement:",n),null}}extractBankName(e){const t={"chase.com":"Chase Bank","bankofamerica.com":"Bank of America","wellsfargo.com":"Wells Fargo","citibank.com":"Citibank","capitalone.com":"Capital One","usbank.com":"US Bank","pnc.com":"PNC Bank","tdbank.com":"TD Bank"};for(const[n,s]of Object.entries(t))if(e.includes(n))return s;return"Unknown Bank"}async generateFileHash(e){const t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}async extractPDFData(e){return{accountNumber:"****1234",statementDate:"2024-12-31",balance:"$15,240.50",period:{from:"2024-12-01",to:"2024-12-31"},transactions:[{date:"2024-12-30",description:"Direct Deposit - Salary",amount:"+$5,000.00",type:"credit",balance:"$15,240.50"},{date:"2024-12-29",description:"ATM Withdrawal",amount:"-$100.00",type:"debit",balance:"$10,340.50"}]}}async convertStatementToNFT(e){if(!this.ownerAddress)throw new Error("NFT service not initialized");try{const t=await _i.statementExistsAsNFT(e.fileHash);if(t)throw new Error(`Statement already exists as NFT with token ID: ${t}`);const n=this.determineStatementType(e.extractedData.period),s={bankName:e.bankName,accountNumber:e.accountNumber,statementDate:e.statementDate,statementPeriod:`${e.extractedData.period.from} to ${e.extractedData.period.to}`,balance:e.extractedData.balance,transactionCount:e.extractedData.transactions.length,fileHash:e.fileHash,ipfsHash:"",statementType:n},i=await _i.convertStatementToNFT(e.fileContent,s,this.ownerAddress);return console.log("Statement converted to NFT:",i),i}catch(t){throw console.error("Error converting statement to NFT:",t),t}}determineStatementType(e){const t=new Date(e.from),n=new Date(e.to),s=Math.ceil((n.getTime()-t.getTime())/(1e3*60*60*24));return s<=35?"monthly":s<=100?"quarterly":"annual"}async performMonthlyNFTScan(){const e={scannedStatements:[],createdNFTs:[],errors:[]};try{const t=new Date;t.setMonth(t.getMonth()-1);const n=await this.scanForBankStatements(t,new Date);e.scannedStatements=n;for(const s of n)try{const i=await this.convertStatementToNFT(s);e.createdNFTs.push({statement:s,nftResult:i,success:!0})}catch(i){e.createdNFTs.push({statement:s,nftResult:{},success:!1,error:`Failed to create NFT for ${s.fileName}: ${i}`}),e.errors.push(`Failed to create NFT for ${s.fileName}: ${i}`)}return console.log(`Monthly NFT scan completed: ${n.length} statements found, ${e.createdNFTs.filter(s=>s.success).length} NFTs created`),e}catch(t){return e.errors.push(`Monthly NFT scan failed: ${t}`),e}}async getUserNFTCollection(){if(!this.ownerAddress)throw new Error("NFT service not initialized");try{const e=await _i.getNFTsByOwner(this.ownerAddress),t=await _i.getTotalSupply(),n=await Promise.all(e.map(async s=>{const i=await _i.getNFTMetadata(s),a=await _i.getTokenURI(s);return{tokenId:s,metadata:i,tokenURI:a,openseaUrl:this.generateOpenSeaUrl(s)}}));return{tokenIds:e,totalSupply:t,nfts:n}}catch(e){throw console.error("Error getting user NFT collection:",e),e}}generateOpenSeaUrl(e){return`https://opensea.io/assets/ethereum/${_i.contractAddress}/${e}`}}const Oh=new pH,mH=({onClose:r})=>{var oe;const[e,t]=M.useState(1),[n,s]=M.useState({provider:"gmail",credentials:{email:"",accessToken:""}}),[i,a]=M.useState({privateKey:"",rpcUrl:"https://mainnet.infura.io/v3/YOUR_PROJECT_ID",contractAddress:"",network:"ethereum"}),[l,c]=M.useState(!1),[u,d]=M.useState([]),[f,h]=M.useState([]),[p,g]=M.useState(null),[x,_]=M.useState(!1),[b,y]=M.useState(null),[m,E]=M.useState([]);M.useEffect(()=>{S()},[]);const S=()=>{const A=localStorage.getItem("emailScannerConfig"),O=localStorage.getItem("blockchainScannerConfig"),Z=localStorage.getItem("autoScanEnabled"),P=localStorage.getItem("lastScanDate");A&&s(JSON.parse(A)),O&&a(JSON.parse(O)),Z&&_(JSON.parse(Z)),P&&y(new Date(P))},N=()=>{localStorage.setItem("emailScannerConfig",JSON.stringify(n)),localStorage.setItem("blockchainScannerConfig",JSON.stringify(i)),localStorage.setItem("autoScanEnabled",JSON.stringify(x))},k=async()=>{try{E([]),await Oh.initializeEmailScanning(n),await Oh.initializeNFTService(i.privateKey,i.rpcUrl,i.contractAddress),N(),t(3),await R()}catch(A){E([`Initialization failed: ${A}`])}},R=async()=>{try{const A=await Oh.getUserNFTCollection();g(A)}catch(A){console.error("Error loading NFT collection:",A)}},U=async()=>{c(!0),E([]);try{const A=await Oh.performMonthlyNFTScan();d(A.scannedStatements),h(A.createdNFTs),E(A.errors),y(new Date),localStorage.setItem("lastScanDate",new Date().toISOString()),await R()}catch(A){E([`Scan failed: ${A}`])}finally{c(!1)}},B=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(hs,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Email Configuration"}),o.jsx("p",{className:"text-slate-600",children:"Connect your email to scan for bank statements"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Provider"}),o.jsxs("select",{value:n.provider,onChange:A=>s(O=>({...O,provider:A.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"gmail",children:"Gmail"}),o.jsx("option",{value:"outlook",children:"Outlook"}),o.jsx("option",{value:"imap",children:"Custom IMAP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:n.credentials.email,onChange:A=>s(O=>({...O,credentials:{...O.credentials,email:A.target.value}})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"your.email@gmail.com"})]}),n.provider==="gmail"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"OAuth Access Token"}),o.jsx("input",{type:"password",value:n.credentials.accessToken||"",onChange:A=>s(O=>({...O,credentials:{...O.credentials,accessToken:A.target.value}})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"OAuth access token"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Generate an OAuth token from Google Cloud Console"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"🏦 NFT Bank Statements"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Your bank statements will be converted into unique NFTs, providing immutable proof of your financial records while maintaining privacy through masked account numbers."})]})]}),J=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(qe,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"NFT Configuration"}),o.jsx("p",{className:"text-slate-600",children:"Configure blockchain for your bank statement NFTs"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Network"}),o.jsxs("select",{value:i.network,onChange:A=>a(O=>({...O,network:A.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"ethereum",children:"Ethereum Mainnet"}),o.jsx("option",{value:"polygon",children:"Polygon"}),o.jsx("option",{value:"arbitrum",children:"Arbitrum"}),o.jsx("option",{value:"optimism",children:"Optimism"}),o.jsx("option",{value:"sepolia",children:"Sepolia Testnet"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"RPC URL"}),o.jsx("input",{type:"url",value:i.rpcUrl,onChange:A=>a(O=>({...O,rpcUrl:A.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"https://mainnet.infura.io/v3/YOUR_PROJECT_ID"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Private Key"}),o.jsx("input",{type:"password",value:i.privateKey,onChange:A=>a(O=>({...O,privateKey:A.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"0x..."}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Your private key is stored locally and never transmitted"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"NFT Contract Address"}),o.jsx("input",{type:"text",value:i.contractAddress,onChange:A=>a(O=>({...O,contractAddress:A.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"0x..."})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🎨 NFT Features"}),o.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[o.jsx("li",{children:"• Unique NFT for each bank statement"}),o.jsx("li",{children:"• On-chain metadata with privacy protection"}),o.jsx("li",{children:"• IPFS storage for document files"}),o.jsx("li",{children:"• OpenSea marketplace compatibility"}),o.jsx("li",{children:"• Transferable and tradeable assets"})]})]})]}),Q=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Sj,{className:"w-12 h-12 text-purple-600 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Bank Statement NFTs"}),o.jsx("p",{className:"text-slate-600",children:"Your financial documents as unique digital assets"})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900",children:"Automated NFT Creation"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Scan for new statements and create NFTs monthly"})]}),o.jsx("button",{onClick:()=>_(!x),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x?"bg-blue-600":"bg-slate-300"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:U,disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-slate-400",children:[l?o.jsx(gt,{className:"w-4 h-4 animate-spin"}):o.jsx(K0,{className:"w-4 h-4"}),o.jsx("span",{children:l?"Creating NFTs...":"Scan & Create NFTs"})]}),b&&o.jsxs("span",{className:"text-sm text-slate-600",children:["Last scan: ",b.toLocaleDateString()]})]})]}),m.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(ca,{className:"w-5 h-5 text-red-600"}),o.jsx("h4",{className:"font-medium text-red-900",children:"Errors"})]}),o.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:m.map((A,O)=>o.jsxs("li",{children:["• ",A]},O))})]}),p&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 border border-purple-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"font-medium text-purple-900",children:"Your NFT Collection"}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-purple-700",children:[o.jsxs("span",{children:["Total NFTs: ",p.tokenIds.length]}),o.jsxs("span",{children:["Global Supply: ",p.totalSupply]})]})]}),p.nfts.length>0&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.nfts.slice(0,4).map((A,O)=>{var Z,P,F,T;return o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h5",{className:"font-medium text-slate-900",children:["NFT #",A.tokenId]}),o.jsx("p",{className:"text-sm text-slate-600",children:(Z=A.metadata)==null?void 0:Z.bankName})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>window.open(A.openseaUrl,"_blank"),className:"p-1 text-purple-600 hover:text-purple-800",title:"View on OpenSea",children:o.jsx(r_,{className:"w-4 h-4"})})})]}),o.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[o.jsxs("div",{children:["Date: ",(P=A.metadata)==null?void 0:P.statementDate]}),o.jsxs("div",{children:["Balance: ",(F=A.metadata)==null?void 0:F.balance]}),o.jsxs("div",{children:["Transactions: ",(T=A.metadata)==null?void 0:T.transactionCount]})]})]},A.tokenId)})})]}),f.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-slate-900 mb-3",children:["Recently Created NFTs (",f.length,")"]}),o.jsx("div",{className:"space-y-3",children:f.map((A,O)=>o.jsx("div",{className:`border rounded-lg p-4 ${A.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("h5",{className:"font-medium text-slate-900",children:A.statement.bankName}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",A.statement.accountNumber,")"]}),A.success&&o.jsx(Dt,{className:"w-4 h-4 text-green-600"})]}),A.success?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm text-green-700",children:["✅ NFT Created Successfully! Token ID: #",A.nftResult.tokenId]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600",children:[o.jsxs("div",{children:["Statement: ",A.statement.fileName]}),o.jsxs("div",{children:["Date: ",A.statement.statementDate]}),o.jsxs("div",{children:["Balance: ",A.statement.extractedData.balance]}),o.jsxs("div",{children:["Transactions: ",A.statement.extractedData.transactions.length]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsxs("button",{onClick:()=>window.open(A.nftResult.openseaUrl,"_blank"),className:"flex items-center space-x-1 px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs hover:bg-purple-200",children:[o.jsx(r_,{className:"w-3 h-3"}),o.jsx("span",{children:"OpenSea"})]}),o.jsxs("span",{className:"text-xs text-slate-500",children:["TX: ",A.nftResult.transactionHash.substring(0,10),"..."]})]})]}):o.jsxs("div",{className:"text-sm text-red-700",children:["❌ ",A.error]})]})})},O))})]}),f.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-green-600"}),o.jsx("h4",{className:"font-medium text-green-900",children:"NFT Creation Summary"})]}),o.jsxs("p",{className:"text-sm text-green-800",children:["Successfully created ",f.filter(A=>A.success).length," bank statement NFTs out of ",f.length," statements found. Your financial documents are now unique, verifiable digital assets on the blockchain!"]})]})]}),Y=[{id:1,title:"Email Setup",description:"Configure email scanning"},{id:2,title:"NFT Setup",description:"Configure blockchain for NFTs"},{id:3,title:"Create NFTs",description:"Scan statements and create NFTs"}];return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Bank Statement NFT Creator"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Convert your bank statements into unique NFTs"})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"×"})]}),o.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:[o.jsx("div",{className:"flex items-center space-x-4",children:Y.map((A,O)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=A.id?"bg-purple-600 text-white":"bg-slate-200 text-slate-600"}`,children:A.id}),O<Y.length-1&&o.jsx("div",{className:`w-16 h-1 mx-2 ${e>A.id?"bg-purple-600":"bg-slate-200"}`})]},A.id))}),o.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["Step ",e,": ",(oe=Y[e-1])==null?void 0:oe.title]})]}),o.jsxs("div",{className:"p-6",children:[e===1&&B(),e===2&&J(),e===3&&Q(),o.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200 mt-6",children:[o.jsx("button",{onClick:()=>t(Math.max(1,e-1)),disabled:e===1,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:r,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:"Close"}),e<3?o.jsx("button",{onClick:e===1?()=>t(2):k,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:e===2?"Initialize & Continue":"Next"}):o.jsx("button",{onClick:N,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Save Configuration"})]})]})]})]})})},xH=({assets:r,setAssets:e,contacts:t})=>{const[n,s]=M.useState(""),[i,a]=M.useState("all"),[l,c]=M.useState(!1),[u,d]=M.useState(!1),[f,h]=M.useState(!1),[p,g]=M.useState(null),x=[{id:"all",label:"All Assets",icon:null},{id:"financial",label:"Financial",icon:Bp},{id:"property",label:"Property",icon:Cw},{id:"digital",label:"Digital",icon:Pw},{id:"personal",label:"Personal",icon:ni},{id:"legal",label:"Legal",icon:Dn}],_=r.filter(N=>{if(!N)return!1;const k=N.name.toLowerCase().includes(n.toLowerCase())||N.type.toLowerCase().includes(n.toLowerCase()),R=i==="all"||N.category===i;return k&&R}),b=N=>{const k={...N,id:Date.now().toString(),dateAdded:new Date().toISOString().split("T")[0],lastUpdated:new Date().toISOString().split("T")[0]};e([...r,k])},y=N=>{e(r.map(k=>k.id===N.id?{...N,lastUpdated:new Date().toISOString().split("T")[0]}:k))},m=N=>{e(r.filter(k=>k.id!==N))},E=N=>{g(N),d(!0)},S=N=>{if(p){const k={...p,releaseConditions:N,lastUpdated:new Date().toISOString().split("T")[0]};y(k)}d(!1),g(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Assets"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your valuable assets and inheritance items"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(hs,{className:"w-4 h-4"}),o.jsx("span",{children:"Bank Scanner"})]}),o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:[o.jsx(Vp,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Asset"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(G0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search assets...",value:n,onChange:N=>s(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[o.jsx(kw,{className:"w-4 h-4 text-slate-600 flex-shrink-0"}),x.map(N=>{const k=N.icon;return o.jsxs("button",{onClick:()=>a(N.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${i===N.id?"bg-purple-700 text-white":"bg-slate-100 text-slate-700 hover:bg-purple-100 hover:text-purple-800"}`,children:[k&&o.jsx(k,{className:"w-4 h-4"}),o.jsx("span",{children:N.label})]},N.id)})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map(N=>o.jsx(RT,{asset:N,contacts:t,onUpdate:y,onDelete:m,onConfigureRelease:E},N.id))}),_.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(G0,{className:"w-8 h-8 text-purple-400"})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No assets found"}),o.jsx("p",{className:"text-slate-600 mb-4",children:n||i!=="all"?"Try adjusting your search or filters":"Get started by adding your first asset or scanning your email for bank statements"}),!n&&i==="all"&&o.jsxs("div",{className:"flex justify-center space-x-3",children:[o.jsx("button",{onClick:()=>c(!0),className:"bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:"Add Your First Asset"}),o.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Scan Email for Bank Statements"})]})]}),l&&o.jsx(DF,{contacts:t,onAdd:b,onClose:()=>c(!1)}),u&&p&&o.jsx(FF,{contacts:t,existingConditions:p.releaseConditions,onSave:S,onClose:()=>{d(!1),g(null)}}),f&&o.jsx(mH,{onClose:()=>h(!1)})]})},gH=({contacts:r,setContacts:e})=>{const[t,n]=M.useState(""),s=r.filter(c=>c.name.toLowerCase().includes(t.toLowerCase())||c.relationship.toLowerCase().includes(t.toLowerCase())||c.email.toLowerCase().includes(t.toLowerCase())),i=s.filter(c=>c.isPrimaryBeneficiary),a=s.filter(c=>!c.isPrimaryBeneficiary),l=({contact:c})=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c.isPrimaryBeneficiary?"bg-purple-100":"bg-slate-100"}`,children:o.jsx(Fn,{className:`w-5 h-5 ${c.isPrimaryBeneficiary?"text-purple-700":"text-slate-600"}`})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:c.name}),c.isPrimaryBeneficiary&&o.jsx(V0,{className:"w-4 h-4 text-yellow-600"})]}),o.jsx("p",{className:"text-sm text-slate-600",children:c.relationship})]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(hs,{className:"w-4 h-4 text-slate-400"}),o.jsx("span",{className:"text-sm text-slate-600",children:c.email})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Bd,{className:"w-4 h-4 text-slate-400"}),o.jsx("span",{className:"text-sm text-slate-600",children:c.phone})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(zp,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-slate-600",children:c.address})]}),o.jsx("div",{className:"pt-2 border-t border-slate-100",children:o.jsxs("p",{className:"text-xs text-slate-500",children:["Added ",new Date(c.dateAdded).toLocaleDateString()]})})]})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Contacts"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage beneficiaries and important contacts"})]}),o.jsxs("button",{className:"flex items-center space-x-2 bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:[o.jsx(Vp,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Contact"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(G0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search contacts...",value:t,onChange:c=>n(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),i.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(V0,{className:"w-5 h-5 text-yellow-600"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Primary Beneficiaries"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(c=>o.jsx(l,{contact:c},c.id))})]}),a.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Other Contacts"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:a.map(c=>o.jsx(l,{contact:c},c.id))})]}),s.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Fn,{className:"w-8 h-8 text-purple-400"})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No contacts found"}),o.jsx("p",{className:"text-slate-600 mb-4",children:t?"Try adjusting your search term":"Get started by adding your first contact"}),!t&&o.jsx("button",{className:"bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:"Add Your First Contact"})]})]})},yH=({documents:r,setDocuments:e})=>{const[t,n]=M.useState(""),[s,i]=M.useState("all"),a=[{id:"all",label:"All Documents",icon:null},{id:"legal",label:"Legal",icon:qe},{id:"financial",label:"Financial",icon:Bp},{id:"insurance",label:"Insurance",icon:qe},{id:"personal",label:"Personal",icon:ni},{id:"medical",label:"Medical",icon:r7}],l=r.filter(d=>{if(!d)return!1;const f=(d.name||"").toLowerCase().includes(t.toLowerCase())||(d.description||"").toLowerCase().includes(t.toLowerCase()),h=s==="all"||d.category===s;return f&&h}),c=d=>{switch(d){case"legal":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"insurance":return"bg-purple-100 text-purple-800";case"personal":return"bg-pink-100 text-pink-800";case"medical":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},u=({document:d})=>d?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:o.jsx(Dn,{className:"w-5 h-5 text-slate-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:d.name||"Unnamed Document"}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c(d.category||"")}`,children:d.category||"uncategorized"}),o.jsx("span",{className:"text-xs text-slate-500",children:d.type||"Unknown Type"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(Ud,{className:"w-4 h-4"})}),o.jsx("button",{className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(YP,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-slate-600",children:d.description||"No description available"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-slate-500",children:["Size: ",d.size||"Unknown"]}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Location: ",d.location||"Not specified"]})]}),o.jsx("div",{className:"pt-2 border-t border-slate-100 flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Js,{className:"w-3 h-3 text-slate-400"}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Updated ",d.lastUpdated?new Date(d.lastUpdated).toLocaleDateString():"Unknown"]})]})})]})]}):null;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Documents"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage important documents and files"})]}),o.jsxs("button",{className:"flex items-center space-x-2 bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-800 transition-colors",children:[o.jsx(Vp,{className:"w-4 h-4"}),o.jsx("span",{children:"Upload Document"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(G0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search documents...",value:t,onChange:d=>n(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[o.jsx(kw,{className:"w-4 h-4 text-slate-600 flex-shrink-0"}),a.map(d=>{const f=d.icon;return o.jsxs("button",{onClick:()=>i(d.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${s===d.id?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[f&&o.jsx(f,{className:"w-4 h-4"}),o.jsx("span",{children:d.label})]},d.id)})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map(d=>o.jsx(u,{document:d},(d==null?void 0:d.id)||Math.random()))}),l.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Dn,{className:"w-8 h-8 text-slate-400"})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No documents found"}),o.jsx("p",{className:"text-slate-600 mb-4",children:t||s!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"}),!t&&s==="all"&&o.jsx("button",{className:"bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-800 transition-colors",children:"Upload Your First Document"})]})]})},bH=({events:r,assets:e,contacts:t,documents:n,onUpdateEvent:s})=>{const[i,a]=M.useState("all"),[l,c]=M.useState("all"),u=[{id:"all",label:"All Events"},{id:"pending",label:"Pending"},{id:"in_progress",label:"In Progress"},{id:"completed",label:"Completed"},{id:"failed",label:"Failed"}],d=[{id:"all",label:"All Types"},{id:"asset_release",label:"Asset Release"},{id:"document_access",label:"Document Access"},{id:"notification_sent",label:"Notification"},{id:"verification_required",label:"Verification"}],f=r.filter(m=>{if(!m)return!1;const E=i==="all"||m.status===i,S=l==="all"||m.type===l;return E&&S}),h=m=>{switch(m){case"pending":return gt;case"in_progress":return ca;case"completed":return Dt;case"failed":return a7;default:return gt}},p=m=>{switch(m){case"pending":return"text-yellow-600 bg-yellow-100";case"in_progress":return"text-blue-600 bg-blue-100";case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";default:return"text-slate-600 bg-slate-100"}},g=m=>{switch(m){case"asset_release":return So;case"document_access":return Dn;case"notification_sent":return Js;case"verification_required":return kt;default:return gt}},x=m=>{const E=t.find(S=>S&&S.id===m);return(E==null?void 0:E.name)||"Unknown Beneficiary"},_=m=>{if(!m)return null;const E=e.find(S=>S&&S.id===m);return E==null?void 0:E.name},b=m=>{if(!m)return null;const E=n.find(S=>S&&S.id===m);return E==null?void 0:E.name},y=({event:m})=>{if(!m)return null;const E=h(m.status||"pending"),S=g(m.type||"notification_sent"),N=x(m.beneficiaryId||""),k=_(m.assetId),R=b(m.documentId);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:o.jsx(S,{className:"w-5 h-5 text-slate-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:(m.type||"unknown").replace("_"," ").replace(/\b\w/g,U=>U.toUpperCase())}),o.jsxs("p",{className:"text-xs text-slate-500",children:["For: ",N]})]})]}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${p(m.status||"pending")}`,children:[o.jsx(E,{className:"w-3 h-3"}),o.jsx("span",{children:(m.status||"pending").replace("_"," ")})]})]}),o.jsxs("div",{className:"space-y-3",children:[k&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(So,{className:"w-4 h-4 text-slate-400"}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Asset: ",k]})]}),R&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"w-4 h-4 text-slate-400"}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Document: ",R]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Js,{className:"w-4 h-4 text-slate-400"}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Triggered: ",m.triggeredDate?new Date(m.triggeredDate).toLocaleDateString():"Unknown"]})]}),m.completedDate&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{className:"w-4 h-4 text-green-500"}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Completed: ",new Date(m.completedDate).toLocaleDateString()]})]}),m.notes&&o.jsx("div",{className:"pt-2 border-t border-slate-100",children:o.jsx("p",{className:"text-sm text-slate-600",children:m.notes})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 mt-4",children:[o.jsxs("button",{className:"flex items-center space-x-1 text-sm text-slate-600 hover:text-slate-900 transition-colors",children:[o.jsx(Ud,{className:"w-4 h-4"}),o.jsx("span",{children:"View Details"})]}),m.status==="pending"&&o.jsx("button",{onClick:()=>s({...m,status:"in_progress"}),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Start Process"}),m.status==="in_progress"&&o.jsx("button",{onClick:()=>s({...m,status:"completed",completedDate:new Date().toISOString()}),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Complete"})]})]})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Inheritance Events"}),o.jsx("p",{className:"text-slate-600",children:"Track and manage inheritance-related events and processes"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kw,{className:"w-4 h-4 text-slate-600"}),o.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Status:"}),o.jsx("select",{value:i,onChange:m=>a(m.target.value),className:"px-3 py-1 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-slate-500 focus:border-transparent",children:u.map(m=>o.jsx("option",{value:m.id,children:m.label},m.id))})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Type:"}),o.jsx("select",{value:l,onChange:m=>c(m.target.value),className:"px-3 py-1 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-slate-500 focus:border-transparent",children:d.map(m=>o.jsx("option",{value:m.id,children:m.label},m.id))})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map(m=>o.jsx(y,{event:m},(m==null?void 0:m.id)||Math.random()))}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gt,{className:"w-8 h-8 text-slate-400"})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No events found"}),o.jsx("p",{className:"text-slate-600",children:i!=="all"||l!=="all"?"Try adjusting your filters":"Inheritance events will appear here when conditions are triggered"})]})]})},vH=({rules:r,contacts:e,onAddRule:t,onUpdateRule:n,onDeleteRule:s})=>{const[i,a]=M.useState(!1),[l,c]=M.useState(null),u=({rule:f,onClose:h})=>{const[p,g]=M.useState({name:(f==null?void 0:f.name)||"",trigger:(f==null?void 0:f.trigger)||"immediate",recipients:(f==null?void 0:f.recipients)||[],message:(f==null?void 0:f.message)||"",frequency:(f==null?void 0:f.frequency)||"once",isActive:(f==null?void 0:f.isActive)??!0}),x=b=>{b.preventDefault(),f?n({...f,...p}):t(p),h()},_=(b,y)=>{g(y?{...p,recipients:[...p.recipients,b]}:{...p,recipients:p.recipients.filter(m=>m!==b)})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[o.jsxs("h2",{className:"text-xl font-semibold text-slate-900",children:[f?"Edit":"Add"," Notification Rule"]}),o.jsx("button",{onClick:h,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(Hp,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rule Name *"}),o.jsx("input",{type:"text",required:!0,value:p.name,onChange:b=>g({...p,name:b.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Emergency Contact Notification"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Trigger *"}),o.jsxs("select",{value:p.trigger,onChange:b=>g({...p,trigger:b.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"immediate",children:"Immediate"}),o.jsx("option",{value:"time_based",children:"Time Based"}),o.jsx("option",{value:"condition_met",children:"When Condition Met"}),o.jsx("option",{value:"manual",children:"Manual Trigger"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Recipients *"}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-slate-300 rounded-lg p-3",children:e.map(b=>o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:p.recipients.includes(b.name),onChange:y=>_(b.name,y.target.checked),className:"rounded border-slate-300 text-purple-700 focus:ring-purple-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:b.name}),o.jsxs("span",{className:"text-xs text-slate-500",children:["(",b.email,")"]})]},b.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message *"}),o.jsx("textarea",{required:!0,value:p.message,onChange:b=>g({...p,message:b.target.value}),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter the notification message..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Frequency"}),o.jsxs("select",{value:p.frequency,onChange:b=>g({...p,frequency:b.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"once",children:"Once"}),o.jsx("option",{value:"daily",children:"Daily"}),o.jsx("option",{value:"weekly",children:"Weekly"}),o.jsx("option",{value:"monthly",children:"Monthly"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:p.isActive,onChange:b=>g({...p,isActive:b.target.checked}),className:"rounded border-slate-300 text-purple-700 focus:ring-purple-500"}),o.jsx("label",{className:"text-sm text-slate-700",children:"Active (rule will trigger automatically)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:h,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-700 text-white rounded-lg hover:bg-purple-800 transition-colors",children:[f?"Update":"Create"," Rule"]})]})]})]})})},d=({rule:f})=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${f.isActive?"bg-green-100":"bg-slate-100"}`,children:o.jsx(z0,{className:`w-5 h-5 ${f.isActive?"text-green-600":"text-slate-600"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:f.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-600"}`,children:f.isActive?"Active":"Inactive"}),o.jsx("span",{className:"text-xs text-slate-500",children:f.trigger.replace("_"," ")})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>c(f),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(Tw,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>s(f.id),className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(_o,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fn,{className:"w-4 h-4 text-slate-400"}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Recipients: ",f.recipients.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gt,{className:"w-4 h-4 text-slate-400"}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Frequency: ",f.frequency]})]}),o.jsx("div",{className:"pt-2 border-t border-slate-100",children:o.jsx("p",{className:"text-sm text-slate-600",children:f.message})}),f.lastSent&&o.jsx("div",{className:"pt-2 border-t border-slate-100",children:o.jsxs("p",{className:"text-xs text-slate-500",children:["Last sent: ",new Date(f.lastSent).toLocaleDateString()]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 mt-4",children:[o.jsxs("button",{onClick:()=>n({...f,isActive:!f.isActive}),className:`flex items-center space-x-1 text-sm transition-colors ${f.isActive?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"}`,children:[o.jsx(n7,{className:"w-4 h-4"}),o.jsx("span",{children:f.isActive?"Deactivate":"Activate"})]}),o.jsx("button",{className:"px-3 py-1 bg-purple-700 text-white text-sm rounded-lg hover:bg-purple-800 transition-colors",children:"Test Send"})]})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Notification Rules"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage automated notifications for beneficiaries and contacts"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:[o.jsx(Vp,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Rule"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map(f=>o.jsx(d,{rule:f},f.id))}),r.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(z0,{className:"w-8 h-8 text-purple-400"})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No notification rules"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Create automated notification rules to keep your beneficiaries informed"}),o.jsx("button",{onClick:()=>a(!0),className:"bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:"Create Your First Rule"})]}),i&&o.jsx(u,{onClose:()=>a(!1)}),l&&o.jsx(u,{rule:l,onClose:()=>c(null)})]})},wH=({onLogin:r,onViewPricing:e,onSignUp:t})=>{const n=[{icon:So,title:"Comprehensive Asset Tracking",description:"Complete inventory of financial accounts, property, digital assets, and personal valuables with voice-guided entry."},{icon:qe,title:"Bank-Level Security",description:"Your sensitive information is protected with enterprise-grade encryption and security protocols."},{icon:Fn,title:"Smart Beneficiary Management",description:"Easily designate and manage beneficiaries with detailed contact information and conditional access rules."},{icon:bj,title:"AI Voice Messages",description:"Record personalized voice messages that will be delivered to your loved ones using advanced AI voice synthesis."},{icon:kt,title:"Avatar Video Messages",description:"Create lifelike avatar videos that speak your words, providing comfort and guidance when you can't be there."},{icon:Dn,title:"Document Storage",description:"Securely store and organize important documents like wills, insurance policies, and legal papers."},{icon:$s,title:"Conditional Access Control",description:"Control who can access what information and when, with time-delayed release and knowledge verification options."},{icon:gt,title:"Automated Notifications",description:"Set up automated alerts and notifications to keep your beneficiaries informed when needed."}],s=[{name:"Sarah Mitchell",role:"Estate Planning Attorney",content:"Heritage Vault has revolutionized how I help clients organize their digital inheritance. The comprehensive asset management combined with AI voice messages creates a complete solution.",rating:5},{name:"David Chen",role:"Financial Advisor",content:"My clients love the professional asset tracking capabilities. The AI avatar feature is an incredible bonus that makes the inheritance process more personal and meaningful.",rating:5},{name:"Maria Rodriguez",role:"Family Trust Manager",content:"The document organization and asset management features are top-notch. The personalized messaging capabilities add a human touch that traditional estate planning lacks.",rating:5}];return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-700 rounded-lg",children:o.jsx(qe,{className:"w-6 h-6 text-white"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Heritage Vault"})})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{className:"text-slate-700 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors",children:"Features"}),o.jsx("button",{onClick:e,className:"text-slate-700 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors",children:"Pricing"}),o.jsx("button",{className:"text-slate-700 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors",children:"Security"}),o.jsx("button",{onClick:r,className:"text-purple-700 hover:text-purple-800 px-3 py-2 text-sm font-medium transition-colors",children:"Sign In"}),o.jsx("button",{onClick:t,className:"bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors text-sm font-medium",children:"Get Started"})]})]})})}),o.jsx("section",{className:"relative bg-gradient-to-br from-purple-50 to-purple-100 py-20 lg:py-32",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-purple-700 rounded-2xl",children:o.jsx(qe,{className:"w-10 h-10 text-white"})})}),o.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-slate-900 mb-6 leading-tight",children:["Secure Your Family's",o.jsx("span",{className:"block text-purple-800",children:"Digital Heritage"})]}),o.jsx("p",{className:"text-xl text-slate-700 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Professional digital inheritance management with comprehensive asset tracking, secure document storage, and AI-powered personalized messaging for your loved ones."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm border border-slate-200",children:[o.jsx(So,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-slate-800",children:"Asset Management"})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm border border-slate-200",children:[o.jsx(qe,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-slate-800",children:"Bank-Level Security"})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm border border-slate-200",children:[o.jsx(kt,{className:"w-4 h-4 text-purple-700"}),o.jsx("span",{className:"text-sm font-medium text-slate-800",children:"Avatar Video Message"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:t,className:"bg-purple-700 text-white px-8 py-4 rounded-lg hover:bg-purple-800 transition-all duration-200 text-lg font-semibold flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[o.jsx(jb,{className:"w-5 h-5"}),o.jsx("span",{children:"Start Free Forever"})]}),o.jsx("button",{onClick:e,className:"border-2 border-purple-700 text-purple-800 px-8 py-4 rounded-lg hover:border-purple-800 hover:bg-purple-50 transition-all duration-200 text-lg font-semibold",children:"View Pricing"})]}),o.jsx("p",{className:"text-sm text-slate-600 mt-4",children:"Start with 3 free assets • No credit card required • Upgrade anytime"})]})})}),o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4",children:"Complete Digital Inheritance Solution"}),o.jsx("p",{className:"text-xl text-slate-700 max-w-2xl mx-auto",children:"Professional-grade asset management enhanced with cutting-edge AI technology for personalized family communication."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((i,a)=>{const l=i.icon;return o.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 hover:bg-purple-100 transition-colors duration-200",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-700 rounded-lg mb-4",children:o.jsx(l,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:i.title}),o.jsx("p",{className:"text-slate-700 leading-relaxed text-sm",children:i.description})]},a)})})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-50 to-purple-100",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900",children:"Enhanced with AI-Powered Personal Messages"}),o.jsx("p",{className:"text-xl text-slate-700",children:"Beyond traditional asset management, Heritage Vault lets you create personalized voice and video messages that provide comfort and guidance to your loved ones when they need it most."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(Lc,{className:"w-5 h-5 text-purple-700"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:"AI Voice Messages"}),o.jsx("p",{className:"text-slate-700 text-sm",children:"Generate unlimited personalized audio messages for each asset and beneficiary using your voice."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(kt,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:"Avatar Video Messages"}),o.jsx("p",{className:"text-slate-700 text-sm",children:"Create lifelike video messages that look and sound like you, providing personal guidance."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(ni,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:"Voice-Guided Asset Entry"}),o.jsx("p",{className:"text-slate-700 text-sm",children:"Use voice commands to quickly add and organize your assets with natural language processing."})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-slate-200",children:[o.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg mb-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(Lc,{className:"w-6 h-6 text-purple-700"})}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(kt,{className:"w-6 h-6 text-blue-600"})})]}),o.jsx("p",{className:"text-slate-700 font-medium",children:"AI-Enhanced Asset Management"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Professional tools with personal touch"})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-sm text-slate-800",children:"Asset tracking & organization"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),o.jsx("span",{className:"text-sm text-slate-800",children:"Secure document storage"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),o.jsx("span",{className:"text-sm text-slate-800",children:"Personalized AI messages"})]})]})]})]})})}),o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4",children:"Simple Steps to Secure Your Heritage"}),o.jsx("p",{className:"text-xl text-slate-700 max-w-2xl mx-auto",children:"Professional estate planning made simple with modern technology and personal touches."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-700 rounded-full text-white text-2xl font-bold mb-6 mx-auto",children:"1"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Inventory Your Assets"}),o.jsx("p",{className:"text-slate-700",children:"Add your financial accounts, property, digital assets, and important documents using voice-guided entry or traditional forms."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-700 rounded-full text-white text-2xl font-bold mb-6 mx-auto",children:"2"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Designate Beneficiaries"}),o.jsx("p",{className:"text-slate-700",children:"Add your loved ones and specify who should receive what, with detailed instructions and conditional access rules."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-700 rounded-full text-white text-2xl font-bold mb-6 mx-auto",children:"3"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Create Personal Messages"}),o.jsx("p",{className:"text-slate-700",children:"Record voice messages and create AI avatar videos to provide personal guidance and comfort to your beneficiaries."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-700 rounded-full text-white text-2xl font-bold mb-6 mx-auto",children:"4"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Secure & Automate"}),o.jsx("p",{className:"text-slate-700",children:"Set access controls, time delays, and automated notifications to ensure everything happens according to your wishes."})]})]})]})}),o.jsx("section",{className:"py-20 bg-purple-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-6",children:"Simple, Transparent Pricing"}),o.jsx("p",{className:"text-xl text-slate-700 mb-8 leading-relaxed",children:"Start free with 3 assets and 1 next of kin. Upgrade to Pro for unlimited storage and AI features, or choose our lifetime plan for one-time payment convenience."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-slate-200",children:[o.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Free Forever"}),o.jsx("p",{className:"text-2xl font-bold text-slate-900 mb-2",children:"$0"}),o.jsx("p",{className:"text-sm text-slate-700",children:"3 assets • 1 next of kin"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-purple-700 relative",children:[o.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-purple-700 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Most Popular"}),o.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Pro"}),o.jsxs("p",{className:"text-2xl font-bold text-slate-900 mb-2",children:["$12",o.jsx("span",{className:"text-sm text-slate-700",children:"/month"})]}),o.jsx("p",{className:"text-sm text-slate-700",children:"Unlimited • AI features"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-slate-200",children:[o.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Forever"}),o.jsxs("p",{className:"text-2xl font-bold text-slate-900 mb-2",children:["$89",o.jsx("span",{className:"text-sm text-slate-700",children:" one-time"})]}),o.jsx("p",{className:"text-sm text-slate-700",children:"Lifetime access"})]})]}),o.jsx("button",{onClick:e,className:"bg-purple-700 text-white px-8 py-4 rounded-lg hover:bg-purple-800 transition-all duration-200 text-lg font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"View All Plans & Features"})]})}),o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4",children:"Trusted by Professionals and Families"}),o.jsx("p",{className:"text-xl text-slate-700 max-w-2xl mx-auto",children:"See what estate planning professionals and families are saying about Heritage Vault's comprehensive approach."})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:s.map((i,a)=>o.jsxs("div",{className:"bg-purple-50 rounded-xl p-8 shadow-sm",children:[o.jsx("div",{className:"flex items-center mb-4",children:[...Array(i.rating)].map((l,c)=>o.jsx(Sj,{className:"w-5 h-5 text-yellow-400 fill-current"},c))}),o.jsxs("p",{className:"text-slate-800 mb-6 italic leading-relaxed",children:['"',i.content,'"']}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-slate-900",children:i.name}),o.jsx("p",{className:"text-slate-700 text-sm",children:i.role})]})]},a))})]})}),o.jsx("section",{className:"py-20 bg-purple-700",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:"Start Protecting Your Family's Future Today"}),o.jsx("p",{className:"text-xl text-purple-100 mb-8 leading-relaxed",children:"Join thousands of families who have secured their digital heritage with professional asset management and personalized AI messaging. Your loved ones will thank you for the peace of mind."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-6",children:[o.jsxs("button",{onClick:t,className:"bg-white text-purple-800 px-8 py-4 rounded-lg hover:bg-purple-50 transition-all duration-200 text-lg font-semibold inline-flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[o.jsx(jb,{className:"w-5 h-5"}),o.jsx("span",{children:"Start Free Forever"})]}),o.jsx("button",{className:"border-2 border-purple-300 text-purple-100 px-8 py-4 rounded-lg hover:border-white hover:text-white transition-all duration-200 text-lg font-semibold",children:"Watch Demo"})]}),o.jsx("p",{className:"text-purple-200 text-sm",children:"No credit card required • Start with 3 free assets • Upgrade anytime"})]})}),o.jsx("footer",{className:"bg-purple-900 text-purple-100 py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white rounded-lg",children:o.jsx(qe,{className:"w-5 h-5 text-purple-700"})}),o.jsx("span",{className:"text-white font-bold",children:"Heritage Vault"})]}),o.jsx("p",{className:"text-sm",children:"Professional digital inheritance management with AI-enhanced personal messaging."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Asset Management"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"AI Voice Messages"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Security"})}),o.jsx("li",{children:o.jsx("button",{onClick:e,className:"hover:text-white transition-colors",children:"Pricing"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact Us"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold mb-4",children:"Enterprise"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"For Lawyers"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"For Hospitals"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"For Churches"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Partner Program"})})]})]})]}),o.jsx("div",{className:"border-t border-purple-800 mt-8 pt-8 text-center text-sm",children:o.jsx("p",{children:"© 2024 Heritage Vault. All rights reserved."})})]})})]})},_H=({onBack:r,onLogin:e})=>{const[t,n]=M.useState(!1),[s,i]=M.useState([{name:"Free Forever",price:"$0",period:"/forever",description:"Perfect for getting started with digital inheritance",features:["Up to 3 assets","1 next of kin","1 short text message","Basic security","Mobile app access","Email support"],buttonText:"Start Free",buttonStyle:"border-2 border-purple-700 text-purple-800 hover:border-purple-800 hover:bg-purple-50",popular:!1,badge:"Free"},{name:"HeritageVault Pro",price:"$12",period:"/month",yearlyPrice:"$120",yearlyPeriod:"/year",description:"Complete digital inheritance solution for families",features:["Unlimited asset storage","Multiple next of kin","Voice & video messages","Flash questions & tests","Custom avatar creation","Advanced release logic","Priority support","Multi-language support","Advanced security features"],buttonText:"Start 7-Day Free Trial",buttonStyle:"bg-purple-700 text-white hover:bg-purple-800",popular:!0,badge:"Most Popular"},{name:"HeritageVault Forever",price:"$89",period:"/one-time",description:"Lifetime access - perfect for those who hate subscriptions",features:["Unlimited assets","Lifetime storage","AI avatar creation","3 voice messages","10 flash questions","Vault release tracking","Exportable heritage report","Lifetime updates","No recurring fees"],buttonText:"Buy Lifetime Access",buttonStyle:"bg-gradient-to-r from-purple-700 to-pink-700 text-white hover:from-purple-800 hover:to-pink-800",popular:!1,badge:"Best Value"}]),a=[{name:"AI Voice Message",price:"$3.99",description:"Each additional personalized voice message",icon:Lc},{name:"Animated Avatar Message",price:"$4.99",description:"One-time custom avatar video creation",icon:kt},{name:"Multi-language Playback",price:"$2.99",description:"Spanish, French, German, or other language support",icon:$p}],l=["Co-branded Heritage Vaults","Bulk heritage plans for clients","Admin dashboards & reporting","White-label solutions","Custom integrations","Dedicated account manager","Training & onboarding","Priority technical support"];M.useEffect(()=>{c()},[]);const c=async()=>{try{if(jt.isConfigured()){await jt.initialize();const d=await jt.getSubscriptionPlans();d.length>0&&i(d)}}catch(d){console.error("Error loading plans:",d)}},u=d=>{d.name==="Free Forever"?e():n(!0)};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-slate-700 hover:text-slate-900 transition-colors",children:[o.jsx(Up,{className:"w-5 h-5"}),o.jsx("span",{children:"Back to Home"})]}),o.jsx("div",{className:"h-6 w-px bg-slate-300"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-700 rounded-lg",children:o.jsx(qe,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"text-lg font-bold text-slate-900",children:"Heritage Vault"})]})]}),o.jsx("button",{onClick:e,className:"bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors text-sm font-medium",children:"Sign In"})]})})}),o.jsx("section",{className:"bg-gradient-to-br from-purple-50 to-purple-100 py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-slate-900 mb-6",children:"Choose Your Heritage Plan"}),o.jsx("p",{className:"text-xl text-slate-700 mb-8 max-w-2xl mx-auto",children:"Start free and upgrade when you need more. Professional digital inheritance management for every family's needs."}),o.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-slate-600",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qe,{className:"w-4 h-4"}),o.jsx("span",{children:"256-bit encryption"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fn,{className:"w-4 h-4"}),o.jsx("span",{children:"US-based support team"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nj,{className:"w-4 h-4"}),o.jsx("span",{children:"Mobile app included"})]})]})]})}),o.jsx("section",{className:"py-16 bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:s.map((d,f)=>{const h=d.badge==="Most Popular"?V0:d.badge==="Free"?mj:d.badge==="Best Value"?gj:null;return o.jsxs("div",{className:`bg-white rounded-2xl shadow-lg border-2 transition-all duration-200 hover:shadow-xl ${d.popular?"border-purple-700 relative transform scale-105":"border-slate-200 hover:border-purple-300"}`,children:[d.badge&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center space-x-1 ${d.popular?"bg-purple-700 text-white":d.badge==="Free"?"bg-green-600 text-white":"bg-purple-700 text-white"}`,children:[h&&o.jsx(h,{className:"w-4 h-4"}),o.jsx("span",{children:d.badge})]})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:d.name}),o.jsx("p",{className:"text-slate-700 mb-4",children:d.description}),o.jsxs("div",{className:"flex items-baseline justify-center",children:[o.jsx("span",{className:"text-4xl font-bold text-slate-900",children:d.price}),o.jsx("span",{className:"text-slate-700 ml-1",children:d.period})]}),d.yearlyPrice&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("span",{className:"text-lg text-green-600 font-semibold",children:["or ",d.yearlyPrice,d.yearlyPeriod]}),o.jsx("span",{className:"text-sm text-green-600 block",children:"Save 2 months!"})]})]}),o.jsx("ul",{className:"space-y-4 mb-8",children:d.features.map((p,g)=>o.jsxs("li",{className:"flex items-start space-x-3",children:[o.jsx(Qs,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-slate-800 text-sm",children:p})]},g))}),o.jsx("button",{onClick:()=>u(d),className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${d.buttonStyle}`,children:d.buttonText})]})]},f)})})})}),o.jsx("section",{className:"py-16 bg-purple-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Premium Add-ons"}),o.jsx("p",{className:"text-slate-700",children:"Enhance your vault with optional premium features"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((d,f)=>{const h=d.icon;return o.jsxs("div",{className:"border border-purple-200 rounded-lg p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(h,{className:"w-5 h-5 text-purple-700"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900",children:d.name}),o.jsx("p",{className:"text-lg font-bold text-purple-700",children:d.price})]})]}),o.jsx("p",{className:"text-sm text-slate-700",children:d.description})]},f)})})]})})}),o.jsx("section",{className:"py-16 bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-700 to-purple-800 rounded-2xl p-8 lg:p-12 text-white",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Enterprise & Partner Solutions"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Perfect for lawyers, hospitals, churches, and HMOs who want to offer Heritage Vault to their clients."}),o.jsx("ul",{className:"space-y-3 mb-8",children:l.slice(0,4).map((d,f)=>o.jsxs("li",{className:"flex items-center space-x-3",children:[o.jsx(Qs,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),o.jsx("span",{className:"text-purple-100",children:d})]},f))}),o.jsx("button",{className:"bg-white text-purple-800 px-6 py-3 rounded-lg font-semibold hover:bg-purple-50 transition-colors",children:"Contact Sales"})]}),o.jsxs("div",{className:"bg-white/10 rounded-xl p-6",children:[o.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Additional Enterprise Features"}),o.jsx("ul",{className:"space-y-2",children:l.slice(4).map((d,f)=>o.jsxs("li",{className:"flex items-center space-x-3",children:[o.jsx(Qs,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),o.jsx("span",{className:"text-purple-100 text-sm",children:d})]},f))})]})]})})})}),o.jsx("section",{className:"py-16 bg-purple-50",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(qe,{className:"w-6 h-6 text-amber-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"High-Value Vault Security"}),o.jsx("p",{className:"text-amber-800 text-sm",children:"For vaults containing over $250,000 in declared assets, a small verification fee ($10 or 0.5% capped at $50) applies when beneficiaries unlock the vault. This covers enhanced digital security and verification processes."})]})]})})})}),o.jsx("section",{className:"py-16 bg-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Frequently Asked Questions"}),o.jsx("p",{className:"text-slate-700",children:"Everything you need to know about Heritage Vault pricing"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Can I upgrade or downgrade my plan anytime?"}),o.jsx("p",{className:"text-slate-700 text-sm",children:"Yes! You can upgrade to Pro anytime. If you downgrade, you'll keep Pro features until your current billing period ends."})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"What happens to my data if I cancel?"}),o.jsx("p",{className:"text-slate-700 text-sm",children:"Your data remains accessible for 90 days after cancellation. You can export everything or reactivate your account during this period."})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Is the Forever plan really lifetime?"}),o.jsx("p",{className:"text-slate-700 text-sm",children:"Yes! One payment gives you lifetime access to Heritage Vault with all included features. You'll also receive free updates and new features as we add them."})]})]})]})}),o.jsx("section",{className:"py-16 bg-purple-700",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Secure Your Family's Heritage?"}),o.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Start with our free plan and upgrade when you're ready for more features."}),o.jsx("button",{onClick:e,className:"bg-white text-purple-800 px-8 py-4 rounded-lg hover:bg-purple-50 transition-all duration-200 text-lg font-semibold",children:"Start Free Forever"}),o.jsx("p",{className:"text-purple-200 text-sm mt-4",children:"No credit card required • Start with 3 free assets • Upgrade anytime"})]})}),t&&o.jsx(Fw,{onClose:()=>n(!1)})]})},SH=({onBack:r})=>{const[e,t]=M.useState(!1),[n,s]=M.useState(!1),[i,a]=M.useState(1),[l,c]=M.useState({isAlive:!1,hasAccess:!1,contactsUpdated:!1,understandsImportance:!1}),u=g=>{g<4?a(g+1):d()},d=async()=>{t(!0);try{await new Promise(g=>setTimeout(g,2e3)),await Ea.processUserCheckin("current_user_id","aniefuna.chisom@gmail.com"),s(!0)}catch(g){console.error("Check-in failed:",g),alert("Check-in failed. Please try again.")}finally{t(!1)}},f=[{id:1,title:"Confirm Your Status",description:"Let us know you're doing well",icon:ni,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(ni,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"How are you doing?"}),o.jsx("p",{className:"text-slate-600",children:"This check-in helps ensure your Heritage Vault remains active and your loved ones know you're well."})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.isAlive,onChange:g=>c(x=>({...x,isAlive:g.target.checked})),className:"mt-1 rounded border-green-300 text-green-600 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-green-900",children:"I am alive and well"}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:"I confirm that I am in good health and able to manage my Heritage Vault account."})]})]})})]})},{id:2,title:"Account Access",description:"Verify you can access your account",icon:qe,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(qe,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Account Security"}),o.jsx("p",{className:"text-slate-600",children:"Confirm that you have full access to your Heritage Vault account and all its features."})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.hasAccess,onChange:g=>c(x=>({...x,hasAccess:g.target.checked})),className:"mt-1 rounded border-blue-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-blue-900",children:"I have full access to my account"}),o.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"I can log in, view my assets, and make changes to my Heritage Vault as needed."})]})]})})]})},{id:3,title:"Update Contacts",description:"Review your beneficiary information",icon:gt,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Contact Information"}),o.jsx("p",{className:"text-slate-600",children:"Ensure your beneficiaries' contact information is current and accurate."})]}),o.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.contactsUpdated,onChange:g=>c(x=>({...x,contactsUpdated:g.target.checked})),className:"mt-1 rounded border-purple-300 text-purple-600 focus:ring-purple-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-purple-900",children:"My contact information is up to date"}),o.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"I have reviewed and confirmed that all beneficiary contact details are current."})]})]})})]})},{id:4,title:"Final Confirmation",description:"Complete your check-in",icon:Dt,content:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Dt,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Almost Done!"}),o.jsx("p",{className:"text-slate-600",children:"Please confirm that you understand the importance of regular check-ins."})]}),o.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.understandsImportance,onChange:g=>c(x=>({...x,understandsImportance:g.target.checked})),className:"mt-1 rounded border-slate-300 text-slate-600 focus:ring-slate-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-slate-900",children:"I understand the importance of regular check-ins"}),o.jsx("p",{className:"text-sm text-slate-700 mt-1",children:"I understand that failing to complete check-ins may trigger inheritance processes to ensure my wishes are carried out."})]})]})}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"📅 Next Check-in"}),o.jsx("p",{className:"text-sm text-yellow-800",children:"Your next check-in will be due in 6 months. We'll send you reminders 30, 14, 7, and 1 days before the due date."})]})]})}],h=f[i-1];h.icon;const p=()=>{switch(i){case 1:return l.isAlive;case 2:return l.hasAccess;case 3:return l.contactsUpdated;case 4:return l.understandsImportance;default:return!1}};return n?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-8 shadow-2xl text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Dt,{className:"w-10 h-10 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Check-in Completed!"}),o.jsx("p",{className:"text-lg text-slate-700 mb-6",children:"Thank you for completing your 6-month check-in. Your Heritage Vault account remains active and your inheritance plan is secure."}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ What happens next:"}),o.jsxs("ul",{className:"text-sm text-green-800 space-y-1 text-left",children:[o.jsx("li",{children:'• Your account status has been updated to "Active"'}),o.jsx("li",{children:"• Your next check-in is scheduled for 6 months from today"}),o.jsx("li",{children:"• You'll receive reminder notifications before it's due"}),o.jsx("li",{children:"• Your beneficiaries will not be contacted"})]})]}),o.jsx("div",{className:"flex space-x-4 justify-center",children:o.jsx("button",{onClick:r,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Return to Dashboard"})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full shadow-2xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(Up,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"6-Month Check-in"}),o.jsxs("p",{className:"text-blue-100",children:["Step ",i," of ",f.length]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-blue-100",children:"Heritage Vault"}),o.jsx("div",{className:"text-xs text-blue-200",children:"Digital Inheritance Management"})]})]})}),o.jsxs("div",{className:"bg-slate-50 px-6 py-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:f.map((g,x)=>o.jsxs(Dv.Fragment,{children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${i>=g.id?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:i>g.id?o.jsx(Dt,{className:"w-4 h-4"}):g.id}),x<f.length-1&&o.jsx("div",{className:`flex-1 h-1 rounded ${i>g.id?"bg-blue-600":"bg-slate-200"}`})]},g.id))}),o.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:[h.title,": ",h.description]})]}),o.jsx("div",{className:"p-8",children:h.content}),o.jsx("div",{className:"bg-slate-50 px-8 py-6 border-t border-slate-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),disabled:i===1,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:r,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:"Cancel"}),i<f.length?o.jsx("button",{onClick:()=>u(i),disabled:!p(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:"Next Step"}):o.jsx("button",{onClick:()=>u(i),disabled:!p()||e,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:e?o.jsxs(o.Fragment,{children:[o.jsx(gt,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"w-4 h-4"}),o.jsx("span",{children:"Complete Check-in"})]})})]})]})})]})})},NH=({onBack:r,onSignUpSuccess:e,onSwitchToSignIn:t})=>{var Y,oe;const[n,s]=M.useState(1),[i,a]=M.useState(!1),[l,c]=M.useState(!1),[u,d]=M.useState(!1),[f,h]=M.useState(""),[p,g]=M.useState(""),[x,_]=M.useState({email:"",password:"",confirmPassword:"",fullName:"",phone:"",dateOfBirth:"",address:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",securityQuestion1:"",securityAnswer1:"",securityQuestion2:"",securityAnswer2:"",agreeToTerms:!1,agreeToPrivacy:!1,subscribeToUpdates:!0}),b=["What was the name of your first pet?","What is your mother's maiden name?","What city were you born in?","What was the name of your elementary school?","What is your favorite book?","What was your childhood nickname?","What is the name of the street you grew up on?","What was your first car?","What is your favorite movie?","What was the name of your first boss?"],y=["Spouse/Partner","Parent","Child","Sibling","Friend","Colleague","Neighbor","Other Family Member","Attorney","Doctor"],m=(A,O)=>{_(Z=>({...Z,[A]:O})),h("")},E=A=>{switch(A){case 1:if(!x.email||!x.password||!x.confirmPassword||!x.fullName)return h("Please fill in all required fields"),!1;if(x.password!==x.confirmPassword)return h("Passwords do not match"),!1;if(x.password.length<8)return h("Password must be at least 8 characters long"),!1;if(!/\S+@\S+\.\S+/.test(x.email))return h("Please enter a valid email address"),!1;break;case 2:if(!x.phone||!x.dateOfBirth)return h("Please fill in all required fields"),!1;break;case 3:if(!x.emergencyContactName||!x.emergencyContactPhone||!x.emergencyContactRelationship)return h("Please fill in all emergency contact fields"),!1;break;case 4:if(!x.securityQuestion1||!x.securityAnswer1||!x.securityQuestion2||!x.securityAnswer2)return h("Please complete both security questions"),!1;if(x.securityQuestion1===x.securityQuestion2)return h("Please choose different security questions"),!1;if(!x.agreeToTerms||!x.agreeToPrivacy)return h("Please agree to the Terms of Service and Privacy Policy"),!1;break}return!0},S=()=>{E(n)&&s(A=>A+1)},N=()=>{s(A=>A-1),h("")},k=async()=>{if(E(n)){a(!0),h("");try{const A=await Gs.signUp(x.email,x.password,{fullName:x.fullName,phone:x.phone,dateOfBirth:x.dateOfBirth,address:x.address,emergencyContactName:x.emergencyContactName,emergencyContactPhone:x.emergencyContactPhone,emergencyContactRelationship:x.emergencyContactRelationship,securityQuestion1:x.securityQuestion1,securityAnswer1:x.securityAnswer1,securityQuestion2:x.securityQuestion2,securityAnswer2:x.securityAnswer2});A.success?(g(A.message||"Account created successfully!"),setTimeout(()=>{e(A.user)},2e3)):h(_l(A.error))}catch(A){h(_l(A))}finally{a(!1)}}},R=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kt,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Create Your Account"}),o.jsx("p",{className:"text-slate-600",children:"Start securing your digital heritage today"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",value:x.fullName,onChange:A=>m("fullName",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address *"}),o.jsxs("div",{className:"relative",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"email",value:x.email,onChange:A=>m("email",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:l?"text":"password",value:x.password,onChange:A=>m("password",A.target.value),className:"w-full pl-10 pr-12 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Create a strong password"}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l?o.jsx(H0,{className:"w-5 h-5"}):o.jsx(Ud,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Must be at least 8 characters long"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirm Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:u?"text":"password",value:x.confirmPassword,onChange:A=>m("confirmPassword",A.target.value),className:"w-full pl-10 pr-12 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:u?o.jsx(H0,{className:"w-5 h-5"}):o.jsx(Ud,{className:"w-5 h-5"})})]})]})]})]}),U=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kt,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Personal Information"}),o.jsx("p",{className:"text-slate-600",children:"Help us personalize your experience"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"tel",value:x.phone,onChange:A=>m("phone",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date of Birth *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"date",value:x.dateOfBirth,onChange:A=>m("dateOfBirth",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Address (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(zp,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),o.jsx("textarea",{value:x.address,onChange:A=>m("address",A.target.value),rows:3,className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full address"})]})]})]})]}),B=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ni,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Emergency Contact"}),o.jsx("p",{className:"text-slate-600",children:"Someone we can reach in case of emergency"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Emergency Contact Name *"}),o.jsx("input",{type:"text",value:x.emergencyContactName,onChange:A=>m("emergencyContactName",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter contact's full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Emergency Contact Phone *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"tel",value:x.emergencyContactPhone,onChange:A=>m("emergencyContactPhone",A.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relationship *"}),o.jsxs("select",{value:x.emergencyContactRelationship,onChange:A=>m("emergencyContactRelationship",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select relationship"}),y.map(A=>o.jsx("option",{value:A,children:A},A))]})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Why do we need this?"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Your emergency contact helps us verify your identity and can assist with account recovery if needed. They will also be part of your Heritage Vault's check-in system."})]})]}),J=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(qP,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Security Questions"}),o.jsx("p",{className:"text-slate-600",children:"Additional security for account recovery"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Security Question 1 *"}),o.jsxs("select",{value:x.securityQuestion1,onChange:A=>m("securityQuestion1",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mb-3",children:[o.jsx("option",{value:"",children:"Choose a security question"}),b.map(A=>o.jsx("option",{value:A,children:A},A))]}),o.jsx("input",{type:"text",value:x.securityAnswer1,onChange:A=>m("securityAnswer1",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your answer"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Security Question 2 *"}),o.jsxs("select",{value:x.securityQuestion2,onChange:A=>m("securityQuestion2",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mb-3",children:[o.jsx("option",{value:"",children:"Choose a different security question"}),b.filter(A=>A!==x.securityQuestion1).map(A=>o.jsx("option",{value:A,children:A},A))]}),o.jsx("input",{type:"text",value:x.securityAnswer2,onChange:A=>m("securityAnswer2",A.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your answer"})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-200",children:[o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x.agreeToTerms,onChange:A=>m("agreeToTerms",A.target.checked),className:"mt-1 rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),o.jsxs("span",{className:"text-sm text-slate-700",children:["I agree to the ",o.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-800 underline",children:"Terms of Service"})," *"]})]}),o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x.agreeToPrivacy,onChange:A=>m("agreeToPrivacy",A.target.checked),className:"mt-1 rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),o.jsxs("span",{className:"text-sm text-slate-700",children:["I agree to the ",o.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-800 underline",children:"Privacy Policy"})," *"]})]}),o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x.subscribeToUpdates,onChange:A=>m("subscribeToUpdates",A.target.checked),className:"mt-1 rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:"Subscribe to product updates and security notifications"})]})]})]})]}),Q=[{id:1,title:"Account",description:"Basic account information"},{id:2,title:"Personal",description:"Personal details"},{id:3,title:"Emergency",description:"Emergency contact"},{id:4,title:"Security",description:"Security questions"}];return p?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Dt,{className:"w-8 h-8 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Account Created!"}),o.jsx("p",{className:"text-slate-600 mb-6",children:p}),o.jsx("div",{className:"animate-pulse",children:o.jsx("p",{className:"text-sm text-slate-500",children:"Redirecting to your dashboard..."})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full shadow-2xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(Up,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Join Heritage Vault"}),o.jsxs("p",{className:"text-purple-100",children:["Step ",n," of ",Q.length]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qe,{className:"w-6 h-6"}),o.jsx("span",{className:"text-sm",children:"Secure Registration"})]})]})}),o.jsxs("div",{className:"bg-slate-50 px-6 py-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:Q.map((A,O)=>o.jsxs(Dv.Fragment,{children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n>=A.id?"bg-purple-600 text-white":"bg-slate-200 text-slate-600"}`,children:n>A.id?o.jsx(Dt,{className:"w-4 h-4"}):A.id}),O<Q.length-1&&o.jsx("div",{className:`flex-1 h-1 rounded ${n>A.id?"bg-purple-600":"bg-slate-200"}`})]},A.id))}),o.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:[(Y=Q[n-1])==null?void 0:Y.title,": ",(oe=Q[n-1])==null?void 0:oe.description]})]}),o.jsxs("div",{className:"p-6",children:[n===1&&R(),n===2&&U(),n===3&&B(),n===4&&J(),f&&o.jsxs("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[o.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-red-800 text-sm",children:f})]})]}),o.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:N,disabled:n===1,className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:t,className:"px-6 py-2 text-purple-600 hover:text-purple-800 transition-colors",children:"Already have an account?"}),n<Q.length?o.jsx("button",{onClick:S,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Next"}):o.jsx("button",{onClick:k,disabled:i,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-400 transition-colors flex items-center space-x-2",children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Creating Account..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(jb,{className:"w-4 h-4"}),o.jsx("span",{children:"Create Account"})]})})]})]})})]})})},EH=({onBack:r,onSignInSuccess:e,onSwitchToSignUp:t})=>{const[n,s]=M.useState({email:"",password:"",rememberMe:!1}),[i,a]=M.useState(!1),[l,c]=M.useState(!1),[u,d]=M.useState(""),[f,h]=M.useState(!1),[p,g]=M.useState(""),[x,_]=M.useState(""),b=(E,S)=>{s(N=>({...N,[E]:S})),d("")},y=async E=>{if(E.preventDefault(),!n.email||!n.password){d("Please enter both email and password");return}c(!0),d("");try{const S=await Gs.signIn(n.email,n.password);S.success?e(S.user):d(_l(S.error))}catch(S){d(_l(S))}finally{c(!1)}},m=async E=>{if(E.preventDefault(),!p){d("Please enter your email address");return}c(!0),d(""),_("");try{const S=await Gs.resetPassword(p);S.success?(_(S.message||"Password reset email sent successfully"),h(!1),g("")):d(_l(S.error))}catch(S){d(_l(S))}finally{c(!1)}};return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hs,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Reset Password"}),o.jsx("p",{className:"text-slate-600",children:"Enter your email to receive reset instructions"})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"email",value:p,onChange:E=>g(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),u&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[o.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-red-800 text-sm",children:u})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Back to Sign In"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-400 transition-colors",children:l?"Sending...":"Send Reset Email"})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(Up,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Welcome Back"}),o.jsx("p",{className:"text-purple-100",children:"Sign in to your Heritage Vault"})]})]}),o.jsx(qe,{className:"w-8 h-8"})]})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"email",value:n.email,onChange:E=>b("email",E.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:i?"text":"password",value:n.password,onChange:E=>b("password",E.target.value),className:"w-full pl-10 pr-12 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:i?o.jsx(H0,{className:"w-5 h-5"}):o.jsx(Ud,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.rememberMe,onChange:E=>b("rememberMe",E.target.checked),className:"rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:"Remember me"})]}),o.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-sm text-purple-600 hover:text-purple-800 transition-colors",children:"Forgot password?"})]}),u&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[o.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-red-800 text-sm",children:u})]}),x&&o.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2",children:[o.jsx(hs,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),o.jsx("p",{className:"text-green-800 text-sm",children:x})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-slate-400 transition-colors flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Signing In..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(e7,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign In"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-slate-600",children:["Don't have an account?"," ",o.jsx("button",{onClick:t,className:"text-purple-600 hover:text-purple-800 font-medium transition-colors",children:"Sign up here"})]})})]}),o.jsx("div",{className:"bg-slate-50 px-8 py-4 border-t border-slate-200",children:o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-slate-600",children:[o.jsx("span",{children:"🔒 Bank-level security"}),o.jsx("span",{children:"•"}),o.jsx("span",{children:"🛡️ End-to-end encryption"})]})})]})})},jH=({userProfile:r,onSignOut:e,onUpdateProfile:t})=>{const[n,s]=M.useState(!1),[i,a]=M.useState({}),[l,c]=M.useState(!1),[u,d]=M.useState(null),[f,h]=M.useState(null),[p,g]=M.useState(!1),[x,_]=M.useState(null);M.useEffect(()=>{r&&a({full_name:r.full_name,phone:r.phone||"",date_of_birth:r.date_of_birth||"",address:r.address||"",emergency_contact_name:r.emergency_contact_name||"",emergency_contact_phone:r.emergency_contact_phone||"",emergency_contact_relationship:r.emergency_contact_relationship||""}),b()},[r]);const b=async()=>{try{if(jt.isConfigured()){await jt.initialize();const N=await jt.getUserSubscription();_(N)}}catch(N){console.error("Error loading subscription data:",N)}},y=(N,k)=>{a(R=>({...R,[N]:k})),d(null)},m=async()=>{if(r){c(!0),d(null),h(null);try{const N=await Gs.updateUserProfile(r.id,i);N.success?(h("Profile updated successfully!"),t({...r,...i}),s(!1)):d(N.error||"Failed to update profile")}catch(N){d(N.message||"An unexpected error occurred")}finally{c(!1)}}},E=async()=>{try{await Gs.signOut(),e()}catch(N){console.error("Error signing out:",N)}},S=N=>{_(N)};return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"My Profile"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your account information and preferences"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 bg-purple-700 text-white px-4 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:[o.jsx(t_,{className:"w-4 h-4"}),o.jsx("span",{children:"Manage Subscription"})]}),o.jsxs("button",{onClick:E,className:"flex items-center space-x-2 bg-slate-200 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-300 transition-colors",children:[o.jsx(yj,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})]})]}),o.jsx("div",{className:`p-4 rounded-lg ${(x==null?void 0:x.plan)==="forever"?"bg-purple-50 border border-purple-200":(x==null?void 0:x.plan)==="pro"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${(x==null?void 0:x.plan)==="forever"?"bg-purple-100":(x==null?void 0:x.plan)==="pro"?"bg-blue-100":"bg-green-100"}`,children:o.jsx(qe,{className:`w-5 h-5 ${(x==null?void 0:x.plan)==="forever"?"text-purple-600":(x==null?void 0:x.plan)==="pro"?"text-blue-600":"text-green-600"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:(x==null?void 0:x.plan)==="forever"?"Lifetime Access":(x==null?void 0:x.plan)==="pro"?"Pro Subscription":"Free Plan"}),o.jsx("p",{className:"text-sm text-slate-600",children:x?Dw(x):"Subscription status unavailable"})]})]}),o.jsx("button",{onClick:()=>g(!0),className:`px-4 py-2 rounded-lg text-sm ${(x==null?void 0:x.plan)==="free"?"bg-purple-600 text-white hover:bg-purple-700":"border border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:(x==null?void 0:x.plan)==="free"?"Upgrade Plan":"Manage Plan"})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Personal Information"}),o.jsxs("button",{onClick:()=>s(!n),className:"flex items-center space-x-2 px-3 py-1 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors text-sm",children:[o.jsx(Tw,{className:"w-4 h-4"}),o.jsx("span",{children:n?"Cancel":"Edit Profile"})]})]}),u&&o.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[o.jsx(ca,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-red-800 text-sm",children:u})]}),f&&o.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),o.jsx("p",{className:"text-green-800 text-sm",children:f})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(kt,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Full Name"})]}),n?o.jsx("input",{type:"text",value:i.full_name||"",onChange:N=>y("full_name",N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.full_name})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(hs,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email Address"})]}),o.jsx("p",{className:"text-slate-900",children:r.email}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Email cannot be changed"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Bd,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Phone Number"})]}),n?o.jsx("input",{type:"tel",value:i.phone||"",onChange:N=>y("phone",N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.phone||"Not provided"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Js,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Date of Birth"})]}),n?o.jsx("input",{type:"date",value:i.date_of_birth||"",onChange:N=>y("date_of_birth",N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.date_of_birth||"Not provided"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(zp,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Address"})]}),n?o.jsx("textarea",{value:i.address||"",onChange:N=>y("address",N.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.address||"Not provided"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Emergency Contact"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(kt,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Contact Name"})]}),n?o.jsx("input",{type:"text",value:i.emergency_contact_name||"",onChange:N=>y("emergency_contact_name",N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.emergency_contact_name||"Not provided"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Bd,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Contact Phone"})]}),n?o.jsx("input",{type:"tel",value:i.emergency_contact_phone||"",onChange:N=>y("emergency_contact_phone",N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.emergency_contact_phone||"Not provided"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(kt,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Relationship"})]}),n?o.jsx("input",{type:"text",value:i.emergency_contact_relationship||"",onChange:N=>y("emergency_contact_relationship",N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):o.jsx("p",{className:"text-slate-900",children:r.emergency_contact_relationship||"Not provided"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Account Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(qe,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Account Status"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.account_status==="active"?"bg-green-100 text-green-800":r.account_status==="inactive"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.account_status})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(t_,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Subscription Plan"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.subscription_plan==="forever"?"bg-purple-100 text-purple-800":r.subscription_plan==="pro"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:r.subscription_plan})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Js,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Account Created"})]}),o.jsx("p",{className:"text-slate-900",children:new Date(r.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Js,{className:"w-4 h-4 text-slate-400"}),o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Last Login"})]}),o.jsx("p",{className:"text-slate-900",children:r.last_login?new Date(r.last_login).toLocaleDateString():"Never"})]})]})]}),n&&o.jsxs("div",{className:"flex justify-end",children:[o.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors mr-3",children:"Cancel"}),o.jsx("button",{onClick:m,disabled:l,className:"px-4 py-2 bg-purple-700 text-white rounded-lg hover:bg-purple-800 disabled:bg-slate-400 transition-colors",children:l?"Saving...":"Save Changes"})]}),p&&o.jsx(Fw,{onClose:()=>g(!1),onSubscriptionChange:S})]}):o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(kt,{className:"w-8 h-8 text-slate-400 mx-auto mb-3"}),o.jsx("p",{className:"text-slate-600",children:"User profile not available"})]})})};function AH(){const[r,e]=M.useState("homepage"),[t,n]=M.useState("dashboard"),[s,i]=M.useState(null),[a,l]=M.useState(null),[c,u]=M.useState(!0),[d,f]=M.useState([]),[h,p]=M.useState([]),[g,x]=M.useState([]),[_,b]=M.useState([]),[y,m]=M.useState([]);M.useEffect(()=>{E();const{data:{subscription:G}}=Gs.onAuthStateChange(async(pe,X)=>{pe==="SIGNED_IN"&&(X!=null&&X.user)?await S(X.user):pe==="SIGNED_OUT"&&N()});return()=>G.unsubscribe()},[]);const E=async()=>{try{const G=await Gs.getCurrentUser();G&&await S(G)}catch(G){console.error("Error checking auth state:",G)}finally{u(!1)}},S=async G=>{i(G);const pe=await Gs.getUserProfile(G.id);l(pe),await k(G.id),e("app"),n("dashboard")},N=()=>{i(null),l(null),f([]),p([]),x([]),b([]),m([]),e("homepage"),n("dashboard")},k=async G=>{try{const[pe,X,he]=await Promise.all([yg.getUserAssets(G),yg.getUserContacts(G),yg.getUserDocuments(G)]);f(pe.map(le=>({id:le.id,name:le.name,category:le.category,type:le.type,value:le.value,location:le.location,instructions:le.instructions,beneficiaries:le.beneficiaries||[],dateAdded:le.created_at.split("T")[0],lastUpdated:le.updated_at.split("T")[0],releaseConditions:le.release_conditions||[]}))),p(X.map(le=>({id:le.id,name:le.name,relationship:le.relationship,email:le.email,phone:le.phone,address:le.address,isPrimaryBeneficiary:le.is_primary_beneficiary,dateAdded:le.created_at.split("T")[0],emergencyContact:le.is_emergency_contact,verificationMethod:le.verification_method}))),x(he.map(le=>({id:le.id,name:le.name,category:le.category,type:le.type,size:le.size,location:le.location,description:le.description,dateAdded:le.created_at.split("T")[0],lastUpdated:le.updated_at.split("T")[0],accessLevel:le.access_level}))),b([]),m([])}catch(pe){console.error("Error loading user data:",pe)}},R=async()=>{try{await Gs.signOut()}catch(G){console.error("Error signing out:",G)}},U=G=>{b(pe=>pe.map(X=>X.id===G.id?G:X))},B=G=>{const pe={...G,id:Date.now().toString()};m([...y,pe])},J=G=>{m(pe=>pe.map(X=>X.id===G.id?G:X))},Q=G=>{m(pe=>pe.filter(X=>X.id!==G))},Y=G=>{l(G)},oe=()=>{e("signin")},A=()=>{e("signup")},O=()=>{e("homepage"),n("dashboard")},Z=()=>{e("pricing")},P=()=>{e("homepage")},F=()=>{e("app"),n("dashboard")},T=()=>{e("profile")},W=()=>{switch(t){case"assets":return o.jsx(xH,{assets:d,setAssets:f,contacts:h});case"contacts":return o.jsx(gH,{contacts:h,setContacts:p});case"documents":return o.jsx(yH,{documents:g,setDocuments:x});case"events":return o.jsx(bH,{events:_,assets:d,contacts:h,documents:g,onUpdateEvent:U});case"notifications":return o.jsx(vH,{rules:y,contacts:h,onAddRule:B,onUpdateRule:J,onDeleteRule:Q});default:return o.jsx(TT,{assets:d,contacts:h,documents:g})}};return c?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-600",children:"Loading Heritage Vault..."})]})}):r==="homepage"?o.jsx(wH,{onLogin:oe,onViewPricing:Z,onSignUp:A}):r==="pricing"?o.jsx(_H,{onBack:P,onLogin:oe}):r==="signup"?o.jsx(NH,{onBack:P,onSignUpSuccess:S,onSwitchToSignIn:()=>e("signin")}):r==="signin"?o.jsx(EH,{onBack:P,onSignInSuccess:S,onSwitchToSignUp:()=>e("signup")}):r==="checkin"?o.jsx(SH,{onBack:F}):r==="profile"?o.jsxs("div",{className:"min-h-screen bg-slate-50",children:[o.jsx(s_,{onGoHome:O,onSignOut:R,currentUser:s,userProfile:a,onGoToProfile:T}),o.jsxs("div",{className:"flex",children:[o.jsx(i_,{currentView:t,setCurrentView:n}),o.jsx("main",{className:"flex-1 p-6",children:o.jsx(jH,{userProfile:a,onSignOut:R,onUpdateProfile:Y})})]})]}):o.jsxs("div",{className:"min-h-screen bg-slate-50",children:[o.jsx(s_,{onGoHome:O,onSignOut:R,currentUser:s,userProfile:a,onGoToProfile:T}),o.jsxs("div",{className:"flex",children:[o.jsx(i_,{currentView:t,setCurrentView:n}),o.jsx("main",{className:"flex-1 p-6",children:W()})]})]})}hj(document.getElementById("root")).render(o.jsx(M.StrictMode,{children:o.jsx(AH,{})}));
